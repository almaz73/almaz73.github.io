<section class="swiper mySwiper">
    <div class="swiper-wrapper">
        <div class="swiper-slide">
            <a href="%VITE_PROD_URL%/promo/644340/">
                <img class="img_lg" src="photo/1/1200х501.webp" alt="Сделка через салон">
                <img class="img_md" src="photo/1/585х200.webp" alt="Сделка через салон">
                <img class="img_sm" src="photo/1/250x362.webp" alt="Сделка через салон">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="%VITE_PROD_URL%/promo/647168/">
                <img class="img_lg" src="photo/2/1200х501.webp" alt="Постановка на учёт в ГИБДД" loading="lazy">
                <img class="img_md" src="photo/2/585х200.webp" alt="Постановка на учёт в ГИБДД" loading="lazy">
                <img class="img_sm" src="photo/2/250x362.webp" alt="Постановка на учёт в ГИБДД" loading="lazy">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="%VITE_PROD_URL%/promo/647169/">
                <img class="img_lg" src="photo/3/1200х501.webp" alt="Поставьте авто на комиссию" loading="lazy">
                <img class="img_md" src="photo/3/585х200.webp" alt="Поставьте авто на комиссию" loading="lazy">
                <img class="img_sm" src="photo/3/250x362.webp" alt="Поставьте авто на комиссию" loading="lazy">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="%VITE_PROD_URL%/promo/633448/">
                <img class="img_lg" src="photo/4/1200х501.webp" alt="Премиум авто" loading="lazy">
                <img class="img_md" src="photo/4/585х200.webp" alt="Премиум авто" loading="lazy">
                <img class="img_sm" src="photo/4/250x362.webp" alt="Премиум авто" loading="lazy">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="https://xn--80aej9aped4f.xn--p1ai/services/remont-electric/">
                <img class="img_lg" src="photo/5/1200х501.webp" alt="Ремонт автоэлектрики" loading="lazy">
                <img class="img_md" src="photo/5/585х200.webp" alt="Ремонт автоэлектрики" loading="lazy">
                <img class="img_sm" src="photo/5/250x362.webp" alt="Ремонт автоэлектрики" loading="lazy">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="%VITE_PROD_URL%/promo/644223/">
                <img class="img_lg" src="photo/6/1200х501.webp" alt="Выкуп автомобилей с пробегом" loading="lazy">
                <img class="img_md" src="photo/6/585х200.webp" alt="Выкуп автомобилей с пробегом" loading="lazy">
                <img class="img_sm" src="photo/6/250x362.webp" alt="Выкуп автомобилей с пробегом" loading="lazy">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="%VITE_PROD_URL%/promo/644223/">
                <img class="img_lg" src="photo/7/1200х501.webp" alt="Выкуп автомобилей с пробегом" loading="lazy">
                <img class="img_md" src="photo/7/585х200.webp" alt="Выкуп автомобилей с пробегом" loading="lazy">
                <img class="img_sm" src="photo/7/250x362.webp" alt="Выкуп автомобилей с пробегом" loading="lazy">
            </a>
        </div>
    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
</section>

<link rel="stylesheet" href="swiper-bundle.min.css"/>
<link rel="stylesheet" href="/src/css/swiper.css"/>

<script>
    const img = new Image();

    document.addEventListener('DOMContentLoaded', () => {
        let width = document.body.clientWidth
        if (width < 500) img.src = 'photo/1/250x362.webp';
        if (width >= 500 && width <= 1000) img.src = 'photo/1/585х200.webp';
        if (width > 500) img.src = 'photo/1/1200х501.webp';
    })

    img.addEventListener('load', () => {
        new Swiper('.mySwiper', {
            spaceBetween: 30,
            loop: true,
            autoHeight: true,
            centeredSlides: true,
            autoplay: {
                delay: 5000,
                disableOnInteraction: false
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev'
            },
            on: {
                init() {
                    let isUsed = false
                    this.el.addEventListener('click', () => {
                        this.autoplay.stop();
                        isUsed = true
                    })
                    this.el.addEventListener('mouseenter', () => this.autoplay.stop())
                    this.el.addEventListener('mouseleave', () => !isUsed && this.autoplay.start())
                }
            }
        })
    })

</script>
