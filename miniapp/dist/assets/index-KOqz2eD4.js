function $s(){const n=["LelIH","2318337cEglxp","hXGnl","use-credentials","querySelectorAll","mQPBP","8NTQJeF","supports","qdVNW",'link[rel="modulepreload"]',"wvArj","LINK","include","tagName","18kGlDow","rel","rAkSp","VueEH","qdcvN","233718NDTjOf","observe","integrity","addedNodes","oOSVO","ovdCg","relList","same-origin","hmKiP","348hneBtu","2529486OaMUCd","CvKER","10ZhAyUX","VyyOs","link","crossOrigin","5460224HlsPzM","309153LBZvZY","referrerPolicy","200788vcssno","credentials","nXJAd","href","677394vWJdTc","3dMzpYw","15nydjqu"];return $s=function(){return n},$s()}function Ks(n,e){const t=$s();return Ks=function(s,i){return s=s-444,t[s]},Ks(n,e)}(function(n,e){const t=Ks,s=n();for(;;)try{if(-parseInt(t(450))/1*(parseInt(t(471))/2)+parseInt(t(466))/3*(-parseInt(t(445))/4)+-parseInt(t(451))/5*(-parseInt(t(449))/6)+-parseInt(t(453))/7*(parseInt(t(458))/8)+parseInt(t(481))/9*(-parseInt(t(483))/10)+parseInt(t(487))/11+parseInt(t(480))/12*(parseInt(t(488))/13)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})($s,260726),function(){const e=Ks,t={qdVNW:function(o,l){return o!==l},thnsu:function(o,l){return o===l},wvArj:e(463),rAkSp:function(o,l){return o===l},LelIH:"modulepreload",mQPBP:function(o,l){return o===l},VyyOs:e(455),qdcvN:e(464),nXJAd:function(o,l){return o===l},ovdCg:"anonymous",CvKER:"omit",VueEH:e(478),hXGnl:function(o,l){return o(l)},oOSVO:function(o,l,a){return o(l,a)},hmKiP:e(461)},s=document.createElement(e(485))[e(477)];if(s&&s.supports&&s[e(459)](t[e(452)]))return;for(const o of document[e(456)](t[e(479)]))t[e(454)](r,o);new MutationObserver(o=>{const l=e;for(const a of o)if(!t[l(460)](a.type,"childList"))for(const c of a[l(474)])t.thnsu(c[l(465)],t[l(462)])&&t[l(468)](c[l(467)],t.LelIH)&&r(c)})[e(472)](document,{childList:!0,subtree:!0});function i(o){const l=e,a={};return o[l(473)]&&(a[l(473)]=o[l(473)]),o[l(444)]&&(a.referrerPolicy=o[l(444)]),t[l(457)](o[l(486)],t[l(484)])?a.credentials=t[l(470)]:t[l(447)](o.crossOrigin,t[l(476)])?a.credentials=t[l(482)]:a[l(446)]=t[l(469)],a}function r(o){const l=e;if(o.ep)return;o.ep=!0;const a=t.hXGnl(i,o);t[l(475)](fetch,o[l(448)],a)}}();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ho(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const ue={},mn=[],pt=()=>{},Wf=()=>!1,Wi=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),po=n=>n.startsWith("onUpdate:"),De=Object.assign,_o=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},Uf=Object.prototype.hasOwnProperty,oe=(n,e)=>Uf.call(n,e),G=Array.isArray,bn=n=>Ui(n)==="[object Map]",Ha=n=>Ui(n)==="[object Set]",q=n=>typeof n=="function",Ce=n=>typeof n=="string",jt=n=>typeof n=="symbol",me=n=>n!==null&&typeof n=="object",Va=n=>(me(n)||q(n))&&q(n.then)&&q(n.catch),ja=Object.prototype.toString,Ui=n=>ja.call(n),Hf=n=>Ui(n).slice(8,-1),za=n=>Ui(n)==="[object Object]",xo=n=>Ce(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Kn=ho(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hi=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Vf=/-(\w)/g,et=Hi(n=>n.replace(Vf,(e,t)=>t?t.toUpperCase():"")),jf=/\B([A-Z])/g,ln=Hi(n=>n.replace(jf,"-$1").toLowerCase()),Vi=Hi(n=>n.charAt(0).toUpperCase()+n.slice(1)),fr=Hi(n=>n?`on${Vi(n)}`:""),Dt=(n,e)=>!Object.is(n,e),js=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},Ga=(n,e,t,s=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:s,value:t})},Dr=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let pl;const ji=()=>pl||(pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function go(n){if(G(n)){const e={};for(let t=0;t<n.length;t++){const s=n[t],i=Ce(s)?$f(s):go(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Ce(n)||me(n))return n}const zf=/;(?![^(]*\))/g,Gf=/:([^]+)/,qf=/\/\*[^]*?\*\//g;function $f(n){const e={};return n.replace(qf,"").split(zf).forEach(t=>{if(t){const s=t.split(Gf);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function yn(n){let e="";if(Ce(n))e=n;else if(G(n))for(let t=0;t<n.length;t++){const s=yn(n[t]);s&&(e+=s+" ")}else if(me(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Kf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yf=ho(Kf);function qa(n){return!!n||n===""}const $a=n=>!!(n&&n.__v_isRef===!0),ge=n=>Ce(n)?n:n==null?"":G(n)||me(n)&&(n.toString===ja||!q(n.toString))?$a(n)?ge(n.value):JSON.stringify(n,Ka,2):String(n),Ka=(n,e)=>$a(e)?Ka(n,e.value):bn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[s,i],r)=>(t[hr(s,r)+" =>"]=i,t),{})}:Ha(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>hr(t))}:jt(e)?hr(e):me(e)&&!G(e)&&!za(e)?String(e):e,hr=(n,e="")=>{var t;return jt(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Le;class Ya{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Le,!e&&Le&&(this.index=(Le.scopes||(Le.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Le;try{return Le=this,e()}finally{Le=t}}}on(){Le=this}off(){Le=this.parent}stop(e){if(this._active){this._active=!1;let t,s;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].stop();for(this.effects.length=0,t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Qa(n){return new Ya(n)}function Xa(){return Le}function Qf(n,e=!1){Le&&Le.cleanups.push(n)}let de;const dr=new WeakSet;class Ja{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Le&&Le.active&&Le.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,dr.has(this)&&(dr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ec(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_l(this),tc(this);const e=de,t=rt;de=this,rt=!0;try{return this.fn()}finally{nc(this),de=e,rt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)yo(e);this.deps=this.depsTail=void 0,_l(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?dr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Mr(this)&&this.run()}get dirty(){return Mr(this)}}let Za=0,Yn,Qn;function ec(n,e=!1){if(n.flags|=8,e){n.next=Qn,Qn=n;return}n.next=Yn,Yn=n}function mo(){Za++}function bo(){if(--Za>0)return;if(Qn){let e=Qn;for(Qn=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Yn;){let e=Yn;for(Yn=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){n||(n=s)}e=t}}if(n)throw n}function tc(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function nc(n){let e,t=n.depsTail,s=t;for(;s;){const i=s.prevDep;s.version===-1?(s===t&&(t=i),yo(s),Xf(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}n.deps=e,n.depsTail=t}function Mr(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(sc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function sc(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===as))return;n.globalVersion=as;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!Mr(n)){n.flags&=-3;return}const t=de,s=rt;de=n,rt=!0;try{tc(n);const i=n.fn(n._value);(e.version===0||Dt(i,n._value))&&(n._value=i,e.version++)}catch(i){throw e.version++,i}finally{de=t,rt=s,nc(n),n.flags&=-3}}function yo(n,e=!1){const{dep:t,prevSub:s,nextSub:i}=n;if(s&&(s.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=s,n.nextSub=void 0),t.subs===n&&(t.subs=s,!s&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)yo(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Xf(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let rt=!0;const ic=[];function zt(){ic.push(rt),rt=!1}function Gt(){const n=ic.pop();rt=n===void 0?!0:n}function _l(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=de;de=void 0;try{e()}finally{de=t}}}let as=0;class Jf{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!de||!rt||de===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==de)t=this.activeLink=new Jf(de,this),de.deps?(t.prevDep=de.depsTail,de.depsTail.nextDep=t,de.depsTail=t):de.deps=de.depsTail=t,rc(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const s=t.nextDep;s.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=s),t.prevDep=de.depsTail,t.nextDep=void 0,de.depsTail.nextDep=t,de.depsTail=t,de.deps===t&&(de.deps=s)}return t}trigger(e){this.version++,as++,this.notify(e)}notify(e){mo();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{bo()}}}function rc(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)rc(s)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const Ys=new WeakMap,Zt=Symbol(""),Lr=Symbol(""),cs=Symbol("");function Pe(n,e,t){if(rt&&de){let s=Ys.get(n);s||Ys.set(n,s=new Map);let i=s.get(t);i||(s.set(t,i=new vo),i.map=s,i.key=t),i.track()}}function Ct(n,e,t,s,i,r){const o=Ys.get(n);if(!o){as++;return}const l=a=>{a&&a.trigger()};if(mo(),e==="clear")o.forEach(l);else{const a=G(n),c=a&&xo(t);if(a&&t==="length"){const d=Number(s);o.forEach((p,b)=>{(b==="length"||b===cs||!jt(b)&&b>=d)&&l(p)})}else switch((t!==void 0||o.has(void 0))&&l(o.get(t)),c&&l(o.get(cs)),e){case"add":a?c&&l(o.get("length")):(l(o.get(Zt)),bn(n)&&l(o.get(Lr)));break;case"delete":a||(l(o.get(Zt)),bn(n)&&l(o.get(Lr)));break;case"set":bn(n)&&l(o.get(Zt));break}}bo()}function Zf(n,e){const t=Ys.get(n);return t&&t.get(e)}function hn(n){const e=se(n);return e===n?e:(Pe(e,"iterate",cs),Je(n)?e:e.map(Oe))}function zi(n){return Pe(n=se(n),"iterate",cs),n}const eh={__proto__:null,[Symbol.iterator](){return pr(this,Symbol.iterator,Oe)},concat(...n){return hn(this).concat(...n.map(e=>G(e)?hn(e):e))},entries(){return pr(this,"entries",n=>(n[1]=Oe(n[1]),n))},every(n,e){return yt(this,"every",n,e,void 0,arguments)},filter(n,e){return yt(this,"filter",n,e,t=>t.map(Oe),arguments)},find(n,e){return yt(this,"find",n,e,Oe,arguments)},findIndex(n,e){return yt(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return yt(this,"findLast",n,e,Oe,arguments)},findLastIndex(n,e){return yt(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return yt(this,"forEach",n,e,void 0,arguments)},includes(...n){return _r(this,"includes",n)},indexOf(...n){return _r(this,"indexOf",n)},join(n){return hn(this).join(n)},lastIndexOf(...n){return _r(this,"lastIndexOf",n)},map(n,e){return yt(this,"map",n,e,void 0,arguments)},pop(){return Wn(this,"pop")},push(...n){return Wn(this,"push",n)},reduce(n,...e){return xl(this,"reduce",n,e)},reduceRight(n,...e){return xl(this,"reduceRight",n,e)},shift(){return Wn(this,"shift")},some(n,e){return yt(this,"some",n,e,void 0,arguments)},splice(...n){return Wn(this,"splice",n)},toReversed(){return hn(this).toReversed()},toSorted(n){return hn(this).toSorted(n)},toSpliced(...n){return hn(this).toSpliced(...n)},unshift(...n){return Wn(this,"unshift",n)},values(){return pr(this,"values",Oe)}};function pr(n,e,t){const s=zi(n),i=s[e]();return s!==n&&!Je(n)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=t(r.value)),r}),i}const th=Array.prototype;function yt(n,e,t,s,i,r){const o=zi(n),l=o!==n&&!Je(n),a=o[e];if(a!==th[e]){const p=a.apply(n,r);return l?Oe(p):p}let c=t;o!==n&&(l?c=function(p,b){return t.call(this,Oe(p),b,n)}:t.length>2&&(c=function(p,b){return t.call(this,p,b,n)}));const d=a.call(o,c,s);return l&&i?i(d):d}function xl(n,e,t,s){const i=zi(n);let r=t;return i!==n&&(Je(n)?t.length>3&&(r=function(o,l,a){return t.call(this,o,l,a,n)}):r=function(o,l,a){return t.call(this,o,Oe(l),a,n)}),i[e](r,...s)}function _r(n,e,t){const s=se(n);Pe(s,"iterate",cs);const i=s[e](...t);return(i===-1||i===!1)&&Eo(t[0])?(t[0]=se(t[0]),s[e](...t)):i}function Wn(n,e,t=[]){zt(),mo();const s=se(n)[e].apply(n,t);return bo(),Gt(),s}const nh=ho("__proto__,__v_isRef,__isVue"),oc=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(jt));function sh(n){jt(n)||(n=String(n));const e=se(this);return Pe(e,"has",n),e.hasOwnProperty(n)}class lc{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,s){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return s===(i?r?dh:fc:r?uc:cc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=G(e);if(!i){let a;if(o&&(a=eh[t]))return a;if(t==="hasOwnProperty")return sh}const l=Reflect.get(e,t,ve(e)?e:s);return(jt(t)?oc.has(t):nh(t))||(i||Pe(e,"get",t),r)?l:ve(l)?o&&xo(t)?l:l.value:me(l)?i?hc(l):Gi(l):l}}class ac extends lc{constructor(e=!1){super(!1,e)}set(e,t,s,i){let r=e[t];if(!this._isShallow){const a=tn(r);if(!Je(s)&&!tn(s)&&(r=se(r),s=se(s)),!G(e)&&ve(r)&&!ve(s))return a?!1:(r.value=s,!0)}const o=G(e)&&xo(t)?Number(t)<e.length:oe(e,t),l=Reflect.set(e,t,s,ve(e)?e:i);return e===se(i)&&(o?Dt(s,r)&&Ct(e,"set",t,s):Ct(e,"add",t,s)),l}deleteProperty(e,t){const s=oe(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&s&&Ct(e,"delete",t,void 0),i}has(e,t){const s=Reflect.has(e,t);return(!jt(t)||!oc.has(t))&&Pe(e,"has",t),s}ownKeys(e){return Pe(e,"iterate",G(e)?"length":Zt),Reflect.ownKeys(e)}}class ih extends lc{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const rh=new ac,oh=new ih,lh=new ac(!0);const Fr=n=>n,Ls=n=>Reflect.getPrototypeOf(n);function ah(n,e,t){return function(...s){const i=this.__v_raw,r=se(i),o=bn(r),l=n==="entries"||n===Symbol.iterator&&o,a=n==="keys"&&o,c=i[n](...s),d=t?Fr:e?Br:Oe;return!e&&Pe(r,"iterate",a?Lr:Zt),{next(){const{value:p,done:b}=c.next();return b?{value:p,done:b}:{value:l?[d(p[0]),d(p[1])]:d(p),done:b}},[Symbol.iterator](){return this}}}}function Fs(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function ch(n,e){const t={get(i){const r=this.__v_raw,o=se(r),l=se(i);n||(Dt(i,l)&&Pe(o,"get",i),Pe(o,"get",l));const{has:a}=Ls(o),c=e?Fr:n?Br:Oe;if(a.call(o,i))return c(r.get(i));if(a.call(o,l))return c(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!n&&Pe(se(i),"iterate",Zt),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=se(r),l=se(i);return n||(Dt(i,l)&&Pe(o,"has",i),Pe(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,a=se(l),c=e?Fr:n?Br:Oe;return!n&&Pe(a,"iterate",Zt),l.forEach((d,p)=>i.call(r,c(d),c(p),o))}};return De(t,n?{add:Fs("add"),set:Fs("set"),delete:Fs("delete"),clear:Fs("clear")}:{add(i){!e&&!Je(i)&&!tn(i)&&(i=se(i));const r=se(this);return Ls(r).has.call(r,i)||(r.add(i),Ct(r,"add",i,i)),this},set(i,r){!e&&!Je(r)&&!tn(r)&&(r=se(r));const o=se(this),{has:l,get:a}=Ls(o);let c=l.call(o,i);c||(i=se(i),c=l.call(o,i));const d=a.call(o,i);return o.set(i,r),c?Dt(r,d)&&Ct(o,"set",i,r):Ct(o,"add",i,r),this},delete(i){const r=se(this),{has:o,get:l}=Ls(r);let a=o.call(r,i);a||(i=se(i),a=o.call(r,i)),l&&l.call(r,i);const c=r.delete(i);return a&&Ct(r,"delete",i,void 0),c},clear(){const i=se(this),r=i.size!==0,o=i.clear();return r&&Ct(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ah(i,n,e)}),t}function Co(n,e){const t=ch(n,e);return(s,i,r)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?s:Reflect.get(oe(t,i)&&i in s?t:s,i,r)}const uh={get:Co(!1,!1)},fh={get:Co(!1,!0)},hh={get:Co(!0,!1)};const cc=new WeakMap,uc=new WeakMap,fc=new WeakMap,dh=new WeakMap;function ph(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _h(n){return n.__v_skip||!Object.isExtensible(n)?0:ph(Hf(n))}function Gi(n){return tn(n)?n:Io(n,!1,rh,uh,cc)}function xh(n){return Io(n,!1,lh,fh,uc)}function hc(n){return Io(n,!0,oh,hh,fc)}function Io(n,e,t,s,i){if(!me(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=i.get(n);if(r)return r;const o=_h(n);if(o===0)return n;const l=new Proxy(n,o===2?s:t);return i.set(n,l),l}function Mt(n){return tn(n)?Mt(n.__v_raw):!!(n&&n.__v_isReactive)}function tn(n){return!!(n&&n.__v_isReadonly)}function Je(n){return!!(n&&n.__v_isShallow)}function Eo(n){return n?!!n.__v_raw:!1}function se(n){const e=n&&n.__v_raw;return e?se(e):n}function wo(n){return!oe(n,"__v_skip")&&Object.isExtensible(n)&&Ga(n,"__v_skip",!0),n}const Oe=n=>me(n)?Gi(n):n,Br=n=>me(n)?hc(n):n;function ve(n){return n?n.__v_isRef===!0:!1}function Ie(n){return dc(n,!1)}function gh(n){return dc(n,!0)}function dc(n,e){return ve(n)?n:new mh(n,e)}class mh{constructor(e,t){this.dep=new vo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:se(e),this._value=t?e:Oe(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,s=this.__v_isShallow||Je(e)||tn(e);e=s?e:se(e),Dt(e,t)&&(this._rawValue=e,this._value=s?e:Oe(e),this.dep.trigger())}}function ce(n){return ve(n)?n.value:n}const bh={get:(n,e,t)=>e==="__v_raw"?n:ce(Reflect.get(n,e,t)),set:(n,e,t,s)=>{const i=n[e];return ve(i)&&!ve(t)?(i.value=t,!0):Reflect.set(n,e,t,s)}};function pc(n){return Mt(n)?n:new Proxy(n,bh)}function yh(n){const e=G(n)?new Array(n.length):{};for(const t in n)e[t]=Ch(n,t);return e}class vh{constructor(e,t,s){this._object=e,this._key=t,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Zf(se(this._object),this._key)}}function Ch(n,e,t){const s=n[e];return ve(s)?s:new vh(n,e,t)}class Ih{constructor(e,t,s){this.fn=e,this.setter=t,this._value=void 0,this.dep=new vo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=as-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&de!==this)return ec(this,!0),!0}get value(){const e=this.dep.track();return sc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Eh(n,e,t=!1){let s,i;return q(n)?s=n:(s=n.get,i=n.set),new Ih(s,i,t)}const Bs={},Qs=new WeakMap;let Kt;function wh(n,e=!1,t=Kt){if(t){let s=Qs.get(t);s||Qs.set(t,s=[]),s.push(n)}}function Sh(n,e,t=ue){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:a}=t,c=w=>i?w:Je(w)||i===!1||i===0?It(w,1):It(w);let d,p,b,I,N=!1,B=!1;if(ve(n)?(p=()=>n.value,N=Je(n)):Mt(n)?(p=()=>c(n),N=!0):G(n)?(B=!0,N=n.some(w=>Mt(w)||Je(w)),p=()=>n.map(w=>{if(ve(w))return w.value;if(Mt(w))return c(w);if(q(w))return a?a(w,2):w()})):q(n)?e?p=a?()=>a(n,2):n:p=()=>{if(b){zt();try{b()}finally{Gt()}}const w=Kt;Kt=d;try{return a?a(n,3,[I]):n(I)}finally{Kt=w}}:p=pt,e&&i){const w=p,k=i===!0?1/0:i;p=()=>It(w(),k)}const $=Xa(),x=()=>{d.stop(),$&&$.active&&_o($.effects,d)};if(r&&e){const w=e;e=(...k)=>{w(...k),x()}}let _=B?new Array(n.length).fill(Bs):Bs;const m=w=>{if(!(!(d.flags&1)||!d.dirty&&!w))if(e){const k=d.run();if(i||N||(B?k.some((ze,Se)=>Dt(ze,_[Se])):Dt(k,_))){b&&b();const ze=Kt;Kt=d;try{const Se=[k,_===Bs?void 0:B&&_[0]===Bs?[]:_,I];a?a(e,3,Se):e(...Se),_=k}finally{Kt=ze}}}else d.run()};return l&&l(m),d=new Ja(p),d.scheduler=o?()=>o(m,!1):m,I=w=>wh(w,!1,d),b=d.onStop=()=>{const w=Qs.get(d);if(w){if(a)a(w,4);else for(const k of w)k();Qs.delete(d)}},e?s?m(!0):_=d.run():o?o(m.bind(null,!0),!0):d.run(),x.pause=d.pause.bind(d),x.resume=d.resume.bind(d),x.stop=x,x}function It(n,e=1/0,t){if(e<=0||!me(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,ve(n))It(n.value,e,t);else if(G(n))for(let s=0;s<n.length;s++)It(n[s],e,t);else if(Ha(n)||bn(n))n.forEach(s=>{It(s,e,t)});else if(za(n)){for(const s in n)It(n[s],e,t);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&It(n[s],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Es(n,e,t,s){try{return s?n(...s):n()}catch(i){qi(i,e,t)}}function xt(n,e,t,s){if(q(n)){const i=Es(n,e,t,s);return i&&Va(i)&&i.catch(r=>{qi(r,e,t)}),i}if(G(n)){const i=[];for(let r=0;r<n.length;r++)i.push(xt(n[r],e,t,s));return i}}function qi(n,e,t,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ue;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const d=l.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](n,a,c)===!1)return}l=l.parent}if(r){zt(),Es(r,null,10,[n,a,c]),Gt();return}}Th(n,t,i,s,o)}function Th(n,e,t,s=!0,i=!1){if(i)throw n;console.error(n)}const Fe=[];let ft=-1;const vn=[];let Ot=null,_n=0;const _c=Promise.resolve();let Xs=null;function xc(n){const e=Xs||_c;return n?e.then(this?n.bind(this):n):e}function Nh(n){let e=ft+1,t=Fe.length;for(;e<t;){const s=e+t>>>1,i=Fe[s],r=us(i);r<n||r===n&&i.flags&2?e=s+1:t=s}return e}function So(n){if(!(n.flags&1)){const e=us(n),t=Fe[Fe.length-1];!t||!(n.flags&2)&&e>=us(t)?Fe.push(n):Fe.splice(Nh(e),0,n),n.flags|=1,gc()}}function gc(){Xs||(Xs=_c.then(bc))}function Rh(n){G(n)?vn.push(...n):Ot&&n.id===-1?Ot.splice(_n+1,0,n):n.flags&1||(vn.push(n),n.flags|=1),gc()}function gl(n,e,t=ft+1){for(;t<Fe.length;t++){const s=Fe[t];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;Fe.splice(t,1),t--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function mc(n){if(vn.length){const e=[...new Set(vn)].sort((t,s)=>us(t)-us(s));if(vn.length=0,Ot){Ot.push(...e);return}for(Ot=e,_n=0;_n<Ot.length;_n++){const t=Ot[_n];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Ot=null,_n=0}}const us=n=>n.id==null?n.flags&2?-1:1/0:n.id;function bc(n){try{for(ft=0;ft<Fe.length;ft++){const e=Fe[ft];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Es(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ft<Fe.length;ft++){const e=Fe[ft];e&&(e.flags&=-2)}ft=-1,Fe.length=0,mc(),Xs=null,(Fe.length||vn.length)&&bc()}}let Ue=null,yc=null;function Js(n){const e=Ue;return Ue=n,yc=n&&n.type.__scopeId||null,e}function Ah(n,e=Ue,t){if(!e||n._n)return n;const s=(...i)=>{s._d&&Nl(-1);const r=Js(e);let o;try{o=n(...i)}finally{Js(r),s._d&&Nl(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ph(n,e){if(Ue===null)return n;const t=Qi(Ue),s=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,a=ue]=e[i];r&&(q(r)&&(r={mounted:r,updated:r}),r.deep&&It(o),s.push({dir:r,instance:t,value:o,oldValue:void 0,arg:l,modifiers:a}))}return n}function qt(n,e,t,s){const i=n.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let a=l.dir[s];a&&(zt(),xt(a,t,8,[n.el,l,n,e]),Gt())}}const Oh=Symbol("_vte"),kh=n=>n.__isTeleport;function To(n,e){n.shapeFlag&6&&n.component?(n.transition=e,To(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}/*! #__NO_SIDE_EFFECTS__ */function An(n,e){return q(n)?De({name:n.name},e,{setup:n}):n}function vc(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Zs(n,e,t,s,i=!1){if(G(n)){n.forEach((N,B)=>Zs(N,e&&(G(e)?e[B]:e),t,s,i));return}if(Xn(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Zs(n,e,t,s.component.subTree);return}const r=s.shapeFlag&4?Qi(s.component):s.el,o=i?null:r,{i:l,r:a}=n,c=e&&e.r,d=l.refs===ue?l.refs={}:l.refs,p=l.setupState,b=se(p),I=p===ue?()=>!1:N=>oe(b,N);if(c!=null&&c!==a&&(Ce(c)?(d[c]=null,I(c)&&(p[c]=null)):ve(c)&&(c.value=null)),q(a))Es(a,l,12,[o,d]);else{const N=Ce(a),B=ve(a);if(N||B){const $=()=>{if(n.f){const x=N?I(a)?p[a]:d[a]:a.value;i?G(x)&&_o(x,r):G(x)?x.includes(r)||x.push(r):N?(d[a]=[r],I(a)&&(p[a]=d[a])):(a.value=[r],n.k&&(d[n.k]=a.value))}else N?(d[a]=o,I(a)&&(p[a]=o)):B&&(a.value=o,n.k&&(d[n.k]=o))};o?($.id=-1,$e($,t)):$()}}}ji().requestIdleCallback;ji().cancelIdleCallback;const Xn=n=>!!n.type.__asyncLoader,Cc=n=>n.type.__isKeepAlive;function Dh(n,e){Ic(n,"a",e)}function Mh(n,e){Ic(n,"da",e)}function Ic(n,e,t=Ae){const s=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if($i(e,s,t),t){let i=t.parent;for(;i&&i.parent;)Cc(i.parent.vnode)&&Lh(s,e,t,i),i=i.parent}}function Lh(n,e,t,s){const i=$i(e,n,s,!0);Ec(()=>{_o(s[e],i)},t)}function $i(n,e,t=Ae,s=!1){if(t){const i=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{zt();const l=Ss(t),a=xt(e,t,n,o);return l(),Gt(),a});return s?i.unshift(r):i.push(r),r}}const Nt=n=>(e,t=Ae)=>{(!hs||n==="sp")&&$i(n,(...s)=>e(...s),t)},Fh=Nt("bm"),ws=Nt("m"),Bh=Nt("bu"),Wh=Nt("u"),Uh=Nt("bum"),Ec=Nt("um"),Hh=Nt("sp"),Vh=Nt("rtg"),jh=Nt("rtc");function zh(n,e=Ae){$i("ec",n,e)}const Gh="components",wc=Symbol.for("v-ndc");function qh(n){return Ce(n)?$h(Gh,n,!1)||n:n||wc}function $h(n,e,t=!0,s=!1){const i=Ue||Ae;if(i){const r=i.type;{const l=Md(r,!1);if(l&&(l===e||l===et(e)||l===Vi(et(e))))return r}const o=ml(i[n]||r[n],e)||ml(i.appContext[n],e);return!o&&s?r:o}}function ml(n,e){return n&&(n[e]||n[et(e)]||n[Vi(et(e))])}function bl(n,e,t,s){let i;const r=t&&t[s],o=G(n);if(o||Ce(n)){const l=o&&Mt(n);let a=!1;l&&(a=!Je(n),n=zi(n)),i=new Array(n.length);for(let c=0,d=n.length;c<d;c++)i[c]=e(a?Oe(n[c]):n[c],c,void 0,r&&r[c])}else if(typeof n=="number"){i=new Array(n);for(let l=0;l<n;l++)i[l]=e(l+1,l,void 0,r&&r[l])}else if(me(n))if(n[Symbol.iterator])i=Array.from(n,(l,a)=>e(l,a,void 0,r&&r[a]));else{const l=Object.keys(n);i=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const d=l[a];i[a]=e(n[d],d,a,r&&r[a])}}else i=[];return t&&(t[s]=i),i}const Wr=n=>n?Kc(n)?Qi(n):Wr(n.parent):null,Jn=De(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Wr(n.parent),$root:n=>Wr(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Tc(n),$forceUpdate:n=>n.f||(n.f=()=>{So(n.update)}),$nextTick:n=>n.n||(n.n=xc.bind(n.proxy)),$watch:n=>xd.bind(n)}),xr=(n,e)=>n!==ue&&!n.__isScriptSetup&&oe(n,e),Kh={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:a}=n;let c;if(e[0]!=="$"){const I=o[e];if(I!==void 0)switch(I){case 1:return s[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(xr(s,e))return o[e]=1,s[e];if(i!==ue&&oe(i,e))return o[e]=2,i[e];if((c=n.propsOptions[0])&&oe(c,e))return o[e]=3,r[e];if(t!==ue&&oe(t,e))return o[e]=4,t[e];Ur&&(o[e]=0)}}const d=Jn[e];let p,b;if(d)return e==="$attrs"&&Pe(n.attrs,"get",""),d(n);if((p=l.__cssModules)&&(p=p[e]))return p;if(t!==ue&&oe(t,e))return o[e]=4,t[e];if(b=a.config.globalProperties,oe(b,e))return b[e]},set({_:n},e,t){const{data:s,setupState:i,ctx:r}=n;return xr(i,e)?(i[e]=t,!0):s!==ue&&oe(s,e)?(s[e]=t,!0):oe(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!t[o]||n!==ue&&oe(n,o)||xr(e,o)||(l=r[0])&&oe(l,o)||oe(s,o)||oe(Jn,o)||oe(i.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:oe(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function yl(n){return G(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let Ur=!0;function Yh(n){const e=Tc(n),t=n.proxy,s=n.ctx;Ur=!1,e.beforeCreate&&vl(e.beforeCreate,n,"bc");const{data:i,computed:r,methods:o,watch:l,provide:a,inject:c,created:d,beforeMount:p,mounted:b,beforeUpdate:I,updated:N,activated:B,deactivated:$,beforeDestroy:x,beforeUnmount:_,destroyed:m,unmounted:w,render:k,renderTracked:ze,renderTriggered:Se,errorCaptured:X,serverPrefetch:J,expose:f,inheritAttrs:u,components:h,directives:C,filters:T}=e;if(c&&Qh(c,s,null),o)for(const W in o){const re=o[W];q(re)&&(s[W]=re.bind(t))}if(i){const W=i.call(t,t);me(W)&&(n.data=Gi(W))}if(Ur=!0,r)for(const W in r){const re=r[W],mt=q(re)?re.bind(t,t):q(re.get)?re.get.bind(t,t):pt,fn=!q(re)&&q(re.set)?re.set.bind(t):pt,bt=Qc({get:mt,set:fn});Object.defineProperty(s,W,{enumerable:!0,configurable:!0,get:()=>bt.value,set:tt=>bt.value=tt})}if(l)for(const W in l)Sc(l[W],s,t,W);if(a){const W=q(a)?a.call(t):a;Reflect.ownKeys(W).forEach(re=>{nd(re,W[re])})}d&&vl(d,n,"c");function H(W,re){G(re)?re.forEach(mt=>W(mt.bind(t))):re&&W(re.bind(t))}if(H(Fh,p),H(ws,b),H(Bh,I),H(Wh,N),H(Dh,B),H(Mh,$),H(zh,X),H(jh,ze),H(Vh,Se),H(Uh,_),H(Ec,w),H(Hh,J),G(f))if(f.length){const W=n.exposed||(n.exposed={});f.forEach(re=>{Object.defineProperty(W,re,{get:()=>t[re],set:mt=>t[re]=mt})})}else n.exposed||(n.exposed={});k&&n.render===pt&&(n.render=k),u!=null&&(n.inheritAttrs=u),h&&(n.components=h),C&&(n.directives=C),J&&vc(n)}function Qh(n,e,t=pt){G(n)&&(n=Hr(n));for(const s in n){const i=n[s];let r;me(i)?"default"in i?r=Zn(i.from||s,i.default,!0):r=Zn(i.from||s):r=Zn(i),ve(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function vl(n,e,t){xt(G(n)?n.map(s=>s.bind(e.proxy)):n.bind(e.proxy),e,t)}function Sc(n,e,t,s){let i=s.includes(".")?Hc(t,s):()=>t[s];if(Ce(n)){const r=e[n];q(r)&&_t(i,r)}else if(q(n))_t(i,n.bind(t));else if(me(n))if(G(n))n.forEach(r=>Sc(r,e,t,s));else{const r=q(n.handler)?n.handler.bind(t):e[n.handler];q(r)&&_t(i,r,n)}}function Tc(n){const e=n.type,{mixins:t,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,l=r.get(e);let a;return l?a=l:!i.length&&!t&&!s?a=e:(a={},i.length&&i.forEach(c=>ei(a,c,o,!0)),ei(a,e,o)),me(e)&&r.set(e,a),a}function ei(n,e,t,s=!1){const{mixins:i,extends:r}=e;r&&ei(n,r,t,!0),i&&i.forEach(o=>ei(n,o,t,!0));for(const o in e)if(!(s&&o==="expose")){const l=Xh[o]||t&&t[o];n[o]=l?l(n[o],e[o]):e[o]}return n}const Xh={data:Cl,props:Il,emits:Il,methods:$n,computed:$n,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:$n,directives:$n,watch:Zh,provide:Cl,inject:Jh};function Cl(n,e){return e?n?function(){return De(q(n)?n.call(this,this):n,q(e)?e.call(this,this):e)}:e:n}function Jh(n,e){return $n(Hr(n),Hr(e))}function Hr(n){if(G(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Me(n,e){return n?[...new Set([].concat(n,e))]:e}function $n(n,e){return n?De(Object.create(null),n,e):e}function Il(n,e){return n?G(n)&&G(e)?[...new Set([...n,...e])]:De(Object.create(null),yl(n),yl(e??{})):e}function Zh(n,e){if(!n)return e;if(!e)return n;const t=De(Object.create(null),n);for(const s in e)t[s]=Me(n[s],e[s]);return t}function Nc(){return{app:null,config:{isNativeTag:Wf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ed=0;function td(n,e){return function(s,i=null){q(s)||(s=De({},s)),i!=null&&!me(i)&&(i=null);const r=Nc(),o=new WeakSet,l=[];let a=!1;const c=r.app={_uid:ed++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Fd,get config(){return r.config},set config(d){},use(d,...p){return o.has(d)||(d&&q(d.install)?(o.add(d),d.install(c,...p)):q(d)&&(o.add(d),d(c,...p))),c},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),c},component(d,p){return p?(r.components[d]=p,c):r.components[d]},directive(d,p){return p?(r.directives[d]=p,c):r.directives[d]},mount(d,p,b){if(!a){const I=c._ceVNode||Ze(s,i);return I.appContext=r,b===!0?b="svg":b===!1&&(b=void 0),n(I,d,b),a=!0,c._container=d,d.__vue_app__=c,Qi(I.component)}},onUnmount(d){l.push(d)},unmount(){a&&(xt(l,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(d,p){return r.provides[d]=p,c},runWithContext(d){const p=en;en=c;try{return d()}finally{en=p}}};return c}}let en=null;function nd(n,e){if(Ae){let t=Ae.provides;const s=Ae.parent&&Ae.parent.provides;s===t&&(t=Ae.provides=Object.create(s)),t[n]=e}}function Zn(n,e,t=!1){const s=Ae||Ue;if(s||en){const i=en?en._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&q(e)?e.call(s&&s.proxy):e}}function sd(){return!!(Ae||Ue||en)}const Rc={},Ac=()=>Object.create(Rc),Pc=n=>Object.getPrototypeOf(n)===Rc;function id(n,e,t,s=!1){const i={},r=Ac();n.propsDefaults=Object.create(null),Oc(n,e,i,r);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);t?n.props=s?i:xh(i):n.type.props?n.props=i:n.props=r,n.attrs=r}function rd(n,e,t,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=n,l=se(i),[a]=n.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=n.vnode.dynamicProps;for(let p=0;p<d.length;p++){let b=d[p];if(Ki(n.emitsOptions,b))continue;const I=e[b];if(a)if(oe(r,b))I!==r[b]&&(r[b]=I,c=!0);else{const N=et(b);i[N]=Vr(a,l,N,I,n,!1)}else I!==r[b]&&(r[b]=I,c=!0)}}}else{Oc(n,e,i,r)&&(c=!0);let d;for(const p in l)(!e||!oe(e,p)&&((d=ln(p))===p||!oe(e,d)))&&(a?t&&(t[p]!==void 0||t[d]!==void 0)&&(i[p]=Vr(a,l,p,void 0,n,!0)):delete i[p]);if(r!==l)for(const p in r)(!e||!oe(e,p))&&(delete r[p],c=!0)}c&&Ct(n.attrs,"set","")}function Oc(n,e,t,s){const[i,r]=n.propsOptions;let o=!1,l;if(e)for(let a in e){if(Kn(a))continue;const c=e[a];let d;i&&oe(i,d=et(a))?!r||!r.includes(d)?t[d]=c:(l||(l={}))[d]=c:Ki(n.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(r){const a=se(t),c=l||ue;for(let d=0;d<r.length;d++){const p=r[d];t[p]=Vr(i,a,p,c[p],n,!oe(c,p))}}return o}function Vr(n,e,t,s,i,r){const o=n[t];if(o!=null){const l=oe(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&q(a)){const{propsDefaults:c}=i;if(t in c)s=c[t];else{const d=Ss(i);s=c[t]=a.call(null,e),d()}}else s=a;i.ce&&i.ce._setProp(t,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===ln(t))&&(s=!0))}return s}const od=new WeakMap;function kc(n,e,t=!1){const s=t?od:e.propsCache,i=s.get(n);if(i)return i;const r=n.props,o={},l=[];let a=!1;if(!q(n)){const d=p=>{a=!0;const[b,I]=kc(p,e,!0);De(o,b),I&&l.push(...I)};!t&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!r&&!a)return me(n)&&s.set(n,mn),mn;if(G(r))for(let d=0;d<r.length;d++){const p=et(r[d]);El(p)&&(o[p]=ue)}else if(r)for(const d in r){const p=et(d);if(El(p)){const b=r[d],I=o[p]=G(b)||q(b)?{type:b}:De({},b),N=I.type;let B=!1,$=!0;if(G(N))for(let x=0;x<N.length;++x){const _=N[x],m=q(_)&&_.name;if(m==="Boolean"){B=!0;break}else m==="String"&&($=!1)}else B=q(N)&&N.name==="Boolean";I[0]=B,I[1]=$,(B||oe(I,"default"))&&l.push(p)}}const c=[o,l];return me(n)&&s.set(n,c),c}function El(n){return n[0]!=="$"&&!Kn(n)}const Dc=n=>n[0]==="_"||n==="$stable",No=n=>G(n)?n.map(dt):[dt(n)],ld=(n,e,t)=>{if(e._n)return e;const s=Ah((...i)=>No(e(...i)),t);return s._c=!1,s},Mc=(n,e,t)=>{const s=n._ctx;for(const i in n){if(Dc(i))continue;const r=n[i];if(q(r))e[i]=ld(i,r,s);else if(r!=null){const o=No(r);e[i]=()=>o}}},Lc=(n,e)=>{const t=No(e);n.slots.default=()=>t},Fc=(n,e,t)=>{for(const s in e)(t||s!=="_")&&(n[s]=e[s])},ad=(n,e,t)=>{const s=n.slots=Ac();if(n.vnode.shapeFlag&32){const i=e._;i?(Fc(s,e,t),t&&Ga(s,"_",i,!0)):Mc(e,s)}else e&&Lc(n,e)},cd=(n,e,t)=>{const{vnode:s,slots:i}=n;let r=!0,o=ue;if(s.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:Fc(i,e,t):(r=!e.$stable,Mc(e,i)),o=e}else e&&(Lc(n,e),o={default:1});if(r)for(const l in i)!Dc(l)&&o[l]==null&&delete i[l]},$e=Id;function ud(n){return fd(n)}function fd(n,e){const t=ji();t.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:d,parentNode:p,nextSibling:b,setScopeId:I=pt,insertStaticContent:N}=n,B=(g,y,E,A=null,S=null,R=null,L=void 0,M=null,D=!!y.dynamicChildren)=>{if(g===y)return;g&&!Un(g,y)&&(A=Ms(g),tt(g,S,R,!0),g=null),y.patchFlag===-2&&(D=!1,y.dynamicChildren=null);const{type:P,ref:V,shapeFlag:F}=y;switch(P){case Yi:$(g,y,E,A);break;case nn:x(g,y,E,A);break;case mr:g==null&&_(y,E,A,L);break;case Xe:h(g,y,E,A,S,R,L,M,D);break;default:F&1?k(g,y,E,A,S,R,L,M,D):F&6?C(g,y,E,A,S,R,L,M,D):(F&64||F&128)&&P.process(g,y,E,A,S,R,L,M,D,Fn)}V!=null&&S&&Zs(V,g&&g.ref,R,y||g,!y)},$=(g,y,E,A)=>{if(g==null)s(y.el=l(y.children),E,A);else{const S=y.el=g.el;y.children!==g.children&&c(S,y.children)}},x=(g,y,E,A)=>{g==null?s(y.el=a(y.children||""),E,A):y.el=g.el},_=(g,y,E,A)=>{[g.el,g.anchor]=N(g.children,y,E,A,g.el,g.anchor)},m=({el:g,anchor:y},E,A)=>{let S;for(;g&&g!==y;)S=b(g),s(g,E,A),g=S;s(y,E,A)},w=({el:g,anchor:y})=>{let E;for(;g&&g!==y;)E=b(g),i(g),g=E;i(y)},k=(g,y,E,A,S,R,L,M,D)=>{y.type==="svg"?L="svg":y.type==="math"&&(L="mathml"),g==null?ze(y,E,A,S,R,L,M,D):J(g,y,S,R,L,M,D)},ze=(g,y,E,A,S,R,L,M)=>{let D,P;const{props:V,shapeFlag:F,transition:U,dirs:z}=g;if(D=g.el=o(g.type,R,V&&V.is,V),F&8?d(D,g.children):F&16&&X(g.children,D,null,A,S,gr(g,R),L,M),z&&qt(g,null,A,"created"),Se(D,g,g.scopeId,L,A),V){for(const he in V)he!=="value"&&!Kn(he)&&r(D,he,null,V[he],R,A);"value"in V&&r(D,"value",null,V.value,R),(P=V.onVnodeBeforeMount)&&ut(P,A,g)}z&&qt(g,null,A,"beforeMount");const te=hd(S,U);te&&U.beforeEnter(D),s(D,y,E),((P=V&&V.onVnodeMounted)||te||z)&&$e(()=>{P&&ut(P,A,g),te&&U.enter(D),z&&qt(g,null,A,"mounted")},S)},Se=(g,y,E,A,S)=>{if(E&&I(g,E),A)for(let R=0;R<A.length;R++)I(g,A[R]);if(S){let R=S.subTree;if(y===R||jc(R.type)&&(R.ssContent===y||R.ssFallback===y)){const L=S.vnode;Se(g,L,L.scopeId,L.slotScopeIds,S.parent)}}},X=(g,y,E,A,S,R,L,M,D=0)=>{for(let P=D;P<g.length;P++){const V=g[P]=M?kt(g[P]):dt(g[P]);B(null,V,y,E,A,S,R,L,M)}},J=(g,y,E,A,S,R,L)=>{const M=y.el=g.el;let{patchFlag:D,dynamicChildren:P,dirs:V}=y;D|=g.patchFlag&16;const F=g.props||ue,U=y.props||ue;let z;if(E&&$t(E,!1),(z=U.onVnodeBeforeUpdate)&&ut(z,E,y,g),V&&qt(y,g,E,"beforeUpdate"),E&&$t(E,!0),(F.innerHTML&&U.innerHTML==null||F.textContent&&U.textContent==null)&&d(M,""),P?f(g.dynamicChildren,P,M,E,A,gr(y,S),R):L||re(g,y,M,null,E,A,gr(y,S),R,!1),D>0){if(D&16)u(M,F,U,E,S);else if(D&2&&F.class!==U.class&&r(M,"class",null,U.class,S),D&4&&r(M,"style",F.style,U.style,S),D&8){const te=y.dynamicProps;for(let he=0;he<te.length;he++){const le=te[he],Ge=F[le],We=U[le];(We!==Ge||le==="value")&&r(M,le,Ge,We,S,E)}}D&1&&g.children!==y.children&&d(M,y.children)}else!L&&P==null&&u(M,F,U,E,S);((z=U.onVnodeUpdated)||V)&&$e(()=>{z&&ut(z,E,y,g),V&&qt(y,g,E,"updated")},A)},f=(g,y,E,A,S,R,L)=>{for(let M=0;M<y.length;M++){const D=g[M],P=y[M],V=D.el&&(D.type===Xe||!Un(D,P)||D.shapeFlag&70)?p(D.el):E;B(D,P,V,null,A,S,R,L,!0)}},u=(g,y,E,A,S)=>{if(y!==E){if(y!==ue)for(const R in y)!Kn(R)&&!(R in E)&&r(g,R,y[R],null,S,A);for(const R in E){if(Kn(R))continue;const L=E[R],M=y[R];L!==M&&R!=="value"&&r(g,R,M,L,S,A)}"value"in E&&r(g,"value",y.value,E.value,S)}},h=(g,y,E,A,S,R,L,M,D)=>{const P=y.el=g?g.el:l(""),V=y.anchor=g?g.anchor:l("");let{patchFlag:F,dynamicChildren:U,slotScopeIds:z}=y;z&&(M=M?M.concat(z):z),g==null?(s(P,E,A),s(V,E,A),X(y.children||[],E,V,S,R,L,M,D)):F>0&&F&64&&U&&g.dynamicChildren?(f(g.dynamicChildren,U,E,S,R,L,M),(y.key!=null||S&&y===S.subTree)&&Bc(g,y,!0)):re(g,y,E,V,S,R,L,M,D)},C=(g,y,E,A,S,R,L,M,D)=>{y.slotScopeIds=M,g==null?y.shapeFlag&512?S.ctx.activate(y,E,A,L,D):T(y,E,A,S,R,L,D):Z(g,y,D)},T=(g,y,E,A,S,R,L)=>{const M=g.component=Ad(g,A,S);if(Cc(g)&&(M.ctx.renderer=Fn),Pd(M,!1,L),M.asyncDep){if(S&&S.registerDep(M,H,L),!g.el){const D=M.subTree=Ze(nn);x(null,D,y,E)}}else H(M,g,y,E,S,R,L)},Z=(g,y,E)=>{const A=y.component=g.component;if(vd(g,y,E))if(A.asyncDep&&!A.asyncResolved){W(A,y,E);return}else A.next=y,A.update();else y.el=g.el,A.vnode=y},H=(g,y,E,A,S,R,L)=>{const M=()=>{if(g.isMounted){let{next:F,bu:U,u:z,parent:te,vnode:he}=g;{const at=Wc(g);if(at){F&&(F.el=he.el,W(g,F,L)),at.asyncDep.then(()=>{g.isUnmounted||M()});return}}let le=F,Ge;$t(g,!1),F?(F.el=he.el,W(g,F,L)):F=he,U&&js(U),(Ge=F.props&&F.props.onVnodeBeforeUpdate)&&ut(Ge,te,F,he),$t(g,!0);const We=Sl(g),lt=g.subTree;g.subTree=We,B(lt,We,p(lt.el),Ms(lt),g,S,R),F.el=We.el,le===null&&Cd(g,We.el),z&&$e(z,S),(Ge=F.props&&F.props.onVnodeUpdated)&&$e(()=>ut(Ge,te,F,he),S)}else{let F;const{el:U,props:z}=y,{bm:te,m:he,parent:le,root:Ge,type:We}=g,lt=Xn(y);$t(g,!1),te&&js(te),!lt&&(F=z&&z.onVnodeBeforeMount)&&ut(F,le,y),$t(g,!0);{Ge.ce&&Ge.ce._injectChildStyle(We);const at=g.subTree=Sl(g);B(null,at,E,A,g,S,R),y.el=at.el}if(he&&$e(he,S),!lt&&(F=z&&z.onVnodeMounted)){const at=y;$e(()=>ut(F,le,at),S)}(y.shapeFlag&256||le&&Xn(le.vnode)&&le.vnode.shapeFlag&256)&&g.a&&$e(g.a,S),g.isMounted=!0,y=E=A=null}};g.scope.on();const D=g.effect=new Ja(M);g.scope.off();const P=g.update=D.run.bind(D),V=g.job=D.runIfDirty.bind(D);V.i=g,V.id=g.uid,D.scheduler=()=>So(V),$t(g,!0),P()},W=(g,y,E)=>{y.component=g;const A=g.vnode.props;g.vnode=y,g.next=null,rd(g,y.props,A,E),cd(g,y.children,E),zt(),gl(g),Gt()},re=(g,y,E,A,S,R,L,M,D=!1)=>{const P=g&&g.children,V=g?g.shapeFlag:0,F=y.children,{patchFlag:U,shapeFlag:z}=y;if(U>0){if(U&128){fn(P,F,E,A,S,R,L,M,D);return}else if(U&256){mt(P,F,E,A,S,R,L,M,D);return}}z&8?(V&16&&Ln(P,S,R),F!==P&&d(E,F)):V&16?z&16?fn(P,F,E,A,S,R,L,M,D):Ln(P,S,R,!0):(V&8&&d(E,""),z&16&&X(F,E,A,S,R,L,M,D))},mt=(g,y,E,A,S,R,L,M,D)=>{g=g||mn,y=y||mn;const P=g.length,V=y.length,F=Math.min(P,V);let U;for(U=0;U<F;U++){const z=y[U]=D?kt(y[U]):dt(y[U]);B(g[U],z,E,null,S,R,L,M,D)}P>V?Ln(g,S,R,!0,!1,F):X(y,E,A,S,R,L,M,D,F)},fn=(g,y,E,A,S,R,L,M,D)=>{let P=0;const V=y.length;let F=g.length-1,U=V-1;for(;P<=F&&P<=U;){const z=g[P],te=y[P]=D?kt(y[P]):dt(y[P]);if(Un(z,te))B(z,te,E,null,S,R,L,M,D);else break;P++}for(;P<=F&&P<=U;){const z=g[F],te=y[U]=D?kt(y[U]):dt(y[U]);if(Un(z,te))B(z,te,E,null,S,R,L,M,D);else break;F--,U--}if(P>F){if(P<=U){const z=U+1,te=z<V?y[z].el:A;for(;P<=U;)B(null,y[P]=D?kt(y[P]):dt(y[P]),E,te,S,R,L,M,D),P++}}else if(P>U)for(;P<=F;)tt(g[P],S,R,!0),P++;else{const z=P,te=P,he=new Map;for(P=te;P<=U;P++){const qe=y[P]=D?kt(y[P]):dt(y[P]);qe.key!=null&&he.set(qe.key,P)}let le,Ge=0;const We=U-te+1;let lt=!1,at=0;const Bn=new Array(We);for(P=0;P<We;P++)Bn[P]=0;for(P=z;P<=F;P++){const qe=g[P];if(Ge>=We){tt(qe,S,R,!0);continue}let ct;if(qe.key!=null)ct=he.get(qe.key);else for(le=te;le<=U;le++)if(Bn[le-te]===0&&Un(qe,y[le])){ct=le;break}ct===void 0?tt(qe,S,R,!0):(Bn[ct-te]=P+1,ct>=at?at=ct:lt=!0,B(qe,y[ct],E,null,S,R,L,M,D),Ge++)}const hl=lt?dd(Bn):mn;for(le=hl.length-1,P=We-1;P>=0;P--){const qe=te+P,ct=y[qe],dl=qe+1<V?y[qe+1].el:A;Bn[P]===0?B(null,ct,E,dl,S,R,L,M,D):lt&&(le<0||P!==hl[le]?bt(ct,E,dl,2):le--)}}},bt=(g,y,E,A,S=null)=>{const{el:R,type:L,transition:M,children:D,shapeFlag:P}=g;if(P&6){bt(g.component.subTree,y,E,A);return}if(P&128){g.suspense.move(y,E,A);return}if(P&64){L.move(g,y,E,Fn);return}if(L===Xe){s(R,y,E);for(let F=0;F<D.length;F++)bt(D[F],y,E,A);s(g.anchor,y,E);return}if(L===mr){m(g,y,E);return}if(A!==2&&P&1&&M)if(A===0)M.beforeEnter(R),s(R,y,E),$e(()=>M.enter(R),S);else{const{leave:F,delayLeave:U,afterLeave:z}=M,te=()=>s(R,y,E),he=()=>{F(R,()=>{te(),z&&z()})};U?U(R,te,he):he()}else s(R,y,E)},tt=(g,y,E,A=!1,S=!1)=>{const{type:R,props:L,ref:M,children:D,dynamicChildren:P,shapeFlag:V,patchFlag:F,dirs:U,cacheIndex:z}=g;if(F===-2&&(S=!1),M!=null&&Zs(M,null,E,g,!0),z!=null&&(y.renderCache[z]=void 0),V&256){y.ctx.deactivate(g);return}const te=V&1&&U,he=!Xn(g);let le;if(he&&(le=L&&L.onVnodeBeforeUnmount)&&ut(le,y,g),V&6)Bf(g.component,E,A);else{if(V&128){g.suspense.unmount(E,A);return}te&&qt(g,null,y,"beforeUnmount"),V&64?g.type.remove(g,y,E,Fn,A):P&&!P.hasOnce&&(R!==Xe||F>0&&F&64)?Ln(P,y,E,!1,!0):(R===Xe&&F&384||!S&&V&16)&&Ln(D,y,E),A&&ul(g)}(he&&(le=L&&L.onVnodeUnmounted)||te)&&$e(()=>{le&&ut(le,y,g),te&&qt(g,null,y,"unmounted")},E)},ul=g=>{const{type:y,el:E,anchor:A,transition:S}=g;if(y===Xe){Ff(E,A);return}if(y===mr){w(g);return}const R=()=>{i(E),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(g.shapeFlag&1&&S&&!S.persisted){const{leave:L,delayLeave:M}=S,D=()=>L(E,R);M?M(g.el,R,D):D()}else R()},Ff=(g,y)=>{let E;for(;g!==y;)E=b(g),i(g),g=E;i(y)},Bf=(g,y,E)=>{const{bum:A,scope:S,job:R,subTree:L,um:M,m:D,a:P}=g;wl(D),wl(P),A&&js(A),S.stop(),R&&(R.flags|=8,tt(L,g,y,E)),M&&$e(M,y),$e(()=>{g.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},Ln=(g,y,E,A=!1,S=!1,R=0)=>{for(let L=R;L<g.length;L++)tt(g[L],y,E,A,S)},Ms=g=>{if(g.shapeFlag&6)return Ms(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const y=b(g.anchor||g.el),E=y&&y[Oh];return E?b(E):y};let ur=!1;const fl=(g,y,E)=>{g==null?y._vnode&&tt(y._vnode,null,null,!0):B(y._vnode||null,g,y,null,null,null,E),y._vnode=g,ur||(ur=!0,gl(),mc(),ur=!1)},Fn={p:B,um:tt,m:bt,r:ul,mt:T,mc:X,pc:re,pbc:f,n:Ms,o:n};return{render:fl,hydrate:void 0,createApp:td(fl)}}function gr({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function $t({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function hd(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Bc(n,e,t=!1){const s=n.children,i=e.children;if(G(s)&&G(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=kt(i[r]),l.el=o.el),!t&&l.patchFlag!==-2&&Bc(o,l)),l.type===Yi&&(l.el=o.el)}}function dd(n){const e=n.slice(),t=[0];let s,i,r,o,l;const a=n.length;for(s=0;s<a;s++){const c=n[s];if(c!==0){if(i=t[t.length-1],n[i]<c){e[s]=i,t.push(s);continue}for(r=0,o=t.length-1;r<o;)l=r+o>>1,n[t[l]]<c?r=l+1:o=l;c<n[t[r]]&&(r>0&&(e[s]=t[r-1]),t[r]=s)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function Wc(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Wc(e)}function wl(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const pd=Symbol.for("v-scx"),_d=()=>Zn(pd);function _t(n,e,t){return Uc(n,e,t)}function Uc(n,e,t=ue){const{immediate:s,deep:i,flush:r,once:o}=t,l=De({},t),a=e&&s||!e&&r!=="post";let c;if(hs){if(r==="sync"){const I=_d();c=I.__watcherHandles||(I.__watcherHandles=[])}else if(!a){const I=()=>{};return I.stop=pt,I.resume=pt,I.pause=pt,I}}const d=Ae;l.call=(I,N,B)=>xt(I,d,N,B);let p=!1;r==="post"?l.scheduler=I=>{$e(I,d&&d.suspense)}:r!=="sync"&&(p=!0,l.scheduler=(I,N)=>{N?I():So(I)}),l.augmentJob=I=>{e&&(I.flags|=4),p&&(I.flags|=2,d&&(I.id=d.uid,I.i=d))};const b=Sh(n,e,l);return hs&&(c?c.push(b):a&&b()),b}function xd(n,e,t){const s=this.proxy,i=Ce(n)?n.includes(".")?Hc(s,n):()=>s[n]:n.bind(s,s);let r;q(e)?r=e:(r=e.handler,t=e);const o=Ss(this),l=Uc(i,r.bind(s),t);return o(),l}function Hc(n,e){const t=e.split(".");return()=>{let s=n;for(let i=0;i<t.length&&s;i++)s=s[t[i]];return s}}const gd=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${et(e)}Modifiers`]||n[`${ln(e)}Modifiers`];function md(n,e,...t){if(n.isUnmounted)return;const s=n.vnode.props||ue;let i=t;const r=e.startsWith("update:"),o=r&&gd(s,e.slice(7));o&&(o.trim&&(i=t.map(d=>Ce(d)?d.trim():d)),o.number&&(i=t.map(Dr)));let l,a=s[l=fr(e)]||s[l=fr(et(e))];!a&&r&&(a=s[l=fr(ln(e))]),a&&xt(a,n,6,i);const c=s[l+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,xt(c,n,6,i)}}function Vc(n,e,t=!1){const s=e.emitsCache,i=s.get(n);if(i!==void 0)return i;const r=n.emits;let o={},l=!1;if(!q(n)){const a=c=>{const d=Vc(c,e,!0);d&&(l=!0,De(o,d))};!t&&e.mixins.length&&e.mixins.forEach(a),n.extends&&a(n.extends),n.mixins&&n.mixins.forEach(a)}return!r&&!l?(me(n)&&s.set(n,null),null):(G(r)?r.forEach(a=>o[a]=null):De(o,r),me(n)&&s.set(n,o),o)}function Ki(n,e){return!n||!Wi(e)?!1:(e=e.slice(2).replace(/Once$/,""),oe(n,e[0].toLowerCase()+e.slice(1))||oe(n,ln(e))||oe(n,e))}function Sl(n){const{type:e,vnode:t,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:a,render:c,renderCache:d,props:p,data:b,setupState:I,ctx:N,inheritAttrs:B}=n,$=Js(n);let x,_;try{if(t.shapeFlag&4){const w=i||s,k=w;x=dt(c.call(k,w,d,p,I,b,N)),_=l}else{const w=e;x=dt(w.length>1?w(p,{attrs:l,slots:o,emit:a}):w(p,null)),_=e.props?l:bd(l)}}catch(w){es.length=0,qi(w,n,1),x=Ze(nn)}let m=x;if(_&&B!==!1){const w=Object.keys(_),{shapeFlag:k}=m;w.length&&k&7&&(r&&w.some(po)&&(_=yd(_,r)),m=wn(m,_,!1,!0))}return t.dirs&&(m=wn(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(t.dirs):t.dirs),t.transition&&To(m,t.transition),x=m,Js($),x}const bd=n=>{let e;for(const t in n)(t==="class"||t==="style"||Wi(t))&&((e||(e={}))[t]=n[t]);return e},yd=(n,e)=>{const t={};for(const s in n)(!po(s)||!(s.slice(9)in e))&&(t[s]=n[s]);return t};function vd(n,e,t){const{props:s,children:i,component:r}=n,{props:o,children:l,patchFlag:a}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&a>=0){if(a&1024)return!0;if(a&16)return s?Tl(s,o,c):!!o;if(a&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const b=d[p];if(o[b]!==s[b]&&!Ki(c,b))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Tl(s,o,c):!0:!!o;return!1}function Tl(n,e,t){const s=Object.keys(e);if(s.length!==Object.keys(n).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==n[r]&&!Ki(t,r))return!0}return!1}function Cd({vnode:n,parent:e},t){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=e.vnode).el=t,e=e.parent;else break}}const jc=n=>n.__isSuspense;function Id(n,e){e&&e.pendingBranch?G(n)?e.effects.push(...n):e.effects.push(n):Rh(n)}const Xe=Symbol.for("v-fgt"),Yi=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),mr=Symbol.for("v-stc"),es=[];let Ke=null;function ee(n=!1){es.push(Ke=n?null:[])}function Ed(){es.pop(),Ke=es[es.length-1]||null}let fs=1;function Nl(n,e=!1){fs+=n,n<0&&Ke&&e&&(Ke.hasOnce=!0)}function zc(n){return n.dynamicChildren=fs>0?Ke||mn:null,Ed(),fs>0&&Ke&&Ke.push(n),n}function ne(n,e,t,s,i,r){return zc(v(n,e,t,s,i,r,!0))}function Gc(n,e,t,s,i){return zc(Ze(n,e,t,s,i,!0))}function qc(n){return n?n.__v_isVNode===!0:!1}function Un(n,e){return n.type===e.type&&n.key===e.key}const $c=({key:n})=>n??null,zs=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Ce(n)||ve(n)||q(n)?{i:Ue,r:n,k:e,f:!!t}:n:null);function v(n,e=null,t=null,s=0,i=null,r=n===Xe?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&$c(e),ref:e&&zs(e),scopeId:yc,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ue};return l?(Ro(a,t),r&128&&n.normalize(a)):t&&(a.shapeFlag|=Ce(t)?8:16),fs>0&&!o&&Ke&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&Ke.push(a),a}const Ze=wd;function wd(n,e=null,t=null,s=0,i=null,r=!1){if((!n||n===wc)&&(n=nn),qc(n)){const l=wn(n,e,!0);return t&&Ro(l,t),fs>0&&!r&&Ke&&(l.shapeFlag&6?Ke[Ke.indexOf(n)]=l:Ke.push(l)),l.patchFlag=-2,l}if(Ld(n)&&(n=n.__vccOpts),e){e=Sd(e);let{class:l,style:a}=e;l&&!Ce(l)&&(e.class=yn(l)),me(a)&&(Eo(a)&&!G(a)&&(a=De({},a)),e.style=go(a))}const o=Ce(n)?1:jc(n)?128:kh(n)?64:me(n)?4:q(n)?2:0;return v(n,e,t,s,i,o,r,!0)}function Sd(n){return n?Eo(n)||Pc(n)?De({},n):n:null}function wn(n,e,t=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:a}=n,c=e?Td(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&$c(c),ref:e&&e.ref?t&&r?G(r)?r.concat(zs(e)):[r,zs(e)]:zs(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Xe?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:a,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&wn(n.ssContent),ssFallback:n.ssFallback&&wn(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return a&&s&&To(d,a.clone(d)),d}function ae(n=" ",e=0){return Ze(Yi,null,n,e)}function be(n="",e=!1){return e?(ee(),Gc(nn,null,n)):Ze(nn,null,n)}function dt(n){return n==null||typeof n=="boolean"?Ze(nn):G(n)?Ze(Xe,null,n.slice()):qc(n)?kt(n):Ze(Yi,null,String(n))}function kt(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:wn(n)}function Ro(n,e){let t=0;const{shapeFlag:s}=n;if(e==null)e=null;else if(G(e))t=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Ro(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!Pc(e)?e._ctx=Ue:i===3&&Ue&&(Ue.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else q(e)?(e={default:e,_ctx:Ue},t=32):(e=String(e),s&64?(t=16,e=[ae(e)]):t=8);n.children=e,n.shapeFlag|=t}function Td(...n){const e={};for(let t=0;t<n.length;t++){const s=n[t];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=yn([e.class,s.class]));else if(i==="style")e.style=go([e.style,s.style]);else if(Wi(i)){const r=e[i],o=s[i];o&&r!==o&&!(G(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function ut(n,e,t,s=null){xt(n,e,7,[t,s])}const Nd=Nc();let Rd=0;function Ad(n,e,t){const s=n.type,i=(e?e.appContext:n.appContext)||Nd,r={uid:Rd++,vnode:n,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ya(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kc(s,i),emitsOptions:Vc(s,i),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:s.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=md.bind(null,r),n.ce&&n.ce(r),r}let Ae=null,ti,jr;{const n=ji(),e=(t,s)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ti=e("__VUE_INSTANCE_SETTERS__",t=>Ae=t),jr=e("__VUE_SSR_SETTERS__",t=>hs=t)}const Ss=n=>{const e=Ae;return ti(n),n.scope.on(),()=>{n.scope.off(),ti(e)}},Rl=()=>{Ae&&Ae.scope.off(),ti(null)};function Kc(n){return n.vnode.shapeFlag&4}let hs=!1;function Pd(n,e=!1,t=!1){e&&jr(e);const{props:s,children:i}=n.vnode,r=Kc(n);id(n,s,r,e),ad(n,i,t);const o=r?Od(n,e):void 0;return e&&jr(!1),o}function Od(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Kh);const{setup:s}=t;if(s){zt();const i=n.setupContext=s.length>1?Dd(n):null,r=Ss(n),o=Es(s,n,0,[n.props,i]),l=Va(o);if(Gt(),r(),(l||n.sp)&&!Xn(n)&&vc(n),l){if(o.then(Rl,Rl),e)return o.then(a=>{Al(n,a)}).catch(a=>{qi(a,n,0)});n.asyncDep=o}else Al(n,o)}else Yc(n)}function Al(n,e,t){q(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:me(e)&&(n.setupState=pc(e)),Yc(n)}function Yc(n,e,t){const s=n.type;n.render||(n.render=s.render||pt);{const i=Ss(n);zt();try{Yh(n)}finally{Gt(),i()}}}const kd={get(n,e){return Pe(n,"get",""),n[e]}};function Dd(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,kd),slots:n.slots,emit:n.emit,expose:e}}function Qi(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(pc(wo(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Jn)return Jn[t](n)},has(e,t){return t in e||t in Jn}})):n.proxy}function Md(n,e=!0){return q(n)?n.displayName||n.name:n.name||e&&n.__name}function Ld(n){return q(n)&&"__vccOpts"in n}const Qc=(n,e)=>Eh(n,e,hs),Fd="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zr;const Pl=typeof window<"u"&&window.trustedTypes;if(Pl)try{zr=Pl.createPolicy("vue",{createHTML:n=>n})}catch{}const Xc=zr?n=>zr.createHTML(n):n=>n,Bd="http://www.w3.org/2000/svg",Wd="http://www.w3.org/1998/Math/MathML",vt=typeof document<"u"?document:null,Ol=vt&&vt.createElement("template"),Ud={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,s)=>{const i=e==="svg"?vt.createElementNS(Bd,n):e==="mathml"?vt.createElementNS(Wd,n):t?vt.createElement(n,{is:t}):vt.createElement(n);return n==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:n=>vt.createTextNode(n),createComment:n=>vt.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>vt.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,s,i,r){const o=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{Ol.innerHTML=Xc(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const l=Ol.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Hd=Symbol("_vtc");function Vd(n,e,t){const s=n[Hd];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const kl=Symbol("_vod"),jd=Symbol("_vsh"),zd=Symbol(""),Gd=/(^|;)\s*display\s*:/;function qd(n,e,t){const s=n.style,i=Ce(t);let r=!1;if(t&&!i){if(e)if(Ce(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();t[l]==null&&Gs(s,l,"")}else for(const o in e)t[o]==null&&Gs(s,o,"");for(const o in t)o==="display"&&(r=!0),Gs(s,o,t[o])}else if(i){if(e!==t){const o=s[zd];o&&(t+=";"+o),s.cssText=t,r=Gd.test(t)}}else e&&n.removeAttribute("style");kl in n&&(n[kl]=r?s.display:"",n[jd]&&(s.display="none"))}const Dl=/\s*!important$/;function Gs(n,e,t){if(G(t))t.forEach(s=>Gs(n,e,s));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const s=$d(n,e);Dl.test(t)?n.setProperty(ln(s),t.replace(Dl,""),"important"):n[s]=t}}const Ml=["Webkit","Moz","ms"],br={};function $d(n,e){const t=br[e];if(t)return t;let s=et(e);if(s!=="filter"&&s in n)return br[e]=s;s=Vi(s);for(let i=0;i<Ml.length;i++){const r=Ml[i]+s;if(r in n)return br[e]=r}return e}const Ll="http://www.w3.org/1999/xlink";function Fl(n,e,t,s,i,r=Yf(e)){s&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Ll,e.slice(6,e.length)):n.setAttributeNS(Ll,e,t):t==null||r&&!qa(t)?n.removeAttribute(e):n.setAttribute(e,r?"":jt(t)?String(t):t)}function Bl(n,e,t,s,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?Xc(t):t);return}const r=n.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?n.getAttribute("value")||"":n.value,a=t==null?n.type==="checkbox"?"on":"":String(t);(l!==a||!("_value"in n))&&(n.value=a),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=qa(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(i||e)}function xn(n,e,t,s){n.addEventListener(e,t,s)}function Kd(n,e,t,s){n.removeEventListener(e,t,s)}const Wl=Symbol("_vei");function Yd(n,e,t,s,i=null){const r=n[Wl]||(n[Wl]={}),o=r[e];if(s&&o)o.value=s;else{const[l,a]=Qd(e);if(s){const c=r[e]=Zd(s,i);xn(n,l,c,a)}else o&&(Kd(n,l,o,a),r[e]=void 0)}}const Ul=/(?:Once|Passive|Capture)$/;function Qd(n){let e;if(Ul.test(n)){e={};let s;for(;s=n.match(Ul);)n=n.slice(0,n.length-s[0].length),e[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):ln(n.slice(2)),e]}let yr=0;const Xd=Promise.resolve(),Jd=()=>yr||(Xd.then(()=>yr=0),yr=Date.now());function Zd(n,e){const t=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=t.attached)return;xt(ep(s,t.value),e,5,[s])};return t.value=n,t.attached=Jd(),t}function ep(n,e){if(G(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Hl=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,tp=(n,e,t,s,i,r)=>{const o=i==="svg";e==="class"?Vd(n,s,o):e==="style"?qd(n,t,s):Wi(e)?po(e)||Yd(n,e,t,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):np(n,e,s,o))?(Bl(n,e,s),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Fl(n,e,s,o,r,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Ce(s))?Bl(n,et(e),s,r,e):(e==="true-value"?n._trueValue=s:e==="false-value"&&(n._falseValue=s),Fl(n,e,s,o))};function np(n,e,t,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in n&&Hl(e)&&q(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Hl(e)&&Ce(t)?!1:e in n}const Vl=n=>{const e=n.props["onUpdate:modelValue"]||!1;return G(e)?t=>js(e,t):e};function sp(n){n.target.composing=!0}function jl(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vr=Symbol("_assign"),ip={created(n,{modifiers:{lazy:e,trim:t,number:s}},i){n[vr]=Vl(i);const r=s||i.props&&i.props.type==="number";xn(n,e?"change":"input",o=>{if(o.target.composing)return;let l=n.value;t&&(l=l.trim()),r&&(l=Dr(l)),n[vr](l)}),t&&xn(n,"change",()=>{n.value=n.value.trim()}),e||(xn(n,"compositionstart",sp),xn(n,"compositionend",jl),xn(n,"change",jl))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:s,trim:i,number:r}},o){if(n[vr]=Vl(o),n.composing)return;const l=(r||n.type==="number")&&!/^0\d/.test(n.value)?Dr(n.value):n.value,a=e??"";l!==a&&(document.activeElement===n&&n.type!=="range"&&(s&&e===t||i&&n.value.trim()===a)||(n.value=a))}},rp=De({patchProp:tp},Ud);let zl;function op(){return zl||(zl=ud(rp))}const lp=(...n)=>{const e=op().createApp(...n),{mount:t}=e;return e.mount=s=>{const i=cp(s);if(!i)return;const r=e._component;!q(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,ap(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function ap(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function cp(n){return Ce(n)?document.querySelector(n):n}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Jc;const Xi=n=>Jc=n,Zc=Symbol();function Gr(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var ts;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(ts||(ts={}));function up(){const n=Qa(!0),e=n.run(()=>Ie({}));let t=[],s=[];const i=wo({install(r){Xi(i),i._a=r,r.provide(Zc,i),r.config.globalProperties.$pinia=i,s.forEach(o=>t.push(o)),s=[]},use(r){return this._a?t.push(r):s.push(r),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return i}const eu=()=>{};function Gl(n,e,t,s=eu){n.push(e);const i=()=>{const r=n.indexOf(e);r>-1&&(n.splice(r,1),s())};return!t&&Xa()&&Qf(i),i}function dn(n,...e){n.slice().forEach(t=>{t(...e)})}const fp=n=>n(),ql=Symbol(),Cr=Symbol();function qr(n,e){n instanceof Map&&e instanceof Map?e.forEach((t,s)=>n.set(s,t)):n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const s=e[t],i=n[t];Gr(i)&&Gr(s)&&n.hasOwnProperty(t)&&!ve(s)&&!Mt(s)?n[t]=qr(i,s):n[t]=s}return n}const hp=Symbol();function dp(n){return!Gr(n)||!n.hasOwnProperty(hp)}const{assign:Pt}=Object;function pp(n){return!!(ve(n)&&n.effect)}function _p(n,e,t,s){const{state:i,actions:r,getters:o}=e,l=t.state.value[n];let a;function c(){l||(t.state.value[n]=i?i():{});const d=yh(t.state.value[n]);return Pt(d,r,Object.keys(o||{}).reduce((p,b)=>(p[b]=wo(Qc(()=>{Xi(t);const I=t._s.get(n);return o[b].call(I,I)})),p),{}))}return a=tu(n,c,e,t,s,!0),a}function tu(n,e,t={},s,i,r){let o;const l=Pt({actions:{}},t),a={deep:!0};let c,d,p=[],b=[],I;const N=s.state.value[n];!r&&!N&&(s.state.value[n]={}),Ie({});let B;function $(X){let J;c=d=!1,typeof X=="function"?(X(s.state.value[n]),J={type:ts.patchFunction,storeId:n,events:I}):(qr(s.state.value[n],X),J={type:ts.patchObject,payload:X,storeId:n,events:I});const f=B=Symbol();xc().then(()=>{B===f&&(c=!0)}),d=!0,dn(p,J,s.state.value[n])}const x=r?function(){const{state:J}=t,f=J?J():{};this.$patch(u=>{Pt(u,f)})}:eu;function _(){o.stop(),p=[],b=[],s._s.delete(n)}const m=(X,J="")=>{if(ql in X)return X[Cr]=J,X;const f=function(){Xi(s);const u=Array.from(arguments),h=[],C=[];function T(W){h.push(W)}function Z(W){C.push(W)}dn(b,{args:u,name:f[Cr],store:k,after:T,onError:Z});let H;try{H=X.apply(this&&this.$id===n?this:k,u)}catch(W){throw dn(C,W),W}return H instanceof Promise?H.then(W=>(dn(h,W),W)).catch(W=>(dn(C,W),Promise.reject(W))):(dn(h,H),H)};return f[ql]=!0,f[Cr]=J,f},w={_p:s,$id:n,$onAction:Gl.bind(null,b),$patch:$,$reset:x,$subscribe(X,J={}){const f=Gl(p,X,J.detached,()=>u()),u=o.run(()=>_t(()=>s.state.value[n],h=>{(J.flush==="sync"?d:c)&&X({storeId:n,type:ts.direct,events:I},h)},Pt({},a,J)));return f},$dispose:_},k=Gi(w);s._s.set(n,k);const Se=(s._a&&s._a.runWithContext||fp)(()=>s._e.run(()=>(o=Qa()).run(()=>e({action:m}))));for(const X in Se){const J=Se[X];if(ve(J)&&!pp(J)||Mt(J))r||(N&&dp(J)&&(ve(J)?J.value=N[X]:qr(J,N[X])),s.state.value[n][X]=J);else if(typeof J=="function"){const f=m(J,X);Se[X]=f,l.actions[X]=J}}return Pt(k,Se),Pt(se(k),Se),Object.defineProperty(k,"$state",{get:()=>s.state.value[n],set:X=>{$(J=>{Pt(J,X)})}}),s._p.forEach(X=>{Pt(k,o.run(()=>X({store:k,app:s._a,pinia:s,options:l})))}),N&&r&&t.hydrate&&t.hydrate(k.$state,N),c=!0,d=!0,k}/*! #__NO_SIDE_EFFECTS__ */function xp(n,e,t){let s;const i=typeof e=="function";s=i?t:e;function r(o,l){const a=sd();return o=o||(a?Zn(Zc,null):null),o&&Xi(o),o=Jc,o._s.has(n)||(i?tu(n,e,s,o):_p(n,s,o)),o._s.get(n)}return r.$id=n,r}const gp=""+new URL("waiter-GGyCVIlv.gif",import.meta.url).href,mp=()=>{};var $l={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(n,e){if(!n)throw Pn(e)},Pn=function(n){return new Error("Firebase Database ("+nu.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},bp=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const i=n[t++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=n[t++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=n[t++],o=n[t++],l=n[t++],a=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(a&1023))}else{const r=n[t++],o=n[t++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Ao={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<n.length;i+=3){const r=n[i],o=i+1<n.length,l=o?n[i+1]:0,a=i+2<n.length,c=a?n[i+2]:0,d=r>>2,p=(r&3)<<4|l>>4;let b=(l&15)<<2|c>>6,I=c&63;a||(I=64,o||(b=64)),s.push(t[d],t[p],t[b],t[I])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(su(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bp(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<n.length;){const r=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const p=i<n.length?t[n.charAt(i)]:64;if(++i,r==null||l==null||c==null||p==null)throw new yp;const b=r<<2|l>>4;if(s.push(b),c!==64){const I=l<<4&240|c>>2;if(s.push(I),p!==64){const N=c<<6&192|p;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yp extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iu=function(n){const e=su(n);return Ao.encodeByteArray(e,!0)},ni=function(n){return iu(n).replace(/\./g,"")},$r=function(n){try{return Ao.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n){return ru(void 0,n)}function ru(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Cp(t)||(n[t]=ru(n[t],e[t]));return n}function Cp(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=()=>Ip().__FIREBASE_DEFAULTS__,wp=()=>{if(typeof process>"u"||typeof $l>"u")return;const n=$l.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Sp=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$r(n[1]);return e&&JSON.parse(e)},ou=()=>{try{return mp()||Ep()||wp()||Sp()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Tp=n=>{var e,t;return(t=(e=ou())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Np=n=>{const e=Tp(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},lu=()=>{var n;return(n=ou())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",i=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ni(JSON.stringify(t)),ni(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function au(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ap())}function Pp(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Op(){return nu.NODE_ADMIN===!0}function kp(){try{return typeof indexedDB=="object"}catch{return!1}}function Dp(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="FirebaseError";class Ts extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Mp,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?Lp(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ts(i,l,s)}}function Lp(n,e){return n.replace(Fp,(t,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const Fp=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n){return JSON.parse(n)}function Ee(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=function(n){let e={},t={},s={},i="";try{const r=n.split(".");e=ds($r(r[0])||""),t=ds($r(r[1])||""),i=r[2],s=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:s,signature:i}},Bp=function(n){const e=uu(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Wp=function(n){const e=uu(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Sn(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Kl(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function si(n,e,t){const s={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=e.call(t,n[i],i,n));return s}function ii(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const i of t){if(!s.includes(i))return!1;const r=n[i],o=e[i];if(Yl(r)&&Yl(o)){if(!ii(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!t.includes(i))return!1;return!0}function Yl(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const s=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)s[p]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let p=0;p<16;p++)s[p]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let p=16;p<80;p++){const b=s[p-3]^s[p-8]^s[p-14]^s[p-16];s[p]=(b<<1|b>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,d;for(let p=0;p<80;p++){p<40?p<20?(c=l^r&(o^l),d=1518500249):(c=r^o^l,d=1859775393):p<60?(c=r&o|l&(r|o),d=2400959708):(c=r^o^l,d=3395469782);const b=(i<<5|i>>>27)+c+a+d+s[p]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=i,i=b}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const s=t-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function Po(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,O(s<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Zi=function(n){let e=0;for(let t=0;t<n.length;t++){const s=n.charCodeAt(t);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n){return n&&n._delegate?n._delegate:n}class ps{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Ji;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gp(e))try{this.getOrInitializeService({instanceIdentifier:Yt})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Yt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yt){return this.instances.has(e)}getOptions(e=Yt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,t){var s;const i=this.normalizeInstanceIdentifier(t),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const i of s)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zp(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Yt){return this.component?this.component.multipleInstances?e:Yt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zp(n){return n===Yt?void 0:n}function Gp(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(pe||(pe={}));const $p={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},Kp=pe.INFO,Yp={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},Qp=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),i=Yp[e];if(i)console[i](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fu{constructor(e){this.name=e,this._logLevel=Kp,this._logHandler=Qp,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$p[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const Xp=(n,e)=>e.some(t=>n instanceof t);let Ql,Xl;function Jp(){return Ql||(Ql=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zp(){return Xl||(Xl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hu=new WeakMap,Kr=new WeakMap,du=new WeakMap,Ir=new WeakMap,Oo=new WeakMap;function e0(n){const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{t(Lt(n.result)),i()},o=()=>{s(n.error),i()};n.addEventListener("success",r),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&hu.set(t,n)}).catch(()=>{}),Oo.set(e,n),e}function t0(n){if(Kr.has(n))return;const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{s(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});Kr.set(n,e)}let Yr={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kr.get(n);if(e==="objectStoreNames")return n.objectStoreNames||du.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function n0(n){Yr=n(Yr)}function s0(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Er(this),e,...t);return du.set(s,e.sort?e.sort():[e]),Lt(s)}:Zp().includes(n)?function(...e){return n.apply(Er(this),e),Lt(hu.get(this))}:function(...e){return Lt(n.apply(Er(this),e))}}function i0(n){return typeof n=="function"?s0(n):(n instanceof IDBTransaction&&t0(n),Xp(n,Jp())?new Proxy(n,Yr):n)}function Lt(n){if(n instanceof IDBRequest)return e0(n);if(Ir.has(n))return Ir.get(n);const e=i0(n);return e!==n&&(Ir.set(n,e),Oo.set(e,n)),e}const Er=n=>Oo.get(n);function r0(n,e,{blocked:t,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(n,e),l=Lt(o);return s&&o.addEventListener("upgradeneeded",a=>{s(Lt(o.result),a.oldVersion,a.newVersion,Lt(o.transaction),a)}),t&&o.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const o0=["get","getKey","getAll","getAllKeys","count"],l0=["put","add","delete","clear"],wr=new Map;function Jl(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wr.get(e))return wr.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,i=l0.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(i||o0.includes(t)))return;const r=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[t](...l),i&&a.done]))[0]};return wr.set(e,r),r}n0(n=>({...n,get:(e,t,s)=>Jl(e,t)||n.get(e,t,s),has:(e,t)=>!!Jl(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(c0(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function c0(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qr="@firebase/app",Zl="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St=new fu("@firebase/app"),u0="@firebase/app-compat",f0="@firebase/analytics-compat",h0="@firebase/analytics",d0="@firebase/app-check-compat",p0="@firebase/app-check",_0="@firebase/auth",x0="@firebase/auth-compat",g0="@firebase/database",m0="@firebase/data-connect",b0="@firebase/database-compat",y0="@firebase/functions",v0="@firebase/functions-compat",C0="@firebase/installations",I0="@firebase/installations-compat",E0="@firebase/messaging",w0="@firebase/messaging-compat",S0="@firebase/performance",T0="@firebase/performance-compat",N0="@firebase/remote-config",R0="@firebase/remote-config-compat",A0="@firebase/storage",P0="@firebase/storage-compat",O0="@firebase/firestore",k0="@firebase/vertexai",D0="@firebase/firestore-compat",M0="firebase",L0="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]",F0={[Qr]:"fire-core",[u0]:"fire-core-compat",[h0]:"fire-analytics",[f0]:"fire-analytics-compat",[p0]:"fire-app-check",[d0]:"fire-app-check-compat",[_0]:"fire-auth",[x0]:"fire-auth-compat",[g0]:"fire-rtdb",[m0]:"fire-data-connect",[b0]:"fire-rtdb-compat",[y0]:"fire-fn",[v0]:"fire-fn-compat",[C0]:"fire-iid",[I0]:"fire-iid-compat",[E0]:"fire-fcm",[w0]:"fire-fcm-compat",[S0]:"fire-perf",[T0]:"fire-perf-compat",[N0]:"fire-rc",[R0]:"fire-rc-compat",[A0]:"fire-gcs",[P0]:"fire-gcs-compat",[O0]:"fire-fst",[D0]:"fire-fst-compat",[k0]:"fire-vertex","fire-js":"fire-js",[M0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Map,B0=new Map,Jr=new Map;function ea(n,e){try{n.container.addComponent(e)}catch(t){St.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oi(n){const e=n.name;if(Jr.has(e))return St.debug(`There were multiple attempts to register component ${e}.`),!1;Jr.set(e,n);for(const t of ri.values())ea(t,n);for(const t of B0.values())ea(t,n);return!0}function W0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function U0(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ft=new cu("app","Firebase",H0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=L0;function pu(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xr,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Ft.create("bad-app-name",{appName:String(i)});if(t||(t=lu()),!t)throw Ft.create("no-options");const r=ri.get(i);if(r){if(ii(t,r.options)&&ii(s,r.config))return r;throw Ft.create("duplicate-app",{appName:i})}const o=new qp(i);for(const a of Jr.values())o.addComponent(a);const l=new V0(t,s,o);return ri.set(i,l),l}function z0(n=Xr){const e=ri.get(n);if(!e&&n===Xr&&lu())return pu();if(!e)throw Ft.create("no-app",{appName:n});return e}function Cn(n,e,t){var s;let i=(s=F0[n])!==null&&s!==void 0?s:n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),St.warn(l.join(" "));return}oi(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="firebase-heartbeat-database",q0=1,_s="firebase-heartbeat-store";let Sr=null;function _u(){return Sr||(Sr=r0(G0,q0,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_s)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ft.create("idb-open",{originalErrorMessage:n.message})})),Sr}async function $0(n){try{const t=(await _u()).transaction(_s),s=await t.objectStore(_s).get(xu(n));return await t.done,s}catch(e){if(e instanceof Ts)St.warn(e.message);else{const t=Ft.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});St.warn(t.message)}}}async function ta(n,e){try{const s=(await _u()).transaction(_s,"readwrite");await s.objectStore(_s).put(e,xu(n)),await s.done}catch(t){if(t instanceof Ts)St.warn(t.message);else{const s=Ft.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});St.warn(s.message)}}}function xu(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=1024,Y0=30;class Q0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new J0(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=na();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Y0){const o=Z0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){St.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=na(),{heartbeatsToSend:s,unsentEntries:i}=X0(this._heartbeatsCache.heartbeats),r=ni(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return St.warn(t),""}}}function na(){return new Date().toISOString().substring(0,10)}function X0(n,e=K0){const t=[];let s=n.slice();for(const i of n){const r=t.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),sa(t)>e){r.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),sa(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class J0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kp()?Dp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $0(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ta(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ta(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sa(n){return ni(JSON.stringify({version:2,heartbeats:n})).length}function Z0(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(n){oi(new ps("platform-logger",e=>new a0(e),"PRIVATE")),oi(new ps("heartbeat",e=>new Q0(e),"PRIVATE")),Cn(Qr,Zl,n),Cn(Qr,Zl,"esm2017"),Cn("fire-js","")}e_("");var t_="firebase",n_="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn(t_,n_,"app");var ia={};const ra="@firebase/database",oa="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu="";function s_(n){gu=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ee(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ds(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Rt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new i_(e)}}catch{}return new r_},Xt=mu("localStorage"),o_=mu("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new fu("@firebase/database"),l_=function(){let n=1;return function(){return n++}}(),bu=function(n){const e=Vp(n),t=new Hp;t.update(e);const s=t.digest();return Ao.encodeByteArray(s)},Ns=function(...n){let e="";for(let t=0;t<n.length;t++){const s=n[t];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ns.apply(null,s):typeof s=="object"?e+=Ee(s):e+=s,e+=" "}return e};let ns=null,la=!0;const a_=function(n,e){O(!0,"Can't turn on custom loggers persistently."),In.logLevel=pe.VERBOSE,ns=In.log.bind(In)},ke=function(...n){if(la===!0&&(la=!1,ns===null&&o_.get("logging_enabled")===!0&&a_()),ns){const e=Ns.apply(null,n);ns(e)}},Rs=function(n){return function(...e){ke(n,...e)}},Zr=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ns(...n);In.error(e)},Tt=function(...n){const e=`FIREBASE FATAL ERROR: ${Ns(...n)}`;throw In.error(e),new Error(e)},Ve=function(...n){const e="FIREBASE WARNING: "+Ns(...n);In.warn(e)},c_=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yu=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},u_=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Tn="[MIN_NAME]",sn="[MAX_NAME]",kn=function(n,e){if(n===e)return 0;if(n===Tn||e===sn)return-1;if(e===Tn||n===sn)return 1;{const t=aa(n),s=aa(e);return t!==null?s!==null?t-s===0?n.length-e.length:t-s:-1:s!==null?1:n<e?-1:1}},f_=function(n,e){return n===e?0:n<e?-1:1},Hn=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ee(e))},ko=function(n){if(typeof n!="object"||n===null)return Ee(n);const e=[];for(const s in n)e.push(s);e.sort();let t="{";for(let s=0;s<e.length;s++)s!==0&&(t+=","),t+=Ee(e[s]),t+=":",t+=ko(n[e[s]]);return t+="}",t},vu=function(n,e){const t=n.length;if(t<=e)return[n];const s=[];for(let i=0;i<t;i+=e)i+e>t?s.push(n.substring(i,t)):s.push(n.substring(i,i+e));return s};function je(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Cu=function(n){O(!yu(n),"Invalid JSON number");const e=11,t=52,s=(1<<e-1)-1;let i,r,o,l,a;n===0?(r=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),s),r=l+s,o=Math.round(n*Math.pow(2,t-l)-Math.pow(2,t))):(r=0,o=Math.round(n/Math.pow(2,1-s-t))));const c=[];for(a=t;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const d=c.join("");let p="";for(a=0;a<64;a+=8){let b=parseInt(d.substr(a,8),2).toString(16);b.length===1&&(b="0"+b),p=p+b}return p.toLowerCase()},h_=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},d_=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function p_(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+t);return s.code=n.toUpperCase(),s}const __=new RegExp("^-?(0*)\\d{1,10}$"),x_=-2147483648,g_=2147483647,aa=function(n){if(__.test(n)){const e=Number(n);if(e>=x_&&e<=g_)return e}return null},Dn=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Ve("Exception was thrown by user callback.",t),e},Math.floor(0))}},m_=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ss=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,U0(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Ve(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t,s){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ve(e)}}class qs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="5",Iu="v",Eu="s",wu="r",Su="f",Tu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Nu="ls",Ru="p",eo="ac",Au="websocket",Pu="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t,s,i,r=!1,o="",l=!1,a=!1,c=null){this.secure=t,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xt.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function v_(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function ku(n,e,t){O(typeof e=="string","typeof type must == string"),O(typeof t=="object","typeof params must == object");let s;if(e===Au)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Pu)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);v_(n)&&(t.ns=n.namespace);const i=[];return je(t,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.counters_={}}incrementCounter(e,t=1){Rt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return vp(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={},Nr={};function Mo(n){const e=n.toString();return Tr[e]||(Tr[e]=new C_),Tr[e]}function I_(n,e){const t=n.toString();return Nr[t]||(Nr[t]=e()),Nr[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Dn(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="start",w_="close",S_="pLPCommand",T_="pRTLPCB",Du="id",Mu="pw",Lu="ser",N_="cb",R_="seg",A_="ts",P_="d",O_="dframe",Fu=1870,Bu=30,k_=Fu-Bu,D_=25e3,M_=3e4;class gn{constructor(e,t,s,i,r,o,l){this.connId=e,this.repoInfo=t,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rs(e),this.stats_=Mo(t),this.urlFn=a=>(this.appCheckToken&&(a[eo]=this.appCheckToken),ku(t,Pu,a))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new E_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(M_)),u_(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Lo((...r)=>{const[o,l,a,c,d]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ca)this.id=l,this.password=a;else if(o===w_)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const s={};s[ca]="t",s[Lu]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[N_]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Iu]=Do,this.transportSessionId&&(s[Eu]=this.transportSessionId),this.lastSessionId&&(s[Nu]=this.lastSessionId),this.applicationId&&(s[Ru]=this.applicationId),this.appCheckToken&&(s[eo]=this.appCheckToken),typeof location<"u"&&location.hostname&&Tu.test(location.hostname)&&(s[wu]=Su);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gn.forceAllow_=!0}static forceDisallow(){gn.forceDisallow_=!0}static isAvailable(){return gn.forceAllow_?!0:!gn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!h_()&&!d_()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ee(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=iu(t),i=vu(s,k_);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const s={};s[O_]="t",s[Du]=e,s[Mu]=t,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ee(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Lo{constructor(e,t,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=l_(),window[S_+this.uniqueCallbackIdentifier]=e,window[T_+this.uniqueCallbackIdentifier]=t,this.myIFrame=Lo.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ke("frame writing exception"),l.stack&&ke(l.stack),ke(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ke("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Du]=this.myID,e[Mu]=this.myPW,e[Lu]=this.currentSerial;let t=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Bu+s.length<=Fu;){const o=this.pendingSegs.shift();s=s+"&"+R_+i+"="+o.seg+"&"+A_+i+"="+o.ts+"&"+P_+i+"="+o.d,i++}return t=t+s,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,s){this.pendingSegs.push({seg:e,ts:t,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const s=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(s,Math.floor(D_)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),t())},s.onerror=()=>{ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=16384,F_=45e3;let li=null;typeof MozWebSocket<"u"?li=MozWebSocket:typeof WebSocket<"u"&&(li=WebSocket);class nt{constructor(e,t,s,i,r,o,l){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rs(this.connId),this.stats_=Mo(t),this.connURL=nt.connectionURL_(t,o,l,i,s),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,s,i,r){const o={};return o[Iu]=Do,typeof location<"u"&&location.hostname&&Tu.test(location.hostname)&&(o[wu]=Su),t&&(o[Eu]=t),s&&(o[Nu]=s),i&&(o[eo]=i),r&&(o[Ru]=r),ku(e,Au,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xt.set("previous_websocket_failure",!0);try{let s;Op(),this.mySock=new li(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){nt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(t);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&li!==null&&!nt.forceDisallow_}static previouslyFailed(){return Xt.isInMemoryStorage||Xt.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const s=ds(t);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const s=this.extractFrameCount_(t);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const t=Ee(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=vu(t,L_);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(F_))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nt.responsesRequiredToBeHealthy=2;nt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{static get ALL_TRANSPORTS(){return[gn,nt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=nt&&nt.isAvailable();let s=t&&!nt.previouslyFailed();if(e.webSocketOnly&&(t||Ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[nt];else{const i=this.transports_=[];for(const r of xs.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);xs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=6e4,W_=5e3,U_=10*1024,H_=100*1024,Rr="t",ua="d",V_="s",fa="r",j_="e",ha="o",da="a",pa="n",_a="p",z_="h";class G_{constructor(e,t,s,i,r,o,l,a,c,d){this.id=e,this.repoInfo_=t,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rs("c:"+this.id+":"),this.transportManager_=new xs(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ss(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>H_?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>U_?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Rr in e){const t=e[Rr];t===da?this.upgradeIfSecondaryHealthy_():t===fa?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===ha&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Hn("t",e),s=Hn("d",e);if(t==="c")this.onSecondaryControl_(s);else if(t==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_a,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:da,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pa,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Hn("t",e),s=Hn("d",e);t==="c"?this.onControl_(s):t==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Hn(Rr,e);if(ua in e){const s=e[ua];if(t===z_){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===pa){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===V_?this.onConnectionShutdown_(s):t===fa?this.onReset_(s):t===j_?Zr("Server Error: "+s):t===ha?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zr("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Do!==s&&Ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,s),ss(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(B_))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ss(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(W_))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_a,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{put(e,t,s,i){}merge(e,t,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,s){}onDisconnectMerge(e,t,s){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,t)}}on(e,t,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:s});const i=this.getInitialEvent(e);i&&t.apply(s,i)}off(e,t,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){O(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Uu{static getInstance(){return new ai}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!au()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=32,ga=768;class fe{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function ie(){return new fe("")}function K(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ut(n){return n.pieces_.length-n.pieceNum_}function _e(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new fe(n.pieces_,e)}function Hu(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function q_(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Vu(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function ju(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new fe(e,0)}function we(n,e){const t=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)t.push(n.pieces_[s]);if(e instanceof fe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)t.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&t.push(s[i])}return new fe(t,0)}function Q(n){return n.pieceNum_>=n.pieces_.length}function Be(n,e){const t=K(n),s=K(e);if(t===null)return e;if(t===s)return Be(_e(n),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Fo(n,e){if(Ut(n)!==Ut(e))return!1;for(let t=n.pieceNum_,s=e.pieceNum_;t<=n.pieces_.length;t++,s++)if(n.pieces_[t]!==e.pieces_[s])return!1;return!0}function st(n,e){let t=n.pieceNum_,s=e.pieceNum_;if(Ut(n)>Ut(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[s])return!1;++t,++s}return!0}class $_{constructor(e,t){this.errorPrefix_=t,this.parts_=Vu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Zi(this.parts_[s]);zu(this)}}function K_(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Zi(e),zu(n)}function Y_(n){const e=n.parts_.pop();n.byteLength_-=Zi(e),n.parts_.length>0&&(n.byteLength_-=1)}function zu(n){if(n.byteLength_>ga)throw new Error(n.errorPrefix_+"has a key path longer than "+ga+" bytes ("+n.byteLength_+").");if(n.parts_.length>xa)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xa+") or object contains a cycle "+Qt(n))}function Qt(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Uu{static getInstance(){return new Bo}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=1e3,Q_=60*5*1e3,ma=30*1e3,X_=1.3,J_=3e4,Z_="server_kill",ba=3;class wt extends Wu{constructor(e,t,s,i,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=wt.nextPersistentConnectionId_++,this.log_=Rs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vn,this.maxReconnectDelay_=Q_,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bo.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ai.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,s){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(Ee(r)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const t=new Ji,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?t.resolve(l):t.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:t,query:e,tag:s};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(s)})}sendListen_(e){const t=e.query,s=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,c=l.s;wt.warnOnListenWarnings_(a,t),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Rt(e,"w")){const s=Sn(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();Ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Wp(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ma)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Bp(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(t,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,s=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,s)})}unlisten(e,t){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,t)}sendUnlisten_(e,t,s,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:s})}onDisconnectMerge(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:s})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,s,i){const r={p:t,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,s,i){this.putInternal("p",e,t,s,i)}merge(e,t,s,i){this.putInternal("m",e,t,s,i)}putInternal(e,t,s,i,r){this.initConnection_();const o={p:t,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,s,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ee(e));const t=e.r,s=this.requestCBHash_[t];s&&(delete this.requestCBHash_[t],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Zr("Unrecognized action received from server: "+Ee(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>J_&&(this.reconnectDelay_=Vn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*X_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+wt.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,s())},c=function(p){O(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:a,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,b]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?ke("getToken() completed but was canceled"):(ke("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=b&&b.token,l=new G_(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,s,I=>{Ve(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(Z_)},r))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Ve(p),a())}}}interrupt(e){ke("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ke("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Kl(this.interruptReasons_)&&(this.reconnectDelay_=Vn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let s;t?s=t.map(r=>ko(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const s=new fe(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(t),r.delete(t),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,t){ke("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ba&&(this.reconnectDelay_=ma,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ke("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ba&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+gu.replace(/\./g,"-")]=1,au()?e["framework.cordova"]=1:Pp()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ai.getInstance().currentlyOnline();return Kl(this.interruptReasons_)&&e}}wt.nextPersistentConnectionId_=0;wt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Y(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const s=new Y(Tn,e),i=new Y(Tn,t);return this.compare(s,i)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws;class Gu extends er{static get __EMPTY_NODE(){return Ws}static set __EMPTY_NODE(e){Ws=e}compare(e,t){return kn(e.name,t.name)}isDefinedOn(e){throw Pn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Y.MIN}maxPost(){return new Y(sn,Ws)}makePost(e,t){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,Ws)}toString(){return".key"}}const En=new Gu;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?s(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ne{constructor(e,t,s,i,r){this.key=e,this.value=t,this.color=s??Ne.RED,this.left=i??He.EMPTY_NODE,this.right=r??He.EMPTY_NODE}copy(e,t,s,i,r){return new Ne(e??this.key,t??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,t,s),null):r===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return He.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let s,i;if(s=this,t(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),t(e,s.key)===0){if(s.right.isEmpty())return He.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ne.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ne.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ne.RED=!0;Ne.BLACK=!1;class ex{copy(e,t,s,i,r){return this}insert(e,t,s){return new Ne(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class He{constructor(e,t=He.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new He(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ne.BLACK,null,null))}remove(e){return new He(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ne.BLACK,null,null))}get(e){let t,s=this.root_;for(;!s.isEmpty();){if(t=this.comparator_(e,s.key),t===0)return s.value;t<0?s=s.left:t>0&&(s=s.right)}return null}getPredecessorKey(e){let t,s=this.root_,i=null;for(;!s.isEmpty();)if(t=this.comparator_(e,s.key),t===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else t<0?s=s.left:t>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Us(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Us(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Us(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Us(this.root_,null,this.comparator_,!0,e)}}He.EMPTY_NODE=new ex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n,e){return kn(n.name,e.name)}function Wo(n,e){return kn(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to;function nx(n){to=n}const qu=function(n){return typeof n=="number"?"number:"+Cu(n):"string:"+n},$u=function(n){if(n.isLeafNode()){const e=n.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rt(e,".sv"),"Priority must be a string or number.")}else O(n===to||n.isEmpty(),"priority of unexpected type.");O(n===to||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya;class Te{static set __childrenNodeConstructor(e){ya=e}static get __childrenNodeConstructor(){return ya}constructor(e,t=Te.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$u(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Te(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Te.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Q(e)?this:K(e)===".priority"?this.priorityNode_:Te.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Te.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const s=K(e);return s===null?t:t.isEmpty()&&s!==".priority"?this:(O(s!==".priority"||Ut(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Te.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qu(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=Cu(this.value_):e+=this.value_,this.lazyHash_=bu(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Te.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Te.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,s=typeof this.value_,i=Te.VALUE_TYPE_ORDER.indexOf(t),r=Te.VALUE_TYPE_ORDER.indexOf(s);return O(i>=0,"Unknown leaf type: "+t),O(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Te.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku,Yu;function sx(n){Ku=n}function ix(n){Yu=n}class rx extends er{compare(e,t){const s=e.node.getPriority(),i=t.node.getPriority(),r=s.compareTo(i);return r===0?kn(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(sn,new Te("[PRIORITY-POST]",Yu))}makePost(e,t){const s=Ku(e);return new Y(t,new Te("[PRIORITY-POST]",s))}toString(){return".priority"}}const ye=new rx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=Math.log(2);class lx{constructor(e){const t=r=>parseInt(Math.log(r)/ox,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ci=function(n,e,t,s){n.sort(e);const i=function(a,c){const d=c-a;let p,b;if(d===0)return null;if(d===1)return p=n[a],b=t?t(p):p,new Ne(b,p.node,Ne.BLACK,null,null);{const I=parseInt(d/2,10)+a,N=i(a,I),B=i(I+1,c);return p=n[I],b=t?t(p):p,new Ne(b,p.node,Ne.BLACK,N,B)}},r=function(a){let c=null,d=null,p=n.length;const b=function(N,B){const $=p-N,x=p;p-=N;const _=i($+1,x),m=n[$],w=t?t(m):m;I(new Ne(w,m.node,B,null,_))},I=function(N){c?(c.left=N,c=N):(d=N,c=N)};for(let N=0;N<a.count;++N){const B=a.nextBitIsOne(),$=Math.pow(2,a.count-(N+1));B?b($,Ne.BLACK):(b($,Ne.BLACK),b($,Ne.RED))}return d},o=new lx(n.length),l=r(o);return new He(s||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar;const pn={};class Et{static get Default(){return O(pn&&ye,"ChildrenNode.ts has not been loaded"),Ar=Ar||new Et({".priority":pn},{".priority":ye}),Ar}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Sn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof He?t:null}hasIndex(e){return Rt(this.indexSet_,e.toString())}addIndex(e,t){O(e!==En,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=t.getIterator(Y.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let l;i?l=ci(s,e.getCompare()):l=pn;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const d=Object.assign({},this.indexes_);return d[a]=l,new Et(d,c)}addToIndexes(e,t){const s=si(this.indexes_,(i,r)=>{const o=Sn(this.indexSet_,r);if(O(o,"Missing index implementation for "+r),i===pn)if(o.isDefinedOn(e.node)){const l=[],a=t.getIterator(Y.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),ci(l,o.getCompare())}else return pn;else{const l=t.get(e.name);let a=i;return l&&(a=a.remove(new Y(e.name,l))),a.insert(e,e.node)}});return new Et(s,this.indexSet_)}removeFromIndexes(e,t){const s=si(this.indexes_,i=>{if(i===pn)return i;{const r=t.get(e.name);return r?i.remove(new Y(e.name,r)):i}});return new Et(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn;class j{static get EMPTY_NODE(){return jn||(jn=new j(new He(Wo),null,Et.Default))}constructor(e,t,s){this.children_=e,this.priorityNode_=t,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&$u(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jn}updatePriority(e){return this.children_.isEmpty()?this:new j(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?jn:t}}getChild(e){const t=K(e);return t===null?this:this.getImmediateChild(t).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(O(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const s=new Y(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?jn:this.priorityNode_;return new j(i,o,r)}}updateChild(e,t){const s=K(e);if(s===null)return t;{O(K(e)!==".priority"||Ut(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(_e(e),t);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let s=0,i=0,r=!0;if(this.forEachChild(ye,(o,l)=>{t[o]=l.val(e),s++,r&&j.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const l in t)o[l]=t[l];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+qu(this.getPriority().val())+":"),this.forEachChild(ye,(t,s)=>{const i=s.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":bu(e)}return this.lazyHash_}getPredecessorChildName(e,t,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new Y(e,t));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Y(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Y(t,this.children_.get(t)):null}forEachChild(e,t){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Y.Wrap);let r=i.peek();for(;r!=null&&t.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Y.Wrap);let r=i.peek();for(;r!=null&&t.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===As?-1:0}withIndex(e){if(e===En||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new j(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===En||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const s=this.getIterator(ye),i=t.getIterator(ye);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===En?null:this.indexMap_.get(e.toString())}}j.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ax extends j{constructor(){super(new He(Wo),j.EMPTY_NODE,Et.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}}const As=new ax;Object.defineProperties(Y,{MIN:{value:new Y(Tn,j.EMPTY_NODE)},MAX:{value:new Y(sn,As)}});Gu.__EMPTY_NODE=j.EMPTY_NODE;Te.__childrenNodeConstructor=j;nx(As);ix(As);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=!0;function Re(n,e=null){if(n===null)return j.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Te(t,Re(e))}if(!(n instanceof Array)&&cx){const t=[];let s=!1;if(je(n,(o,l)=>{if(o.substring(0,1)!=="."){const a=Re(l);a.isEmpty()||(s=s||!a.getPriority().isEmpty(),t.push(new Y(o,a)))}}),t.length===0)return j.EMPTY_NODE;const r=ci(t,tx,o=>o.name,Wo);if(s){const o=ci(t,ye.getCompare());return new j(r,Re(e),new Et({".priority":o},{".priority":ye}))}else return new j(r,Re(e),Et.Default)}else{let t=j.EMPTY_NODE;return je(n,(s,i)=>{if(Rt(n,s)&&s.substring(0,1)!=="."){const r=Re(i);(r.isLeafNode()||!r.isEmpty())&&(t=t.updateImmediateChild(s,r))}}),t.updatePriority(Re(e))}}sx(Re);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends er{constructor(e){super(),this.indexPath_=e,O(!Q(e)&&K(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const s=this.extractChild(e.node),i=this.extractChild(t.node),r=s.compareTo(i);return r===0?kn(e.name,t.name):r}makePost(e,t){const s=Re(e),i=j.EMPTY_NODE.updateChild(this.indexPath_,s);return new Y(t,i)}maxPost(){const e=j.EMPTY_NODE.updateChild(this.indexPath_,As);return new Y(sn,e)}toString(){return Vu(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx extends er{compare(e,t){const s=e.node.compareTo(t.node);return s===0?kn(e.name,t.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,t){const s=Re(e);return new Y(t,s)}toString(){return".value"}}const hx=new fx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(n){return{type:"value",snapshotNode:n}}function Nn(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function gs(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ms(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function dx(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.index_=e}updateChild(e,t,s,i,r,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(t);return l.getChild(i).equals(s.getChild(i))&&l.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(t)?o.trackChildChange(gs(t,l)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Nn(t,s)):o.trackChildChange(ms(t,s,l))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(t,s).withIndex(this.index_)}updateFullNode(e,t,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ye,(i,r)=>{t.hasChild(i)||s.trackChildChange(gs(i,r))}),t.isLeafNode()||t.forEachChild(ye,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(ms(i,r,o))}else s.trackChildChange(Nn(i,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?j.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.indexedFilter_=new Uo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bs.getStartPost_(e),this.endPost_=bs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&s}updateChild(e,t,s,i,r,o){return this.matches(new Y(t,s))||(s=j.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,s,i,r,o)}updateFullNode(e,t,s){t.isLeafNode()&&(t=j.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(j.EMPTY_NODE);const r=this;return t.forEachChild(ye,(o,l)=>{r.matches(new Y(o,l))||(i=i.updateImmediateChild(o,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=t=>{const s=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new bs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,s,i,r,o){return this.rangedFilter_.matches(new Y(t,s))||(s=j.EMPTY_NODE),e.getImmediateChild(t).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,s,i,r,o):this.fullLimitUpdateChild_(e,t,s,r,o)}updateFullNode(e,t,s){let i;if(t.isLeafNode()||t.isEmpty())i=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=j.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(j.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,s,i,r){let o;if(this.reverse_){const p=this.index_.getCompare();o=(b,I)=>p(I,b)}else o=this.index_.getCompare();const l=e;O(l.numChildren()===this.limit_,"");const a=new Y(t,s),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(t)){const p=l.getImmediateChild(t);let b=i.getChildAfterChild(this.index_,c,this.reverse_);for(;b!=null&&(b.name===t||l.hasChild(b.name));)b=i.getChildAfterChild(this.index_,b,this.reverse_);const I=b==null?1:o(b,a);if(d&&!s.isEmpty()&&I>=0)return r!=null&&r.trackChildChange(ms(t,s,p)),l.updateImmediateChild(t,s);{r!=null&&r.trackChildChange(gs(t,p));const B=l.updateImmediateChild(t,j.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(r!=null&&r.trackChildChange(Nn(b.name,b.node)),B.updateImmediateChild(b.name,b.node)):B}}else return s.isEmpty()?e:d&&o(c,a)>=0?(r!=null&&(r.trackChildChange(gs(c.name,c.node)),r.trackChildChange(Nn(t,s))),l.updateImmediateChild(t,s).updateImmediateChild(c.name,j.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tn}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ye}copy(){const e=new Ho;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _x(n){return n.loadsAllData()?new Uo(n.getIndex()):n.hasLimit()?new px(n):new bs(n)}function va(n){const e={};if(n.isDefault())return e;let t;if(n.index_===ye?t="$priority":n.index_===hx?t="$value":n.index_===En?t="$key":(O(n.index_ instanceof ux,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ee(t),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Ee(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Ee(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Ee(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Ee(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Ca(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==ye&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Wu{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Rs("p:rest:"),this.listens_={}}listen(e,t,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=ui.getListenId_(e,s),l={};this.listens_[o]=l;const a=va(e._queryParams);this.restRequest_(r+".json",a,(c,d)=>{let p=d;if(c===404&&(p=null,c=null),c===null&&this.onDataUpdate_(r,p,!1,s),Sn(this.listens_,o)===l){let b;c?c===401?b="permission_denied":b="rest_error:"+c:b="ok",i(b,null)}})}unlisten(e,t){const s=ui.getListenId_(e,t);delete this.listens_[s]}get(e){const t=va(e._queryParams),s=e._path.toString(),i=new Ji;return this.restRequest_(s+".json",t,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(s,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},s){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(t.auth=i.accessToken),r&&r.token&&(t.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Up(t);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(s&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=ds(l.responseText)}catch{Ve("Failed to parse JSON response for "+o+": "+l.responseText)}s(null,a)}else l.status!==401&&l.status!==404&&Ve("Got unsuccessful REST response for "+o+" Status: "+l.status),s(l.status);s=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return{value:null,children:new Map}}function Xu(n,e,t){if(Q(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const s=K(e);n.children.has(s)||n.children.set(s,fi());const i=n.children.get(s);e=_e(e),Xu(i,e,t)}}function no(n,e,t){n.value!==null?t(e,n.value):gx(n,(s,i)=>{const r=new fe(e.toString()+"/"+s);no(i,r,t)})}function gx(n,e){n.children.forEach((t,s)=>{e(s,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&je(this.last_,(s,i)=>{t[s]=t[s]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=10*1e3,bx=30*1e3,yx=5*60*1e3;class vx{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new mx(e);const s=Ia+(bx-Ia)*Math.random();ss(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),t={};let s=!1;je(e,(i,r)=>{r>0&&Rt(this.statsToReport_,i)&&(t[i]=r,s=!0)}),s&&this.server_.reportStats(t),ss(this.reportStats_.bind(this),Math.floor(Math.random()*2*yx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(it||(it={}));function Ju(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vo(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jo(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t,s){this.path=e,this.affectedTree=t,this.revert=s,this.type=it.ACK_USER_WRITE,this.source=Ju()}operationForChild(e){if(Q(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new fe(e));return new hi(ie(),t,this.revert)}}else return O(K(this.path)===e,"operationForChild called for unrelated child."),new hi(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){this.source=e,this.path=t,this.type=it.LISTEN_COMPLETE}operationForChild(e){return Q(this.path)?new ys(this.source,ie()):new ys(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,s){this.source=e,this.path=t,this.snap=s,this.type=it.OVERWRITE}operationForChild(e){return Q(this.path)?new rn(this.source,ie(),this.snap.getImmediateChild(e)):new rn(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,s){this.source=e,this.path=t,this.children=s,this.type=it.MERGE}operationForChild(e){if(Q(this.path)){const t=this.children.subtree(new fe(e));return t.isEmpty()?null:t.value?new rn(this.source,ie(),t.value):new vs(this.source,ie(),t)}else return O(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vs(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,s){this.node_=e,this.fullyInitialized_=t,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Q(e))return this.isFullyInitialized()&&!this.filtered_;const t=K(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ix(n,e,t,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(dx(o.childName,o.snapshotNode))}),zn(n,i,"child_removed",e,s,t),zn(n,i,"child_added",e,s,t),zn(n,i,"child_moved",r,s,t),zn(n,i,"child_changed",e,s,t),zn(n,i,"value",e,s,t),i}function zn(n,e,t,s,i,r){const o=s.filter(l=>l.type===t);o.sort((l,a)=>wx(n,l,a)),o.forEach(l=>{const a=Ex(n,l,r);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,n.query_))})})}function Ex(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function wx(n,e,t){if(e.childName==null||t.childName==null)throw Pn("Should only compare child_ events.");const s=new Y(e.childName,e.snapshotNode),i=new Y(t.childName,t.snapshotNode);return n.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,e){return{eventCache:n,serverCache:e}}function is(n,e,t,s){return tr(new Ht(e,t,s),n.serverCache)}function Zu(n,e,t,s){return tr(n.eventCache,new Ht(e,t,s))}function di(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function on(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr;const Sx=()=>(Pr||(Pr=new He(f_)),Pr);class xe{static fromObject(e){let t=new xe(null);return je(e,(s,i)=>{t=t.set(new fe(s),i)}),t}constructor(e,t=Sx()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ie(),value:this.value};if(Q(e))return null;{const s=K(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(_e(e),t);return r!=null?{path:we(new fe(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Q(e))return this;{const t=K(e),s=this.children.get(t);return s!==null?s.subtree(_e(e)):new xe(null)}}set(e,t){if(Q(e))return new xe(t,this.children);{const s=K(e),r=(this.children.get(s)||new xe(null)).set(_e(e),t),o=this.children.insert(s,r);return new xe(this.value,o)}}remove(e){if(Q(e))return this.children.isEmpty()?new xe(null):new xe(null,this.children);{const t=K(e),s=this.children.get(t);if(s){const i=s.remove(_e(e));let r;return i.isEmpty()?r=this.children.remove(t):r=this.children.insert(t,i),this.value===null&&r.isEmpty()?new xe(null):new xe(this.value,r)}else return this}}get(e){if(Q(e))return this.value;{const t=K(e),s=this.children.get(t);return s?s.get(_e(e)):null}}setTree(e,t){if(Q(e))return t;{const s=K(e),r=(this.children.get(s)||new xe(null)).setTree(_e(e),t);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new xe(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,t){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(we(e,i),t)}),t(e,this.value,s)}findOnPath(e,t){return this.findOnPath_(e,ie(),t)}findOnPath_(e,t,s){const i=this.value?s(t,this.value):!1;if(i)return i;if(Q(e))return null;{const r=K(e),o=this.children.get(r);return o?o.findOnPath_(_e(e),we(t,r),s):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ie(),t)}foreachOnPath_(e,t,s){if(Q(e))return this;{this.value&&s(t,this.value);const i=K(e),r=this.children.get(i);return r?r.foreachOnPath_(_e(e),we(t,i),s):new xe(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,t){this.children.inorderTraversal((s,i)=>{i.foreach_(we(e,s),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,s)=>{s.value&&e(t,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.writeTree_=e}static empty(){return new ot(new xe(null))}}function rs(n,e,t){if(Q(e))return new ot(new xe(t));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Be(i,e);return r=r.updateChild(o,t),new ot(n.writeTree_.set(i,r))}else{const i=new xe(t),r=n.writeTree_.setTree(e,i);return new ot(r)}}}function Ea(n,e,t){let s=n;return je(t,(i,r)=>{s=rs(s,we(e,i),r)}),s}function wa(n,e){if(Q(e))return ot.empty();{const t=n.writeTree_.setTree(e,new xe(null));return new ot(t)}}function so(n,e){return an(n,e)!=null}function an(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Be(t.path,e)):null}function Sa(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(ye,(s,i)=>{e.push(new Y(s,i))}):n.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new Y(s,i.value))}),e}function Bt(n,e){if(Q(e))return n;{const t=an(n,e);return t!=null?new ot(new xe(t)):new ot(n.writeTree_.subtree(e))}}function io(n){return n.writeTree_.isEmpty()}function Rn(n,e){return ef(ie(),n.writeTree_,e)}function ef(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(O(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):t=ef(we(n,i),r,t)}),!t.getChild(n).isEmpty()&&s!==null&&(t=t.updateChild(we(n,".priority"),s)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,e){return rf(e,n)}function Tx(n,e,t,s,i){O(s>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:s,visible:i}),i&&(n.visibleWrites=rs(n.visibleWrites,e,t)),n.lastWriteId=s}function Nx(n,e){for(let t=0;t<n.allWrites.length;t++){const s=n.allWrites[t];if(s.writeId===e)return s}return null}function Rx(n,e){const t=n.allWrites.findIndex(l=>l.writeId===e);O(t>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[t];n.allWrites.splice(t,1);let i=s.visible,r=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const l=n.allWrites[o];l.visible&&(o>=t&&Ax(l,s.path)?i=!1:st(s.path,l.path)&&(r=!0)),o--}if(i){if(r)return Px(n),!0;if(s.snap)n.visibleWrites=wa(n.visibleWrites,s.path);else{const l=s.children;je(l,a=>{n.visibleWrites=wa(n.visibleWrites,we(s.path,a))})}return!0}else return!1}function Ax(n,e){if(n.snap)return st(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&st(we(n.path,t),e))return!0;return!1}function Px(n){n.visibleWrites=tf(n.allWrites,Ox,ie()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Ox(n){return n.visible}function tf(n,e,t){let s=ot.empty();for(let i=0;i<n.length;++i){const r=n[i];if(e(r)){const o=r.path;let l;if(r.snap)st(t,o)?(l=Be(t,o),s=rs(s,l,r.snap)):st(o,t)&&(l=Be(o,t),s=rs(s,ie(),r.snap.getChild(l)));else if(r.children){if(st(t,o))l=Be(t,o),s=Ea(s,l,r.children);else if(st(o,t))if(l=Be(o,t),Q(l))s=Ea(s,ie(),r.children);else{const a=Sn(r.children,K(l));if(a){const c=a.getChild(_e(l));s=rs(s,ie(),c)}}}else throw Pn("WriteRecord should have .snap or .children")}}return s}function nf(n,e,t,s,i){if(!s&&!i){const r=an(n.visibleWrites,e);if(r!=null)return r;{const o=Bt(n.visibleWrites,e);if(io(o))return t;if(t==null&&!so(o,ie()))return null;{const l=t||j.EMPTY_NODE;return Rn(o,l)}}}else{const r=Bt(n.visibleWrites,e);if(!i&&io(r))return t;if(!i&&t==null&&!so(r,ie()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(st(c.path,e)||st(e,c.path))},l=tf(n.allWrites,o,e),a=t||j.EMPTY_NODE;return Rn(l,a)}}}function kx(n,e,t){let s=j.EMPTY_NODE;const i=an(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ye,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(t){const r=Bt(n.visibleWrites,e);return t.forEachChild(ye,(o,l)=>{const a=Rn(Bt(r,new fe(o)),l);s=s.updateImmediateChild(o,a)}),Sa(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=Bt(n.visibleWrites,e);return Sa(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function Dx(n,e,t,s,i){O(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=we(e,t);if(so(n.visibleWrites,r))return null;{const o=Bt(n.visibleWrites,r);return io(o)?i.getChild(t):Rn(o,i.getChild(t))}}function Mx(n,e,t,s){const i=we(e,t),r=an(n.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(t)){const o=Bt(n.visibleWrites,i);return Rn(o,s.getNode().getImmediateChild(t))}else return null}function Lx(n,e){return an(n.visibleWrites,e)}function Fx(n,e,t,s,i,r,o){let l;const a=Bt(n.visibleWrites,e),c=an(a,ie());if(c!=null)l=c;else if(t!=null)l=Rn(a,t);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],p=o.getCompare(),b=r?l.getReverseIteratorFrom(s,o):l.getIteratorFrom(s,o);let I=b.getNext();for(;I&&d.length<i;)p(I,s)!==0&&d.push(I),I=b.getNext();return d}else return[]}function Bx(){return{visibleWrites:ot.empty(),allWrites:[],lastWriteId:-1}}function pi(n,e,t,s){return nf(n.writeTree,n.treePath,e,t,s)}function zo(n,e){return kx(n.writeTree,n.treePath,e)}function Ta(n,e,t,s){return Dx(n.writeTree,n.treePath,e,t,s)}function _i(n,e){return Lx(n.writeTree,we(n.treePath,e))}function Wx(n,e,t,s,i,r){return Fx(n.writeTree,n.treePath,e,t,s,i,r)}function Go(n,e,t){return Mx(n.writeTree,n.treePath,e,t)}function sf(n,e){return rf(we(n.treePath,e),n.writeTree)}function rf(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,s=e.childName;O(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),O(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(t==="child_added"&&r==="child_removed")this.changeMap.set(s,ms(s,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(t==="child_removed"&&r==="child_changed")this.changeMap.set(s,gs(s,i.oldSnap));else if(t==="child_changed"&&r==="child_added")this.changeMap.set(s,Nn(s,e.snapshotNode));else if(t==="child_changed"&&r==="child_changed")this.changeMap.set(s,ms(s,e.snapshotNode,i.oldSnap));else throw Pn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{getCompleteChild(e){return null}getChildAfterChild(e,t,s){return null}}const of=new Hx;class qo{constructor(e,t,s=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=s}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Ht(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Go(this.writes_,e,s)}}getChildAfterChild(e,t,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:on(this.viewCache_),r=Wx(this.writes_,i,t,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n){return{filter:n}}function jx(n,e){O(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function zx(n,e,t,s,i){const r=new Ux;let o,l;if(t.type===it.OVERWRITE){const c=t;c.source.fromUser?o=ro(n,e,c.path,c.snap,s,i,r):(O(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!Q(c.path),o=xi(n,e,c.path,c.snap,s,i,l,r))}else if(t.type===it.MERGE){const c=t;c.source.fromUser?o=qx(n,e,c.path,c.children,s,i,r):(O(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=oo(n,e,c.path,c.children,s,i,l,r))}else if(t.type===it.ACK_USER_WRITE){const c=t;c.revert?o=Yx(n,e,c.path,s,i,r):o=$x(n,e,c.path,c.affectedTree,s,i,r)}else if(t.type===it.LISTEN_COMPLETE)o=Kx(n,e,t.path,s,r);else throw Pn("Unknown operation type: "+t.type);const a=r.getChanges();return Gx(e,o,a),{viewCache:o,changes:a}}function Gx(n,e,t){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=di(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&t.push(Qu(di(e)))}}function lf(n,e,t,s,i,r){const o=e.eventCache;if(_i(s,t)!=null)return e;{let l,a;if(Q(t))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=on(e),d=c instanceof j?c:j.EMPTY_NODE,p=zo(s,d);l=n.filter.updateFullNode(e.eventCache.getNode(),p,r)}else{const c=pi(s,on(e));l=n.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=K(t);if(c===".priority"){O(Ut(t)===1,"Can't have a priority with additional path components");const d=o.getNode();a=e.serverCache.getNode();const p=Ta(s,t,d,a);p!=null?l=n.filter.updatePriority(d,p):l=o.getNode()}else{const d=_e(t);let p;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const b=Ta(s,t,o.getNode(),a);b!=null?p=o.getNode().getImmediateChild(c).updateChild(d,b):p=o.getNode().getImmediateChild(c)}else p=Go(s,c,e.serverCache);p!=null?l=n.filter.updateChild(o.getNode(),c,p,d,i,r):l=o.getNode()}}return is(e,l,o.isFullyInitialized()||Q(t),n.filter.filtersNodes())}}function xi(n,e,t,s,i,r,o,l){const a=e.serverCache;let c;const d=o?n.filter:n.filter.getIndexedFilter();if(Q(t))c=d.updateFullNode(a.getNode(),s,null);else if(d.filtersNodes()&&!a.isFiltered()){const I=a.getNode().updateChild(t,s);c=d.updateFullNode(a.getNode(),I,null)}else{const I=K(t);if(!a.isCompleteForPath(t)&&Ut(t)>1)return e;const N=_e(t),$=a.getNode().getImmediateChild(I).updateChild(N,s);I===".priority"?c=d.updatePriority(a.getNode(),$):c=d.updateChild(a.getNode(),I,$,N,of,null)}const p=Zu(e,c,a.isFullyInitialized()||Q(t),d.filtersNodes()),b=new qo(i,p,r);return lf(n,p,t,i,b,l)}function ro(n,e,t,s,i,r,o){const l=e.eventCache;let a,c;const d=new qo(i,e,r);if(Q(t))c=n.filter.updateFullNode(e.eventCache.getNode(),s,o),a=is(e,c,!0,n.filter.filtersNodes());else{const p=K(t);if(p===".priority")c=n.filter.updatePriority(e.eventCache.getNode(),s),a=is(e,c,l.isFullyInitialized(),l.isFiltered());else{const b=_e(t),I=l.getNode().getImmediateChild(p);let N;if(Q(b))N=s;else{const B=d.getCompleteChild(p);B!=null?Hu(b)===".priority"&&B.getChild(ju(b)).isEmpty()?N=B:N=B.updateChild(b,s):N=j.EMPTY_NODE}if(I.equals(N))a=e;else{const B=n.filter.updateChild(l.getNode(),p,N,b,d,o);a=is(e,B,l.isFullyInitialized(),n.filter.filtersNodes())}}}return a}function Na(n,e){return n.eventCache.isCompleteForChild(e)}function qx(n,e,t,s,i,r,o){let l=e;return s.foreach((a,c)=>{const d=we(t,a);Na(e,K(d))&&(l=ro(n,l,d,c,i,r,o))}),s.foreach((a,c)=>{const d=we(t,a);Na(e,K(d))||(l=ro(n,l,d,c,i,r,o))}),l}function Ra(n,e,t){return t.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function oo(n,e,t,s,i,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;Q(t)?c=s:c=new xe(null).setTree(t,s);const d=e.serverCache.getNode();return c.children.inorderTraversal((p,b)=>{if(d.hasChild(p)){const I=e.serverCache.getNode().getImmediateChild(p),N=Ra(n,I,b);a=xi(n,a,new fe(p),N,i,r,o,l)}}),c.children.inorderTraversal((p,b)=>{const I=!e.serverCache.isCompleteForChild(p)&&b.value===null;if(!d.hasChild(p)&&!I){const N=e.serverCache.getNode().getImmediateChild(p),B=Ra(n,N,b);a=xi(n,a,new fe(p),B,i,r,o,l)}}),a}function $x(n,e,t,s,i,r,o){if(_i(i,t)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(s.value!=null){if(Q(t)&&a.isFullyInitialized()||a.isCompleteForPath(t))return xi(n,e,t,a.getNode().getChild(t),i,r,l,o);if(Q(t)){let c=new xe(null);return a.getNode().forEachChild(En,(d,p)=>{c=c.set(new fe(d),p)}),oo(n,e,t,c,i,r,l,o)}else return e}else{let c=new xe(null);return s.foreach((d,p)=>{const b=we(t,d);a.isCompleteForPath(b)&&(c=c.set(d,a.getNode().getChild(b)))}),oo(n,e,t,c,i,r,l,o)}}function Kx(n,e,t,s,i){const r=e.serverCache,o=Zu(e,r.getNode(),r.isFullyInitialized()||Q(t),r.isFiltered());return lf(n,o,t,s,of,i)}function Yx(n,e,t,s,i,r){let o;if(_i(s,t)!=null)return e;{const l=new qo(s,e,i),a=e.eventCache.getNode();let c;if(Q(t)||K(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=pi(s,on(e));else{const p=e.serverCache.getNode();O(p instanceof j,"serverChildren would be complete if leaf node"),d=zo(s,p)}d=d,c=n.filter.updateFullNode(a,d,r)}else{const d=K(t);let p=Go(s,d,e.serverCache);p==null&&e.serverCache.isCompleteForChild(d)&&(p=a.getImmediateChild(d)),p!=null?c=n.filter.updateChild(a,d,p,_e(t),l,r):e.eventCache.getNode().hasChild(d)?c=n.filter.updateChild(a,d,j.EMPTY_NODE,_e(t),l,r):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=pi(s,on(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||_i(s,ie())!=null,is(e,c,o,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Uo(s.getIndex()),r=_x(s);this.processor_=Vx(r);const o=t.serverCache,l=t.eventCache,a=i.updateFullNode(j.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(j.EMPTY_NODE,l.getNode(),null),d=new Ht(a,o.isFullyInitialized(),i.filtersNodes()),p=new Ht(c,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=tr(p,d),this.eventGenerator_=new Cx(this.query_)}get query(){return this.query_}}function Xx(n){return n.viewCache_.serverCache.getNode()}function Jx(n){return di(n.viewCache_)}function Zx(n,e){const t=on(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Q(e)&&!t.getImmediateChild(K(e)).isEmpty())?t.getChild(e):null}function Aa(n){return n.eventRegistrations_.length===0}function eg(n,e){n.eventRegistrations_.push(e)}function Pa(n,e,t){const s=[];if(t){O(e==null,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(t,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<n.eventRegistrations_.length;++r){const o=n.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return s}function Oa(n,e,t,s){e.type===it.MERGE&&e.source.queryId!==null&&(O(on(n.viewCache_),"We should always have a full cache before handling merges"),O(di(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,r=zx(n.processor_,i,e,t,s);return jx(n.processor_,r.viewCache),O(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,af(n,r.changes,r.viewCache.eventCache.getNode(),null)}function tg(n,e){const t=n.viewCache_.eventCache,s=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(ye,(r,o)=>{s.push(Nn(r,o))}),t.isFullyInitialized()&&s.push(Qu(t.getNode())),af(n,s,t.getNode(),e)}function af(n,e,t,s){const i=s?[s]:n.eventRegistrations_;return Ix(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi;class cf{constructor(){this.views=new Map}}function ng(n){O(!gi,"__referenceConstructor has already been defined"),gi=n}function sg(){return O(gi,"Reference.ts has not been loaded"),gi}function ig(n){return n.views.size===0}function $o(n,e,t,s){const i=e.source.queryId;if(i!==null){const r=n.views.get(i);return O(r!=null,"SyncTree gave us an op for an invalid query."),Oa(r,e,t,s)}else{let r=[];for(const o of n.views.values())r=r.concat(Oa(o,e,t,s));return r}}function uf(n,e,t,s,i){const r=e._queryIdentifier,o=n.views.get(r);if(!o){let l=pi(t,i?s:null),a=!1;l?a=!0:s instanceof j?(l=zo(t,s),a=!1):(l=j.EMPTY_NODE,a=!1);const c=tr(new Ht(l,a,!1),new Ht(s,i,!1));return new Qx(e,c)}return o}function rg(n,e,t,s,i,r){const o=uf(n,e,s,i,r);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),eg(o,t),tg(o,t)}function og(n,e,t,s){const i=e._queryIdentifier,r=[];let o=[];const l=Vt(n);if(i==="default")for(const[a,c]of n.views.entries())o=o.concat(Pa(c,t,s)),Aa(c)&&(n.views.delete(a),c.query._queryParams.loadsAllData()||r.push(c.query));else{const a=n.views.get(i);a&&(o=o.concat(Pa(a,t,s)),Aa(a)&&(n.views.delete(i),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!Vt(n)&&r.push(new(sg())(e._repo,e._path)),{removed:r,events:o}}function ff(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Wt(n,e){let t=null;for(const s of n.views.values())t=t||Zx(s,e);return t}function hf(n,e){if(e._queryParams.loadsAllData())return sr(n);{const s=e._queryIdentifier;return n.views.get(s)}}function df(n,e){return hf(n,e)!=null}function Vt(n){return sr(n)!=null}function sr(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mi;function lg(n){O(!mi,"__referenceConstructor has already been defined"),mi=n}function ag(){return O(mi,"Reference.ts has not been loaded"),mi}let cg=1;class ka{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xe(null),this.pendingWriteTree_=Bx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pf(n,e,t,s,i){return Tx(n.pendingWriteTree_,e,t,s,i),i?Os(n,new rn(Ju(),e,t)):[]}function Jt(n,e,t=!1){const s=Nx(n.pendingWriteTree_,e);if(Rx(n.pendingWriteTree_,e)){let r=new xe(null);return s.snap!=null?r=r.set(ie(),!0):je(s.children,o=>{r=r.set(new fe(o),!0)}),Os(n,new hi(s.path,r,t))}else return[]}function Ps(n,e,t){return Os(n,new rn(Vo(),e,t))}function ug(n,e,t){const s=xe.fromObject(t);return Os(n,new vs(Vo(),e,s))}function fg(n,e){return Os(n,new ys(Vo(),e))}function hg(n,e,t){const s=Yo(n,t);if(s){const i=Qo(s),r=i.path,o=i.queryId,l=Be(r,e),a=new ys(jo(o),l);return Xo(n,r,a)}else return[]}function bi(n,e,t,s,i=!1){const r=e._path,o=n.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||df(o,e))){const a=og(o,e,t,s);ig(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const c=a.removed;if(l=a.events,!i){const d=c.findIndex(b=>b._queryParams.loadsAllData())!==-1,p=n.syncPointTree_.findOnPath(r,(b,I)=>Vt(I));if(d&&!p){const b=n.syncPointTree_.subtree(r);if(!b.isEmpty()){const I=_g(b);for(let N=0;N<I.length;++N){const B=I[N],$=B.query,x=mf(n,B);n.listenProvider_.startListening(os($),Cs(n,$),x.hashFn,x.onComplete)}}}!p&&c.length>0&&!s&&(d?n.listenProvider_.stopListening(os(e),null):c.forEach(b=>{const I=n.queryToTagMap.get(ir(b));n.listenProvider_.stopListening(os(b),I)}))}xg(n,c)}return l}function _f(n,e,t,s){const i=Yo(n,s);if(i!=null){const r=Qo(i),o=r.path,l=r.queryId,a=Be(o,e),c=new rn(jo(l),a,t);return Xo(n,o,c)}else return[]}function dg(n,e,t,s){const i=Yo(n,s);if(i){const r=Qo(i),o=r.path,l=r.queryId,a=Be(o,e),c=xe.fromObject(t),d=new vs(jo(l),a,c);return Xo(n,o,d)}else return[]}function lo(n,e,t,s=!1){const i=e._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(i,(b,I)=>{const N=Be(b,i);r=r||Wt(I,N),o=o||Vt(I)});let l=n.syncPointTree_.get(i);l?(o=o||Vt(l),r=r||Wt(l,ie())):(l=new cf,n.syncPointTree_=n.syncPointTree_.set(i,l));let a;r!=null?a=!0:(a=!1,r=j.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((I,N)=>{const B=Wt(N,ie());B&&(r=r.updateImmediateChild(I,B))}));const c=df(l,e);if(!c&&!e._queryParams.loadsAllData()){const b=ir(e);O(!n.queryToTagMap.has(b),"View does not exist, but we have a tag");const I=gg();n.queryToTagMap.set(b,I),n.tagToQueryMap.set(I,b)}const d=nr(n.pendingWriteTree_,i);let p=rg(l,e,t,d,r,a);if(!c&&!o&&!s){const b=hf(l,e);p=p.concat(mg(n,e,b))}return p}function Ko(n,e,t){const i=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(e,(o,l)=>{const a=Be(o,e),c=Wt(l,a);if(c)return c});return nf(i,e,r,t,!0)}function pg(n,e){const t=e._path;let s=null;n.syncPointTree_.foreachOnPath(t,(c,d)=>{const p=Be(c,t);s=s||Wt(d,p)});let i=n.syncPointTree_.get(t);i?s=s||Wt(i,ie()):(i=new cf,n.syncPointTree_=n.syncPointTree_.set(t,i));const r=s!=null,o=r?new Ht(s,!0,!1):null,l=nr(n.pendingWriteTree_,e._path),a=uf(i,e,l,r?o.getNode():j.EMPTY_NODE,r);return Jx(a)}function Os(n,e){return xf(e,n.syncPointTree_,null,nr(n.pendingWriteTree_,ie()))}function xf(n,e,t,s){if(Q(n.path))return gf(n,e,t,s);{const i=e.get(ie());t==null&&i!=null&&(t=Wt(i,ie()));let r=[];const o=K(n.path),l=n.operationForChild(o),a=e.children.get(o);if(a&&l){const c=t?t.getImmediateChild(o):null,d=sf(s,o);r=r.concat(xf(l,a,c,d))}return i&&(r=r.concat($o(i,n,s,t))),r}}function gf(n,e,t,s){const i=e.get(ie());t==null&&i!=null&&(t=Wt(i,ie()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=t?t.getImmediateChild(o):null,c=sf(s,o),d=n.operationForChild(o);d&&(r=r.concat(gf(d,l,a,c)))}),i&&(r=r.concat($o(i,n,s,t))),r}function mf(n,e){const t=e.query,s=Cs(n,t);return{hashFn:()=>(Xx(e)||j.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?hg(n,t._path,s):fg(n,t._path);{const r=p_(i,t);return bi(n,t,null,r)}}}}function Cs(n,e){const t=ir(e);return n.queryToTagMap.get(t)}function ir(n){return n._path.toString()+"$"+n._queryIdentifier}function Yo(n,e){return n.tagToQueryMap.get(e)}function Qo(n){const e=n.indexOf("$");return O(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new fe(n.substr(0,e))}}function Xo(n,e,t){const s=n.syncPointTree_.get(e);O(s,"Missing sync point for query tag that we're tracking");const i=nr(n.pendingWriteTree_,e);return $o(s,t,i,null)}function _g(n){return n.fold((e,t,s)=>{if(t&&Vt(t))return[sr(t)];{let i=[];return t&&(i=ff(t)),je(s,(r,o)=>{i=i.concat(o)}),i}})}function os(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(ag())(n._repo,n._path):n}function xg(n,e){for(let t=0;t<e.length;++t){const s=e[t];if(!s._queryParams.loadsAllData()){const i=ir(s),r=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(r)}}}function gg(){return cg++}function mg(n,e,t){const s=e._path,i=Cs(n,e),r=mf(n,t),o=n.listenProvider_.startListening(os(e),i,r.hashFn,r.onComplete),l=n.syncPointTree_.subtree(s);if(i)O(!Vt(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,d,p)=>{if(!Q(c)&&d&&Vt(d))return[sr(d).query];{let b=[];return d&&(b=b.concat(ff(d).map(I=>I.query))),je(p,(I,N)=>{b=b.concat(N)}),b}});for(let c=0;c<a.length;++c){const d=a[c];n.listenProvider_.stopListening(os(d),Cs(n,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Jo(t)}node(){return this.node_}}class Zo{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=we(this.path_,e);return new Zo(this.syncTree_,t)}node(){return Ko(this.syncTree_,this.path_)}}const bg=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Da=function(n,e,t){if(!n||typeof n!="object")return n;if(O(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return yg(n[".sv"],e,t);if(typeof n[".sv"]=="object")return vg(n[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},yg=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:O(!1,"Unexpected server value: "+n)}},vg=function(n,e,t){n.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&O(!1,"Unexpected increment value: "+s);const i=e.node();if(O(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},Cg=function(n,e,t,s){return el(e,new Zo(t,n),s)},bf=function(n,e,t){return el(n,new Jo(e),t)};function el(n,e,t){const s=n.getPriority().val(),i=Da(s,e.getImmediateChild(".priority"),t);let r;if(n.isLeafNode()){const o=n,l=Da(o.getValue(),e,t);return l!==o.getValue()||i!==o.getPriority().val()?new Te(l,Re(i)):n}else{const o=n;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new Te(i))),o.forEachChild(ye,(l,a)=>{const c=el(a,e.getImmediateChild(l),t);c!==a&&(r=r.updateImmediateChild(l,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e="",t=null,s={children:{},childCount:0}){this.name=e,this.parent=t,this.node=s}}function nl(n,e){let t=e instanceof fe?e:new fe(e),s=n,i=K(t);for(;i!==null;){const r=Sn(s.node.children,i)||{children:{},childCount:0};s=new tl(i,s,r),t=_e(t),i=K(t)}return s}function Mn(n){return n.node.value}function yf(n,e){n.node.value=e,ao(n)}function vf(n){return n.node.childCount>0}function Ig(n){return Mn(n)===void 0&&!vf(n)}function rr(n,e){je(n.node.children,(t,s)=>{e(new tl(t,n,s))})}function Cf(n,e,t,s){t&&e(n),rr(n,i=>{Cf(i,e,!0)})}function Eg(n,e,t){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function ks(n){return new fe(n.parent===null?n.name:ks(n.parent)+"/"+n.name)}function ao(n){n.parent!==null&&wg(n.parent,n.name,n)}function wg(n,e,t){const s=Ig(t),i=Rt(n.node.children,e);s&&i?(delete n.node.children[e],n.node.childCount--,ao(n)):!s&&!i&&(n.node.children[e]=t.node,n.node.childCount++,ao(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=/[\[\].#$\/\u0000-\u001F\u007F]/,Tg=/[\[\].#$\u0000-\u001F\u007F]/,Or=10*1024*1024,If=function(n){return typeof n=="string"&&n.length!==0&&!Sg.test(n)},Ef=function(n){return typeof n=="string"&&n.length!==0&&!Tg.test(n)},Ng=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ef(n)},Rg=function(n,e,t,s){sl(Po(n,"value"),e,t)},sl=function(n,e,t){const s=t instanceof fe?new $_(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Qt(s));if(typeof e=="function")throw new Error(n+"contains a function "+Qt(s)+" with contents = "+e.toString());if(yu(e))throw new Error(n+"contains "+e.toString()+" "+Qt(s));if(typeof e=="string"&&e.length>Or/3&&Zi(e)>Or)throw new Error(n+"contains a string greater than "+Or+" utf8 bytes "+Qt(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(je(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!If(o)))throw new Error(n+" contains an invalid key ("+o+") "+Qt(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);K_(s,o),sl(n,l,s),Y_(s)}),i&&r)throw new Error(n+' contains ".value" child '+Qt(s)+" in addition to actual children.")}},wf=function(n,e,t,s){if(!Ef(t))throw new Error(Po(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Ag=function(n,e,t,s){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wf(n,e,t)},Sf=function(n,e){if(K(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},Pg=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!If(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Ng(t))throw new Error(Po(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function il(n,e){let t=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();t!==null&&!Fo(r,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:r}),t.events.push(i)}t&&n.eventLists_.push(t)}function Tf(n,e,t){il(n,t),Nf(n,s=>Fo(s,e))}function gt(n,e,t){il(n,t),Nf(n,s=>st(s,e)||st(e,s))}function Nf(n,e){n.recursionDepth_++;let t=!0;for(let s=0;s<n.eventLists_.length;s++){const i=n.eventLists_[s];if(i){const r=i.path;e(r)?(kg(n.eventLists_[s]),n.eventLists_[s]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function kg(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const s=t.getEventRunner();ns&&ke("event: "+t.toString()),Dn(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="repo_interrupt",Mg=25;class Lg{constructor(e,t,s,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Og,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fi(),this.transactionQueueTree_=new tl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Fg(n,e,t){if(n.stats_=Mo(n.repoInfo_),n.forceRestClient_||m_())n.server_=new ui(n.repoInfo_,(s,i,r,o)=>{Ma(n,s,i,r,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>La(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ee(t)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new wt(n.repoInfo_,e,(s,i,r,o)=>{Ma(n,s,i,r,o)},s=>{La(n,s)},s=>{Wg(n,s)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=I_(n.repoInfo_,()=>new vx(n.stats_,n.server_)),n.infoData_=new xx,n.infoSyncTree_=new ka({startListening:(s,i,r,o)=>{let l=[];const a=n.infoData_.getNode(s._path);return a.isEmpty()||(l=Ps(n.infoSyncTree_,s._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ol(n,"connected",!1),n.serverSyncTree_=new ka({startListening:(s,i,r,o)=>(n.server_.listen(s,r,i,(l,a)=>{const c=o(l,a);gt(n.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{n.server_.unlisten(s,i)}})}function Bg(n){const t=n.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function rl(n){return bg({timestamp:Bg(n)})}function Ma(n,e,t,s,i){n.dataUpdateCount++;const r=new fe(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(s){const a=si(t,c=>Re(c));o=dg(n.serverSyncTree_,r,a,i)}else{const a=Re(t);o=_f(n.serverSyncTree_,r,a,i)}else if(s){const a=si(t,c=>Re(c));o=ug(n.serverSyncTree_,r,a)}else{const a=Re(t);o=Ps(n.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=lr(n,r)),gt(n.eventQueue_,l,o)}function La(n,e){ol(n,"connected",e),e===!1&&Vg(n)}function Wg(n,e){je(e,(t,s)=>{ol(n,t,s)})}function ol(n,e,t){const s=new fe("/.info/"+e),i=Re(t);n.infoData_.updateSnapshot(s,i);const r=Ps(n.infoSyncTree_,s,i);gt(n.eventQueue_,s,r)}function Rf(n){return n.nextWriteId_++}function Ug(n,e,t){const s=pg(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(i=>{const r=Re(i).withIndex(e._queryParams.getIndex());lo(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=Ps(n.serverSyncTree_,e._path,r);else{const l=Cs(n.serverSyncTree_,e);o=_f(n.serverSyncTree_,e._path,r,l)}return gt(n.eventQueue_,e._path,o),bi(n.serverSyncTree_,e,t,null,!0),r},i=>(or(n,"get for query "+Ee(e)+" failed: "+i),Promise.reject(new Error(i))))}function Hg(n,e,t,s,i){or(n,"set",{path:e.toString(),value:t,priority:s});const r=rl(n),o=Re(t,s),l=Ko(n.serverSyncTree_,e),a=bf(o,l,r),c=Rf(n),d=pf(n.serverSyncTree_,e,a,c,!0);il(n.eventQueue_,d),n.server_.put(e.toString(),o.val(!0),(b,I)=>{const N=b==="ok";N||Ve("set at "+e+" failed: "+b);const B=Jt(n.serverSyncTree_,c,!N);gt(n.eventQueue_,e,B),qg(n,i,b,I)});const p=Df(n,e);lr(n,p),gt(n.eventQueue_,p,[])}function Vg(n){or(n,"onDisconnectEvents");const e=rl(n),t=fi();no(n.onDisconnect_,ie(),(i,r)=>{const o=Cg(i,r,n.serverSyncTree_,e);Xu(t,i,o)});let s=[];no(t,ie(),(i,r)=>{s=s.concat(Ps(n.serverSyncTree_,i,r));const o=Df(n,i);lr(n,o)}),n.onDisconnect_=fi(),gt(n.eventQueue_,ie(),s)}function jg(n,e,t){let s;K(e._path)===".info"?s=lo(n.infoSyncTree_,e,t):s=lo(n.serverSyncTree_,e,t),Tf(n.eventQueue_,e._path,s)}function zg(n,e,t){let s;K(e._path)===".info"?s=bi(n.infoSyncTree_,e,t):s=bi(n.serverSyncTree_,e,t),Tf(n.eventQueue_,e._path,s)}function Gg(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Dg)}function or(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ke(t,...e)}function qg(n,e,t,s){e&&Dn(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function Af(n,e,t){return Ko(n.serverSyncTree_,e,t)||j.EMPTY_NODE}function ll(n,e=n.transactionQueueTree_){if(e||ar(n,e),Mn(e)){const t=Of(n,e);O(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&$g(n,ks(e),t)}else vf(e)&&rr(e,t=>{ll(n,t)})}function $g(n,e,t){const s=t.map(c=>c.currentWriteId),i=Af(n,e,s);let r=i;const o=i.hash();for(let c=0;c<t.length;c++){const d=t[c];O(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const p=Be(e,d.path);r=r.updateChild(p,d.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;n.server_.put(a.toString(),l,c=>{or(n,"transaction put response",{path:a.toString(),status:c});let d=[];if(c==="ok"){const p=[];for(let b=0;b<t.length;b++)t[b].status=2,d=d.concat(Jt(n.serverSyncTree_,t[b].currentWriteId)),t[b].onComplete&&p.push(()=>t[b].onComplete(null,!0,t[b].currentOutputSnapshotResolved)),t[b].unwatcher();ar(n,nl(n.transactionQueueTree_,e)),ll(n,n.transactionQueueTree_),gt(n.eventQueue_,e,d);for(let b=0;b<p.length;b++)Dn(p[b])}else{if(c==="datastale")for(let p=0;p<t.length;p++)t[p].status===3?t[p].status=4:t[p].status=0;else{Ve("transaction at "+a.toString()+" failed: "+c);for(let p=0;p<t.length;p++)t[p].status=4,t[p].abortReason=c}lr(n,e)}},o)}function lr(n,e){const t=Pf(n,e),s=ks(t),i=Of(n,t);return Kg(n,i,s),s}function Kg(n,e,t){if(e.length===0)return;const s=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Be(t,a.path);let d=!1,p;if(O(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,p=a.abortReason,i=i.concat(Jt(n.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=Mg)d=!0,p="maxretry",i=i.concat(Jt(n.serverSyncTree_,a.currentWriteId,!0));else{const b=Af(n,a.path,o);a.currentInputSnapshot=b;const I=e[l].update(b.val());if(I!==void 0){sl("transaction failed: Data returned ",I,a.path);let N=Re(I);typeof I=="object"&&I!=null&&Rt(I,".priority")||(N=N.updatePriority(b.getPriority()));const $=a.currentWriteId,x=rl(n),_=bf(N,b,x);a.currentOutputSnapshotRaw=N,a.currentOutputSnapshotResolved=_,a.currentWriteId=Rf(n),o.splice(o.indexOf($),1),i=i.concat(pf(n.serverSyncTree_,a.path,_,a.currentWriteId,a.applyLocally)),i=i.concat(Jt(n.serverSyncTree_,$,!0))}else d=!0,p="nodata",i=i.concat(Jt(n.serverSyncTree_,a.currentWriteId,!0))}gt(n.eventQueue_,t,i),i=[],d&&(e[l].status=2,function(b){setTimeout(b,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?s.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):s.push(()=>e[l].onComplete(new Error(p),!1,null))))}ar(n,n.transactionQueueTree_);for(let l=0;l<s.length;l++)Dn(s[l]);ll(n,n.transactionQueueTree_)}function Pf(n,e){let t,s=n.transactionQueueTree_;for(t=K(e);t!==null&&Mn(s)===void 0;)s=nl(s,t),e=_e(e),t=K(e);return s}function Of(n,e){const t=[];return kf(n,e,t),t.sort((s,i)=>s.order-i.order),t}function kf(n,e,t){const s=Mn(e);if(s)for(let i=0;i<s.length;i++)t.push(s[i]);rr(e,i=>{kf(n,i,t)})}function ar(n,e){const t=Mn(e);if(t){let s=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[s]=t[i],s++);t.length=s,yf(e,t.length>0?t:void 0)}rr(e,s=>{ar(n,s)})}function Df(n,e){const t=ks(Pf(n,e)),s=nl(n.transactionQueueTree_,e);return Eg(s,i=>{kr(n,i)}),kr(n,s),Cf(s,i=>{kr(n,i)}),t}function kr(n,e){const t=Mn(e);if(t){const s=[];let i=[],r=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(O(r===o-1,"All SENT items should be at beginning of queue."),r=o,t[o].status=3,t[o].abortReason="set"):(O(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Jt(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&s.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?yf(e,void 0):t.length=r+1,gt(n.eventQueue_,ks(e),i);for(let o=0;o<s.length;o++)Dn(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(n){let e="";const t=n.split("/");for(let s=0;s<t.length;s++)if(t[s].length>0){let i=t[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Qg(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const s=t.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ve(`Invalid query segment '${t}' in query '${n}'`)}return e}const Fa=function(n,e){const t=Xg(n),s=t.namespace;t.domain==="firebase.com"&&Tt(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&t.domain!=="localhost"&&Tt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||c_();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Ou(t.host,t.secure,s,i,e,"",s!==t.subdomain),path:new fe(t.pathString)}},Xg=function(n){let e="",t="",s="",i="",r="",o=!0,l="https",a=443;if(typeof n=="string"){let c=n.indexOf("//");c>=0&&(l=n.substring(0,c-1),n=n.substring(c+2));let d=n.indexOf("/");d===-1&&(d=n.length);let p=n.indexOf("?");p===-1&&(p=n.length),e=n.substring(0,Math.min(d,p)),d<p&&(i=Yg(n.substring(d,p)));const b=Qg(n.substring(Math.min(n.length,p)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const I=e.slice(0,c);if(I.toLowerCase()==="localhost")t="localhost";else if(I.split(".").length<=2)t=I;else{const N=e.indexOf(".");s=e.substring(0,N).toLowerCase(),t=e.substring(N+1),r=s}"ns"in b&&(r=b.ns)}return{host:e,port:a,domain:t,subdomain:s,secure:o,scheme:l,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t,s,i){this.eventType=e,this.eventRegistration=t,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ee(this.snapshot.exportVal())}}class Zg{constructor(e,t,s){this.eventRegistration=e,this.error=t,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t,s,i){this._repo=e,this._path=t,this._queryParams=s,this._orderByCalled=i}get key(){return Q(this._path)?null:Hu(this._path)}get ref(){return new At(this._repo,this._path)}get _queryIdentifier(){const e=Ca(this._queryParams),t=ko(e);return t==="{}"?"default":t}get _queryObject(){return Ca(this._queryParams)}isEqual(e){if(e=On(e),!(e instanceof al))return!1;const t=this._repo===e._repo,s=Fo(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+q_(this._path)}}class At extends al{constructor(e,t){super(e,t,new Ho,!1)}get parent(){const e=ju(this._path);return e===null?null:new At(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Is{constructor(e,t,s){this._node=e,this.ref=t,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new fe(e),s=co(this.ref,e);return new Is(this._node.getChild(t),s,ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Is(i,co(this.ref,s),ye)))}hasChild(e){const t=new fe(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Hs(n,e){return n=On(n),n._checkNotDeleted("ref"),e!==void 0?co(n._root,e):n._root}function co(n,e){return n=On(n),K(n._path)===null?Ag("child","path",e):wf("child","path",e),new At(n._repo,we(n._path,e))}function em(n){return Sf("remove",n._path),Lf(n,null)}function Lf(n,e){n=On(n),Sf("set",n._path),Rg("set",e,n._path);const t=new Ji;return Hg(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function tm(n){n=On(n);const e=new Mf(()=>{}),t=new cr(e);return Ug(n._repo,n,t).then(s=>new Is(s,new At(n._repo,n._path),n._queryParams.getIndex()))}class cr{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const s=t._queryParams.getIndex();return new Jg("value",this,new Is(e.snapshotNode,new At(t._repo,t._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Zg(this,e,t):null}matches(e){return e instanceof cr?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function nm(n,e,t,s,i){const r=new Mf(t,void 0),o=new cr(r);return jg(n._repo,n,o),()=>zg(n._repo,n,o)}function sm(n,e,t,s){return nm(n,"value",e)}ng(At);lg(At);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="FIREBASE_DATABASE_EMULATOR_HOST",uo={};let rm=!1;function om(n,e,t,s){n.repoInfo_=new Ou(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),s&&(n.authTokenProvider_=s)}function lm(n,e,t,s,i){let r=s||n.options.databaseURL;r===void 0&&(n.options.projectId||Tt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ke("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=Fa(r,i),l=o.repoInfo,a;typeof process<"u"&&ia&&(a=ia[im]),a?(r=`http://${a}?ns=${l.namespace}`,o=Fa(r,i),l=o.repoInfo):o.repoInfo.secure;const c=new y_(n.name,n.options,e);Pg("Invalid Firebase Database URL",o),Q(o.path)||Tt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=cm(l,n,c,new b_(n,t));return new um(d,n)}function am(n,e){const t=uo[e];(!t||t[n.key]!==n)&&Tt(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Gg(n),delete t[n.key]}function cm(n,e,t,s){let i=uo[e.name];i||(i={},uo[e.name]=i);let r=i[n.toURLString()];return r&&Tt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Lg(n,rm,t,s),i[n.toURLString()]=r,r}class um{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Fg(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new At(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(am(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tt("Cannot call "+e+" on a deleted database.")}}function fm(n=z0(),e){const t=W0(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const s=Np("database");s&&hm(t,...s)}return t}function hm(n,e,t,s={}){n=On(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,r=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&ii(s,r.repoInfo_.emulatorOptions))return;Tt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&Tt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qs(qs.OWNER);else if(s.mockUserToken){const l=typeof s.mockUserToken=="string"?s.mockUserToken:Rp(s.mockUserToken,n.app.options.projectId);o=new qs(l)}om(r,i,s,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(n){s_(j0),oi(new ps("database",(e,{instanceIdentifier:t})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return lm(s,i,r,t)},"PUBLIC").setMultipleInstances(!0)),Cn(ra,oa,n),Cn(ra,oa,"esm2017")}wt.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};wt.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};dm();const Gn=vi;(function(n,e){const t=vi,s=n();for(;;)try{if(-parseInt(t(432))/1+parseInt(t(442))/2+-parseInt(t(433))/3*(-parseInt(t(444))/4)+parseInt(t(435))/5*(parseInt(t(439))/6)+-parseInt(t(434))/7+-parseInt(t(430))/8*(-parseInt(t(445))/9)+parseInt(t(436))/10*(-parseInt(t(440))/11)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(yi,279753);function yi(){const n=["649693MZvruB","https://iamwait-default-rtdb.europe-west1.firebasedatabase.app","606012XSvXVW","iamwait.firebaseapp.com","8hPERBe","23823XzMTHU","8HwzJoo","1:720775593565:web:1a263bf6a87ecfea3817b4","162233LfkUSH","562323pIqnPu","160538XzXBQR","5LGxseG","80jmJneL","iamwait","iamwait.firebasestorage.app","1541334sbOEsQ"];return yi=function(){return n},yi()}function vi(n,e){const t=yi();return vi=function(s,i){return s=s-430,t[s]},vi(n,e)}const pm={apiKey:"AIzaSyAjPiSVzEEN6JywDXNxXaV9QC8OrB5Oebw",authDomain:Gn(443),databaseURL:Gn(441),projectId:Gn(437),storageBucket:Gn(438),messagingSenderId:"720775593565",appId:Gn(431),measurementId:"G-3RRDNZ9ME5"},_m=pu(pm),Vs=fm(_m),ht=Ii;(function(n,e){const t=Ii,s=n();for(;;)try{if(parseInt(t(411))/1*(-parseInt(t(429))/2)+-parseInt(t(403))/3*(-parseInt(t(440))/4)+-parseInt(t(437))/5+parseInt(t(399))/6+-parseInt(t(432))/7+-parseInt(t(444))/8*(-parseInt(t(415))/9)+parseInt(t(442))/10===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Ci,431127);function Ci(){const n=["%c ","exists","lookField","EztFi","orYTH","MZrOc","color: darkgreen","val","string","Камень ножницы бумага","IpMEy","hzkJS","########### ########## Данные ","45058YvntiR"," : данные не найдены","Ошибка записи данных: ","2572325PXMIsA","myPlaceInLine","CFkyE","split","XfBlt","2941320ihzbhH","scoreOpp","catch","292flYRYR","Данные ","5173040wXQpUr","szrPI","4607744DViWgA","fEqEs","fbStore2","TMdDY","4347798pFyvrz","then","error"," удалены!","7284yytsXx","stringify","log","scoreMy","ThKmy","empty"," = ","Крестики нолики","27xePnQQ","crwRK","FreKO"," на прослушке","9OspGZv"];return Ci=function(){return n},Ci()}function Ii(n,e){const t=Ci();return Ii=function(s,i){return s=s-398,t[s]},Ii(n,e)}const cn=xp(ht(446),{state:()=>({gameId:"",gameNames:{g1:ht(425),g2:ht(410),g3:"Морской бой"},myId:0,myName:"",opponentId:0,opponentName:"",lookField:null,stage:-1,playNumber:0,gameLink:"",myPlaceInLine:-1,scoreMy:-100,scoreOpp:-100}),actions:{async getField(n){const e=ht,t={fEqEs:function(i,r){return i(r)},TMdDY:function(i,r){return i+r},szrPI:e(430),orYTH:e(408),EztFi:function(i,r,o){return i(r,o)},hzkJS:function(i,r){return i(r)}},s=t[e(419)](Hs,Vs,n);return t[e(427)](tm,s).then(i=>{const r=e;if(i[r(417)]()){const o=i[r(423)]();return t[r(445)](qn,t.TMdDY(">>> Данные по "+n+r(409),JSON[r(404)](o))),o}else return t[r(445)](qn,t[r(398)](n,t[r(443)])),t[r(420)]})},async setField(n,e){const t=ht,s={ThKmy:function(r,o){return r(o)},XfBlt:function(r,o){return r+o},MZrOc:" -  данные записаны",FreKO:t(431),CFkyE:function(r,o,l){return r(o,l)}},i=s[t(434)](Hs,Vs,n);return Lf(i,e)[t(400)](()=>{const r=t;s[r(407)](qn,s[r(436)](n,s[r(421)]))})[t(439)](r=>{const o=t;console[o(401)](s[o(413)],r)})},async onValue(n){const e=ht,t={IpMEy:function(i,r){return i===r},dUUhX:e(424),LLWFe:function(i,r){return i==r},stytS:function(i,r,o){return i(r,o)}},s=t.stytS(Hs,Vs,n);sm(s,i=>{const r=e;qn(r(428)+n+r(414));let o=i[r(423)]();if(t[r(426)](typeof o,t.dUUhX)){let l=o[r(435)]("::");this[r(433)]==0&&(this[r(406)]=+l[0],this[r(438)]=+l[1]),t.LLWFe(this.myPlaceInLine,1)&&(this[r(406)]=+l[1],this[r(438)]=+l[0])}else this[r(418)]=i[r(423)]()})},async removeField(n){const e=ht,t={DAPdk:function(i,r){return i(r)},crwRK:function(i,r){return i(r)}};console[e(405)](n);const s=Hs(Vs,n);t[e(412)](em,s)[e(400)](()=>{const i=e;t.DAPdk(qn,i(441)+n+i(402))})}}}),qn=n=>console[ht(405)](ht(416)+n,ht(422)),Ba=Ei;(function(n,e){const t=Ei,s=n();for(;;)try{if(parseInt(t(387))/1*(parseInt(t(393))/2)+parseInt(t(360))/3*(parseInt(t(381))/4)+parseInt(t(370))/5+parseInt(t(366))/6*(-parseInt(t(374))/7)+-parseInt(t(399))/8*(-parseInt(t(383))/9)+parseInt(t(398))/10*(-parseInt(t(390))/11)+parseInt(t(397))/12*(-parseInt(t(357))/13)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(wi,520007);function Ei(n,e){const t=wi();return Ei=function(s,i){return s=s-352,t[s]},Ei(n,e)}function wi(){const n=["1EegGxJ","AkcWC","eGqnz","11DZvhat"," Начальная страница ","jzUIg","1177492fTHhWV","tUuqU"," - Попросити соперника найти вас в miniapp: ","XWThr","372FpDxnM","2969170Edbnaj","2512LbXbId","CPtVA","gameId","IxzCe","mPWXb","log","679523BpFlqa","PUqsn","YdWca","2556REDekj","div","sqsCU","GrFFi"," - Сообщите ему название игры и ваш никнейм ","LttbC","284856BYySgG"," Морской бой ","PvKTy","Выберите игру","3942405EwGNTh","XehAS","pXlKH"," Камень ножницы бумага ","91ecDDqC","mEBPX","WlVru"," Крестики нолики ","BxDkm","ListGames","PacZB","4568QjRdue","button","20187pbwQEy","iAmWaitingForYou","zcnGL","GquIg"];return wi=function(){return n},wi()}const xm=An({__name:Ba(379),emits:["gameChanged"],setup(n,{emit:e}){const t=Ba,s={GrFFi:function(l,a){return l+a},XehAS:function(l,a){return l(a)},pXlKH:"gameChanged",PvKTy:function(l){return l()},LttbC:t(361),mEBPX:t(391),XWThr:function(l,a,c,d,p){return l(a,c,d,p)},YdWca:t(369),tUuqU:function(l,a,c,d,p){return l(a,c,d,p)},AkcWC:function(l,a,c,d){return l(a,c,d)},PacZB:t(382),nOTaA:t(373),GquIg:function(l,a,c,d,p){return l(a,c,d,p)},PUqsn:function(l,a,c,d,p){return l(a,c,d,p)},sqsCU:function(l,a,c,d){return l(a,c,d)},IxzCe:t(377),mPWXb:function(l){return l()},WlVru:function(l,a,c,d,p){return l(a,c,d,p)},AyzLy:t(367),zcnGL:function(l){return l()},jzUIg:function(l,a){return l(a)},TBehe:t(395),eGqnz:t(384),CPtVA:function(l,a){return l(a)},BxDkm:t(364)},i=cn(),r=e;function o(l){const a=t;console[a(356)](l),i[a(353)]=s[a(363)]("g",l),s[a(371)](r,s[a(372)])}return(l,a)=>{const c=t;return s[c(368)](ee),ne(s[c(365)],null,[a[3]||(a[3]=s[c(371)](ae,s[c(375)])),a[4]||(a[4]=s[c(396)](v,"h3",null,s[c(359)],-1)),a[5]||(a[5]=s[c(394)](v,"br",null,null,-1)),s[c(388)](v,s[c(380)],{onClick:a[0]||(a[0]=d=>o(1))},s.nOTaA),a[6]||(a[6]=s[c(386)](v,"br",null,null,-1)),a[7]||(a[7]=s[c(368)](ae)),a[8]||(a[8]=s[c(358)](v,"br",null,null,-1)),s[c(362)](v,s[c(380)],{onClick:a[1]||(a[1]=d=>o(2))},s[c(354)]),a[9]||(a[9]=s[c(358)](v,"br",null,null,-1)),a[10]||(a[10]=s[c(355)](ae)),a[11]||(a[11]=s.WlVru(v,"br",null,null,-1)),s.AkcWC(v,s[c(380)],{onClick:a[2]||(a[2]=d=>o(3))},s.AyzLy),a[12]||(a[12]=v("br",null,null,-1)),a[13]||(a[13]=s[c(376)](v,"br",null,null,-1)),a[14]||(a[14]=s[c(385)](ae)),a[15]||(a[15]=v("br",null,null,-1)),a[16]||(a[16]=s[c(392)](ae,s.TBehe)),a[17]||(a[17]=v("br",null,null,-1)),a[18]||(a[18]=s.GquIg(v,"br",null,null,-1)),a[19]||(a[19]=s[c(396)](v,"b",null,s[c(389)],-1)),a[20]||(a[20]=v("br",null,null,-1)),a[21]||(a[21]=ae()),a[22]||(a[22]=v("br",null,null,-1)),a[23]||(a[23]=s[c(352)](ae,s[c(378)]))])}}});function Si(n,e){const t=Ti();return Si=function(s,i){return s=s-481,t[s]},Si(n,e)}const ls=Si;(function(n,e){const t=Si,s=n();for(;;)try{if(parseInt(t(490))/1+-parseInt(t(492))/2*(-parseInt(t(482))/3)+parseInt(t(503))/4*(parseInt(t(498))/5)+parseInt(t(497))/6+-parseInt(t(502))/7+-parseInt(t(504))/8+-parseInt(t(505))/9*(parseInt(t(485))/10)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Ti,641920);const gm={class:ls(501)},mm={key:0,class:ls(491)};function Ti(){const n=["788368fJnzNP","4iaTPDh","9143472vqyzEJ","9873sjoFIg","hKtnu","393LKsluF","div","MQLSc","6190ywSSmG","DpHwg","Инфо","CwUHy","dglWh","939310qSyJHY","panel","3030pOQFul","EVjcX","Удалить игру","MenuButton","toExit","5385726bMYKeR","2705625hYapIx","button","value","menuBt"];return Ti=function(){return n},Ti()}const bm=An({__name:ls(495),emits:[ls(496)],setup(n,{emit:e}){const t=ls,s={Reqgg:t(496),OVeTJ:function(l){return l()},DpHwg:function(l,a,c,d){return l(a,c,d)},dglWh:t(483),bsxfa:function(l,a,c,d){return l(a,c,d)},CwUHy:function(l,a,c,d){return l(a,c,d)},EVjcX:t(499),lvozp:t(494),KCCsA:function(l){return l()},QlrNs:function(l,a,c,d,p){return l(a,c,d,p)},MQLSc:function(l,a,c,d,p){return l(a,c,d,p)},hKtnu:function(l,a,c){return l(a,c)}},i=e,r=Ie();function o(l){const a=t;switch(l){case(l=1):i(s.Reqgg);break}r[a(500)]=!1}return(l,a)=>{const c=t;return s.OVeTJ(ee),s[c(486)](ne,s.dglWh,gm,[s.bsxfa(v,c(483),null,[s[c(488)](v,s[c(493)],{class:"menuBt_bt",onClick:a[0]||(a[0]=d=>r[c(500)]=!r[c(500)])},"❁")]),r[c(500)]?(s.OVeTJ(ee),ne(s[c(489)],mm,[s.bsxfa(v,"a",{onClick:a[1]||(a[1]=d=>o(1))},s.lvozp),a[2]||(a[2]=s.KCCsA(ae)),a[3]||(a[3]=s.QlrNs(v,"br",null,null,-1)),a[4]||(a[4]=s[c(484)](v,"a",null,c(487),-1))])):s[c(481)](be,"",!0)])}}}),Ds=(n,e)=>{const t=n.__vccOpts||n;for(const[s,i]of e)t[s]=i;return t},ym=Ds(bm,[["__scopeId","data-v-ff2e1591"]]);function Ni(){const n=["3|6|5|1|2|4|0","WSCsV","9jtjRpI","MYlNB","Отказаться","LvqTQ","zlZVT","жду его согласия ","IjDQj","30px","keys","div"," с игроком ","ukBKr","left","BDxJe","getField","IYNJc","TjIkX","uqyZd","Хорошо бы сообщить сопернику, что вы ушли из игры","includes","GVxKc","10192048VGJhKK","aklyq","WMMtf","HlghO","BcfGu","kORiI","oDjcf","TdLtX","twEHu","IxhSU","fOFUE","stage","opponentName","ICtgI","img","zcLKe","cuDcd","QQGoo","/look/","EmAxd"," Привет ","BYWZB","SkaeB","gEwVU","zwjbx","reload","RPKZR","oOumt","NYgoj","DAJhX","JJTiI","id2","2363142apgwIk","zjZcu","QULtc","xIGdt","ugdAv","24256450xqbpbq","покинул игру. ","PBbwa","myName","GdNHw"," Вас выбрал игрок: "," Зарегистрироваться в поиске ","3103132mRgONk","XIbVo","KWHCl","JDoxH","IlVmf","4px","bcLOa","YhJnz","mhDcn",">>>> ANALIZ ","iURWv","myPlaceInLine","/list/","MIZaY","setItem","ySZVe","* нельзя выбирать себя","Согласиться"," ИГРАЙТЕ ВДВОЕМ ","playNumber","1YvHhuJ","...загрузка","4|0|2|1|3","XtcVn","EaPUr","Wmber","qeJQz","3277920SbfDZF","log","bAHXx","1901678FbDfBb","Сменить nickName","::::::: Связывание :::::::","MwLDh","VliRV","nick","bBkih","#ddd","wnvDb","yySeT","then","button","Yrimf","JCcfD","feiyO","NdlPE","aktMx","length","Играем","dvCJU","pWxND","mpuHn","split","WLHGi","red-notice","UnHQh","xWHOW","ElsWl","/games/","myId","bVXQK"," Ваш соперник ","qIUzy","gZKVY","oamhL","wcQdw","orXgR","epCUN","20px","mQDcU","onClick","LvCWF","lcEss","ВСЕ НАСТРОЙКИ ИГРЫ","setField","XObLa","enVjU","name","forEach","value","TsyYB","input","Jpqwh","WdCRK","Список желающих играть:","BIuwT"," stage:","fTWMo","ZMMlV","gYrtb","7LMaaEt","3391134iAXvBH","lpSLY","eeAXU","WAEaq","accept","sFwMc","Vwxgv","ARcMI","FaWYQ","pEwem","gameId","rBgPx","red-bt","MsvRc","mnTEn","Eqcpu","BjCDV"," Выбрал игрока ","center","vkZqt","ssBdq","bWPPh","WNcXR","EunrN","xeodo","UyFZY","zJNpB","zQgqN","kOJeC","myNickName","IIZJT","AoCOd","bwIOD","RoKHw","saTBU","bOqZz","kpmwz","NNPdk","aLSzh","Tpwst","gRiSk","YHSzM","vXGYb","removeField","UteDn","nOmyZ","empty","sHJOY","gameLink","Нет согласия, отменяю выбор","TItJp"];return Ni=function(){return n},Ni()}const un=Qe;(function(n,e){const t=Qe,s=n();for(;;)try{if(-parseInt(t(247))/1*(-parseInt(t(257))/2)+parseInt(t(318))/3+parseInt(t(227))/4+-parseInt(t(254))/5+parseInt(t(215))/6*(-parseInt(t(317))/7)+parseInt(t(392))/8+-parseInt(t(371))/9*(parseInt(t(220))/10)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Ni,655920);function Qe(n,e){const t=Ni();return Qe=function(s,i){return s=s-196,t[s]},Qe(n,e)}const vm={key:0},Cm={key:1},Im={key:2},Em={key:3},wm={key:4},Sm={class:un(281)},Tm={key:0},Nm=[un(297)],Rm={key:5},Am={key:0},Pm=[un(297)],Om={key:1,class:"red-notice"},km={key:6},Dm={style:{"font-size":"30px"}},Mm={key:7},Lm={key:8},Fm={style:{"font-size":un(378)}},Bm={style:{color:"red","font-size":un(295)}},Wm={key:9},Um={style:{"font-size":"30px",background:un(264)}},Hm={key:10},Vm={key:11},jm=!1,zm=An({__name:"__BinderComp",setup(n){const e=un,t={BcfGu:e(347),oDjcf:function(f){return f()},Vwxgv:e(364),aLSzh:function(f,u){return f>u},WLHGi:function(f,u){return f+u},QKpYx:e(369),qIUzy:function(f,u){return f===u},NYgoj:function(f,u){return f(u)},sFwMc:function(f,u){return f!==u},uqyZd:function(f,u){return f==u},kOJeC:function(f){return f()},TsyYB:e(236),feiyO:function(f){return f()},IxhSU:function(f,u){return f+u},VliRV:"/look",UnHQh:function(f,u,h){return f(u,h)},mvBkX:"* nickname не может быть меньше 2 букв",oOumt:function(f,u,h){return f(u,h)},TjIkX:e(201),sHJOY:function(f,u){return f+u},GVxKc:function(f,u){return f+u},ecGnz:function(f,u){return f+u},EaPUr:function(f,u){return f+u},pWxND:function(f,u){return f+u},WdCRK:"/list/",cuDcd:e(285),dvCJU:function(f,u){return f+u},gRiSk:function(f,u){return f(u)},ySZVe:function(f,u){return f>u},NNPdk:function(f,u){return f+u},FaWYQ:function(f,u){return f+u},WAEaq:function(f,u){return f+u},zQgqN:function(f,u){return f+u},lcEss:e(300),Wmber:function(f,u){return f+u},IlVmf:function(f){return f()},fOFUE:function(f,u,h,C,T,Z){return f(u,h,C,T,Z)},ZMMlV:e(268),ICtgI:"green-bt",AoCOd:function(f,u){return f(u)},XtcVn:function(f,u,h,C,T,Z){return f(u,h,C,T,Z)},MYlNB:function(f){return f()},oamhL:function(f,u,h,C,T){return f(u,h,C,T)},epCUN:function(f){return f()},fTWMo:function(f,u,h,C,T){return f(u,h,C,T)},Yrimf:function(f,u,h,C,T){return f(u,h,C,T)},xeodo:function(f,u,h,C,T){return f(u,h,C,T)},bVXQK:function(f,u,h){return f(u,h)},Jpqwh:function(f,u){return f+u},WMMtf:function(f,u){return f+u},JDoxH:function(f,u){return f+u},SPnFs:" : ",ukBKr:function(f,u){return f(u)},ndZfz:function(f,u,h,C){return f(u,h,C)},pEwem:e(380),mQDcU:function(f,u,h){return f(u,h)},MwLDh:function(f){return f()},LvCWF:function(f,u,h,C,T){return f(u,h,C,T)},XIbVo:function(f,u,h,C,T){return f(u,h,C,T)},XObLa:function(f,u,h,C,T){return f(u,h,C,T)},twEHu:e(245),ARcMI:e(197),BIuwT:function(f,u,h,C,T){return f(u,h,C,T)},ElsWl:function(f,u,h,C,T){return f(u,h,C,T)},qeJQz:function(f,u){return f===u},ssBdq:function(f,u){return f(u)},HcBvq:function(f,u,h,C){return f(u,h,C)},kORiI:function(f,u){return f===u},aklyq:function(f,u){return f(u)},EmAxd:function(f,u,h,C){return f(u,h,C)},enVjU:function(f,u,h,C,T){return f(u,h,C,T)},VuiUW:e(203),bwIOD:function(f,u,h,C){return f(u,h,C)},wnvDb:function(f,u,h){return f(u,h)},rBgPx:e(308),nOmyZ:"larger",bOqZz:e(232),vXGYb:e(336),nCeCK:e(258),zwjbx:function(f){return f()},BjCDV:function(f,u,h,C){return f(u,h,C)},HlghO:e(311),Eqcpu:function(f,u,h){return f(u,h)},gYrtb:"small",tmtHU:"Нужно дать ссылку на бот другому игроку. И сообщить какую игру выбрать",GaKou:function(f,u,h,C,T){return f(u,h,C,T)},IYNJc:function(f,u,h){return f(u,h)},UteDn:function(f,u){return f===u},orXgR:function(f){return f()},SkaeB:function(f,u,h,C){return f(u,h,C)},ySrxb:"Нахожусь в списке, жду соперника",PBbwa:function(f,u,h){return f(u,h)},bBkih:function(f,u,h){return f(u,h)},xIGdt:function(f){return f()},KWHCl:function(f,u,h,C){return f(u,h,C)},WljJU:"Нет желающих, отменяю ожидание",lpSLY:function(f,u){return f===u},UyFZY:function(f,u,h,C,T){return f(u,h,C,T)},zlZVT:e(335),RPKZR:function(f,u,h,C,T){return f(u,h,C,T)},mhDcn:function(f,u,h,C,T){return f(u,h,C,T)},DAJhX:function(f,u){return f(u)},JCcfD:e(376),fMmqB:e(367),MsvRc:function(f,u){return f===u},GdNHw:function(f){return f()},mpuHn:function(f,u,h,C){return f(u,h,C)},HLOvM:function(f,u){return f(u)},zcLKe:e(225),NdlPE:function(f,u,h,C,T){return f(u,h,C,T)},WNcXR:function(f,u,h,C,T){return f(u,h,C,T)},mnTEn:function(f,u,h,C){return f(u,h,C)},wcQdw:e(330),BDxJe:function(f,u,h,C){return f(u,h,C)},JJTiI:e(244),EunrN:function(f,u){return f===u},vkZqt:function(f,u){return f(u)},gZKVY:function(f,u,h,C){return f(u,h,C)},LvqTQ:function(f,u,h,C,T){return f(u,h,C,T)},gWpkQ:e(275),YHSzM:function(f,u){return f(u)},yySeT:function(f,u){return f(u)},MIZaY:function(f,u,h,C){return f(u,h,C)},IjDQj:function(f,u,h,C,T){return f(u,h,C,T)},QULtc:function(f,u){return f===u},YhJnz:"Играть",gEwVU:function(f){return f()},TdLtX:function(f,u){return f(u)},QQGoo:e(288),RoKHw:e(221),ugdAv:function(f,u,h,C,T){return f(u,h,C,T)},jWdyK:function(f,u,h,C,T){return f(u,h,C,T)},IoWkO:function(f,u,h){return f(u,h)},zjZcu:function(f){return f()},bcLOa:"* можете поменять ваш Никнейм"},s=t[e(224)](cn),i=t[e(359)](Ie,localStorage.getItem(t[e(396)])||e(262)),r=Ie([]),o=t[e(260)](Ie),l=t[e(216)](Ie),a=Ie(""),c=t[e(337)](Ie,""),d=t.ukBKr(Ie,t[e(233)]),p=function(){const f=e;i[f(306)]&&localStorage[f(241)](t[f(396)],i[f(306)])},b=t[e(399)](Ie,"");function I(){const f=e,u={xWHOW:function(h){return t[Qe(398)](h)},aktMx:"res",eeAXU:t[f(324)],Tpwst:function(h,C){return t[f(356)](h,C)},zJNpB:function(h,C){return t[f(280)](h,C)}};i.value||(i.value=s.myName),s[f(385)](f(239)+s[f(286)])[f(267)](h=>{const C=f;if(console[C(255)](u[C(273)],h),h[C(383)])return s.stage=4,b[C(306)]=h[C(383)],!1;if(h){if(s[C(404)]=h[C(304)],s.opponentId=h.id,h===u[C(320)])return s[C(403)]=0,!1;o[C(306)]={id:h.id,name:h[C(304)]},s[C(238)]=u[C(357)](s[C(286)],o.value.id)?0:1,s.getField(u[C(344)](C(285),h[C(366)]))[C(267)](T=>{const Z=C,H=Z(249)[Z(279)]("|");let W=0;for(;;){switch(H[W++]){case"0":a[Z(306)]=T;continue;case"1":s[Z(366)]=h[Z(366)];continue;case"2":s[Z(403)]=5;continue;case"3":u[Z(283)](J);continue;case"4":s[Z(328)]=T[Z(328)];continue}break}})}})}const N=function(f){const u=e,h={bWPPh:t.QKpYx,dnMGv:function(C,T){return C>T},BYWZB:function(C,T){return t[Qe(289)](C,T)},saTBU:function(C,T){return t[Qe(211)](C,T)},kpmwz:function(C,T){return t[Qe(323)](C,T)},WSCsV:function(C,T){return t[Qe(388)](C,T)},UojYA:function(C){return t[Qe(346)](C)}};if(console.log(t[u(307)],f),r.value=[],s.stage===0)return!1;f&&(s[u(403)]=1),f&&Object[u(379)](f)[u(305)](C=>{const T=u,Z=h[T(339)].split("|");let H=0;for(;;){switch(Z[H++]){case"0":C&&f[C]&&r[T(306)].push({id:C,name:f[C][T(304)]});continue;case"1":if(h.dnMGv(s.stage,3))return!1;continue;case"2":h[T(204)](C,h[T(352)](String,s[T(286)]))&&C&&(h[T(354)](s[T(403)],3)&&(s[T(403)]=2),f[C][T(214)]&&(s[T(403)]=4));continue;case"3":f[C].id2&&f[C].id2===s[T(286)]&&(o[T(306)]={id:C,name:f[C][T(304)]});continue;case"4":h[T(370)](f[C][T(214)],s[T(286)])&&(s[T(403)]=3);continue;case"5":if(f[C][T(322)])return s[T(403)]=-1,h.UojYA(Se),!1;continue;case"6":h[T(204)](C,String(s[T(286)]))&&f[C][T(214)]&&(o[T(306)]={id:f[C][T(214)],name:f[C].name2});continue}break}})};t[e(333)](_t,()=>s[e(286)],f=>f&&setTimeout(I,500));function B(){const f=e;t[f(271)]($),s[f(403)]=1}function $(){const f=e;s.onValue(t[f(401)](s[f(328)],t[f(261)])).then(u=>N(u)),t[f(282)](_t,()=>s.lookField,u=>N(u))}function x(){const f=e;if(i[f(306)][f(274)]<2)return d[f(306)]=t.mvBkX,!1;s[f(301)](t[f(280)](t[f(280)](s[f(328)],f(201)),s.myId),{name:i[f(306)]})}function _(f){const u=e;if(t[u(388)](f.id,s.myId))return l[u(306)]=!0,t.oOumt(setTimeout,()=>l[u(306)]=!1,2e3),!1;s.setField(t[u(401)](s.gameId,t.TjIkX)+f.id,{name:f[u(304)],id2:s[u(286)],name2:i[u(306)]||s[u(223)]})[u(267)](()=>{const h=u;o[h(306)]={id:f.id,name:f[h(304)]},s.stage=3})}function m(f){const u=e;f&&o[u(306)]&&s[u(301)](t[u(365)](s[u(328)]+u(201),o[u(306)].id),{name:o[u(306)].name,id2:s[u(286)],name2:i.value||s[u(223)],accept:!0})[u(267)](()=>s[u(403)]=-1),!f&&s[u(301)](t[u(401)](t.GVxKc(s[u(328)],t.TjIkX),s.myId),{name:i.value||s[u(223)]})[u(267)](()=>s[u(403)]=2)}function w(){const f=e;s[f(301)](t.ecGnz(s[f(328)],t[f(387)])+o[f(306)].id,{name:o[f(306)].name}).then(()=>s[f(403)]=2)}function k(){const f=e;s[f(361)](t.EaPUr(s.gameId,t[f(387)])+s[f(286)])[f(267)](()=>s.stage=0)}function ze(){var h;const f=e;debugger;c[f(306)]=f(389);let u=t.NYgoj(String,o[f(306)].id);t.aLSzh(o[f(306)].id,s.myId)?u+="::"+s[f(286)]:u=s[f(286)]+"::"+u,s[f(361)]("/list/"+s.myId),s[f(361)](t[f(277)](t.WdCRK,(h=o[f(306)])==null?void 0:h.id)),s.removeField(t[f(277)](t[f(199)],u)),t[f(210)](setTimeout,()=>location[f(208)](),3e3)}function Se(){var h,C,T;const f=e;let u=t[f(358)](String,o[f(306)].id);t[f(242)](o[f(306)].id,s[f(286)])?u+=t[f(355)]("::",s.myId):u=t[f(326)](t.WAEaq(s[f(286)],"::"),u),s[f(301)](t[f(321)](t[f(310)],s[f(286)]),{id:(h=o[f(306)])==null?void 0:h.id,name:(C=o[f(306)])==null?void 0:C[f(304)],gameLink:u}),s[f(301)](t[f(345)](t[f(310)],(T=o[f(306)])==null?void 0:T.id),{id:s[f(286)],name:i[f(306)]||s[f(223)],gameLink:u}),s[f(301)](f(285)+u,{game:t[f(299)],gameId:s[f(328)]}),t[f(210)](setTimeout,()=>{var H;const Z=f;s.removeField(s[Z(328)]+Z(201)+((H=o.value)==null?void 0:H.id)),s[Z(361)](t[Z(391)](t[Z(276)](s[Z(328)],t.TjIkX),s[Z(286)])),location.reload()},2e3)}function X(){const f=e;s[f(361)](t[f(252)](t[f(310)],s.myId)),setTimeout(()=>location.reload(),1e3)}function J(){const f=e;s[f(246)]=+s[f(328)].slice(1)}return(f,u)=>{var T,Z;const h=e,C={iURWv:function(H){return t[Qe(398)](H)},bAHXx:function(H,W,re,mt,fn,bt){return t[Qe(250)](H,W,re,mt,fn,bt)},IIZJT:t[h(315)],TItJp:t[h(196)]};return t[h(372)](ee),t[h(291)](ne,Xe,null,[jm?(t[h(294)](ee),ne(h(380),vm,[u[10]||(u[10]=t[h(314)](v,"hr",null,null,-1)),u[11]||(u[11]=t[h(269)](v,"i",null,h(259),-1)),u[12]||(u[12]=t[h(342)](v,"br",null,null,-1)),t[h(287)](ae,t[h(309)](t[h(394)](t[h(230)](" ",t[h(358)](ge,ce(s)[h(286)])),t.SPnFs),t[h(382)](ge,i[h(306)]))+" ",1),u[13]||(u[13]=t[h(269)](v,"br",null,null,-1)),t[h(287)](ae,t[h(251)](t[h(280)](h(313),t[h(349)](ge,ce(s).stage))," "),1),u[14]||(u[14]=t.xeodo(v,"hr",null,null,-1))])):t[h(282)](be,"",!0),t.qIUzy(ce(s).stage,5)?(ee(),t.ndZfz(ne,t[h(327)],Cm,[t.mQDcU(Ze,ym,{onToExit:u[0]||(u[0]=H=>ze())})])):be("",!0),t[h(289)](t.AoCOd(ce,s)[h(403)],-1)?(t[h(260)](ee),ne(t[h(327)],Im,u[15]||(u[15]=[t[h(298)](v,"br",null,null,-1),t[h(314)](v,"br",null,null,-1),t[h(228)](v,"br",null,null,-1),t.XObLa(v,"br",null,null,-1),t[h(382)](ae,t[h(400)]),t[h(298)](v,t[h(325)],{alt:h(248),src:gp},null,-1),t.oamhL(v,"br",null,null,-1),v("br",null,null,-1),v("br",null,null,-1),t[h(298)](v,"br",null,null,-1),t[h(312)](v,"br",null,null,-1),t.ElsWl(v,"br",null,null,-1)]))):t[h(210)](be,"",!0),t[h(253)](t[h(338)](ce,s).stage,0)?(t[h(346)](ee),t.HcBvq(ne,h(380),Em,[t[h(210)](Ze,xm,{onGameChanged:B})])):t[h(296)](be,"",!0),t[h(397)](t[h(393)](ce,s)[h(403)],1)?(ee(),t[h(202)](ne,h(380),wm,[u[19]||(u[19]=t[h(303)](v,"p",null,t.VuiUW,-1)),t[h(350)](v,"p",null,[t[h(265)](Ph,t.xeodo(v,t[h(329)],{"onUpdate:modelValue":u[1]||(u[1]=H=>i[h(306)]=H),maxlength:"16",minlength:"3",style:{"font-size":t[h(363)],padding:t[h(353)],"text-align":t[h(360)]},onInput:u[2]||(u[2]=H=>p()),placeholder:t.nCeCK},null,544),[[ip,i.value]])]),t[h(269)](v,t.pEwem,Sm,t[h(338)](ge,d[h(306)]),1),r[h(306)]&&t[h(242)](r[h(306)].length,1)?(t[h(207)](ee),t[h(334)](ne,h(380),Tm,[u[16]||(u[16]=t[h(298)](v,"h3",null,t[h(395)],-1)),(t[h(211)](ee,!0),ne(Xe,null,t[h(333)](bl,r[h(306)],H=>{const W=h;return C[W(237)](ee),C[W(256)](ne,C[W(348)],{class:C[W(368)],key:H.id,onClick:re=>_(H)},ge(H[W(304)]),9,Nm)}),128)),u[17]||(u[17]=v("br",null,null,-1)),u[18]||(u[18]=t[h(291)](v,"br",null,null,-1))])):t[h(265)](be,"",!0),v(t[h(315)],{class:"red-bt",onClick:u[3]||(u[3]=H=>x())},h(226)),u[20]||(u[20]=t.ElsWl(v,"br",null,null,-1)),u[21]||(u[21]=ae()),u[22]||(u[22]=t[h(298)](v,"br",null,null,-1)),u[23]||(u[23]=v(t[h(316)],null,t.tmtHU,-1)),u[24]||(u[24]=t.GaKou(v,"br",null,null,-1)),u[25]||(u[25]=v("br",null,null,-1))])):t[h(386)](be,"",!0),t[h(362)](t[h(393)](ce,s)[h(403)],2)?(t[h(293)](ee),t[h(205)](ne,t[h(327)],Rm,[u[29]||(u[29]=t[h(291)](v,"p",null,t.ySrxb,-1)),r[h(306)][h(274)]?(ee(),t[h(334)](ne,t[h(327)],Am,[u[26]||(u[26]=t.enVjU(v,"h3",null,t[h(395)],-1)),(t[h(211)](ee,!0),ne(Xe,null,t[h(222)](bl,r[h(306)],H=>{const W=h;return t[W(231)](ee),t[W(402)](ne,t[W(315)],{class:t[W(196)],key:H.id,onClick:re=>_(H)},t[W(349)](ge,H[W(304)]),9,Pm)}),128)),u[27]||(u[27]=t[h(284)](v,"br",null,null,-1)),u[28]||(u[28]=t[h(298)](v,"br",null,null,-1))])):t[h(263)](be,"",!0),l.value?(t[h(218)](ee),t[h(229)](ne,t[h(327)],Om,h(243))):be("",!0),u[30]||(u[30]=t[h(228)](v,"br",null,null,-1)),u[31]||(u[31]=t[h(342)](v,"br",null,null,-1)),v(t[h(315)],{onClick:u[4]||(u[4]=H=>k())},t.WljJU),u[32]||(u[32]=t[h(291)](v,"br",null,null,-1)),u[33]||(u[33]=t.fTWMo(v,"br",null,null,-1))])):t[h(386)](be,"",!0),t[h(319)](ce(s)[h(403)],3)?(ee(),t[h(334)](ne,t[h(327)],km,[u[34]||(u[34]=t[h(343)](v,"p",null,t[h(375)],-1)),v(t[h(327)],Dm,[t[h(209)](v,"b",null,t[h(382)](ge,(T=o[h(306)])==null?void 0:T[h(304)]),1)]),u[35]||(u[35]=t[h(235)](v,"br",null,null,-1)),u[36]||(u[36]=t[h(212)](ae,t[h(270)])),u[37]||(u[37]=t[h(342)](v,"br",null,null,-1)),u[38]||(u[38]=t.LvCWF(v,"br",null,null,-1)),u[39]||(u[39]=t.BIuwT(v,"br",null,null,-1)),u[40]||(u[40]=t[h(343)](v,"br",null,null,-1)),t.HcBvq(v,t[h(315)],{onClick:u[5]||(u[5]=H=>w())},t.fMmqB)])):t[h(263)](be,"",!0),t[h(331)](t.ssBdq(ce,s)[h(403)],4)&&((Z=o[h(306)])!=null&&Z.id)?(t[h(224)](ee),t[h(278)](ne,h(380),Mm,[u[41]||(u[41]=t.HLOvM(ae,t[h(198)])),u[42]||(u[42]=t[h(272)](v,"br",null,null,-1)),u[43]||(u[43]=t[h(312)](v,"br",null,null,-1)),t[h(209)](v,"b",null,ge(o[h(306)][h(304)]),1),u[44]||(u[44]=t[h(342)](v,"br",null,null,-1)),u[45]||(u[45]=t[h(340)](v,"br",null,null,-1)),t[h(332)](v,t[h(315)],{class:t[h(292)],onClick:u[6]||(u[6]=H=>m(!1))},h(373)),t[h(384)](v,t[h(315)],{class:t[h(292)],onClick:u[7]||(u[7]=H=>m(!0))},t[h(213)])])):t[h(222)](be,"",!0),t[h(341)](t[h(337)](ce,s)[h(403)],5)&&o[h(306)]?(ee(),t.gZKVY(ne,h(380),Lm,[u[46]||(u[46]=t[h(374)](v,"h3",null,t.gWpkQ,-1)),u[47]||(u[47]=t[h(359)](ae,h(381))),u[48]||(u[48]=t.fTWMo(v,"br",null,null,-1)),u[49]||(u[49]=t[h(291)](v,"br",null,null,-1)),t[h(229)](v,t[h(327)],Fm,[t[h(340)](v,"b",null,t[h(266)](ge,o[h(306)][h(304)]),1)]),u[50]||(u[50]=v("br",null,null,-1)),u[51]||(u[51]=v("br",null,null,-1)),t[h(240)](v,t[h(327)],Bm,[t[h(291)](v,"b",null,t[h(349)](ge,c.value),1)])])):t[h(287)](be,"",!0),ce(s)[h(403)]&&[1,2,3,4,5][h(390)](t[h(338)](ce,s)[h(403)])?(ee(),ne(t.pEwem,Wm,[u[52]||(u[52]=t[h(284)](v,"hr",null,null,-1)),u[53]||(u[53]=t[h(377)](v,"br",null,null,-1)),t[h(228)](v,t.pEwem,Um,ge(ce(s).gameNames[t.YHSzM(ce,s)[h(328)]]),1),u[54]||(u[54]=t.fTWMo(v,"br",null,null,-1)),u[55]||(u[55]=t[h(302)](v,"br",null,null,-1))])):t[h(265)](be,"",!0),t[h(217)](t[h(349)](ce,s)[h(403)],5)&&!b.value?(ee(),t[h(290)](ne,t.pEwem,Hm,[t.SkaeB(v,t[h(315)],{onClick:u[8]||(u[8]=H=>J())},t[h(234)])])):t[h(263)](be,"",!0),b[h(306)]?(t[h(206)](ee),t[h(334)](ne,h(380),Vm,[u[56]||(u[56]=t[h(399)](ae,t[h(200)])),u[57]||(u[57]=v("br",null,null,-1)),v("b",null,t[h(338)](ge,b[h(306)]),1),u[58]||(u[58]=t[h(312)](v,"br",null,null,-1)),u[59]||(u[59]=t[h(212)](ae,t[h(351)])),u[60]||(u[60]=t[h(219)](v,"br",null,null,-1)),u[61]||(u[61]=t.jWdyK(v,"br",null,null,-1)),t[h(205)](v,"button",{onClick:u[9]||(u[9]=H=>X())},"Ок")])):t.IoWkO(be,"",!0),u[62]||(u[62]=v("br",null,null,-1)),u[63]||(u[63]=t[h(303)](v,"br",null,null,-1))],64)}}}),Gm={class:"game"},qm={__name:"StartPage",setup(n){return(e,t)=>(ee(),ne("div",Gm,[t[0]||(t[0]=v("h1",null,"♕",-1)),v("div",null,[Ze(zm)])]))}},$m=Ds(qm,[["__scopeId","data-v-161e630d"]]);(function(n,e){const t=Ai,s=n();for(;;)try{if(parseInt(t(224))/1*(parseInt(t(227))/2)+parseInt(t(222))/3*(-parseInt(t(223))/4)+-parseInt(t(219))/5*(-parseInt(t(236))/6)+-parseInt(t(233))/7*(parseInt(t(238))/8)+parseInt(t(235))/9+-parseInt(t(231))/10+parseInt(t(237))/11===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Ri,972902);function Ri(){const n=["/games/","14525505TlJjny","12BAJaFN","15119423RKBBaN","1216888OxfDiE","RbJuF","ZmxPL","myName","removeField","2628365nICtEd","reload","gameLink","1959IMkdLR","10924qViYXr","121aJtXfc","myId","OEHtZ","26014fiPGZb","opponentId","WNTlI","/list/","11841650VkFMxX","setField","77vxmMDg"];return Ri=function(){return n},Ri()}function Ai(n,e){const t=Ri();return Ai=function(s,i){return s=s-215,t[s]},Ai(n,e)}function Km(){const n=Ai,e={RbJuF:function(s){return s()},WNTlI:function(s,i){return s+i},ZmxPL:n(230),OEHtZ:function(s,i,r){return s(i,r)}};let t=e[n(215)](cn);t[n(218)](e[n(229)](e[n(216)],t[n(225)])),t[n(232)](e[n(216)]+t[n(228)],{left:t[n(217)]}),t[n(218)](n(234)+t[n(221)]),e[n(226)](setTimeout,()=>location[n(220)](),1e3)}function Pi(n,e){const t=Oi();return Pi=function(s,i){return s=s-193,t[s]},Pi(n,e)}function Oi(){const n=["length","MsGAP","925536ZEWbFY","FlmAN","vifZr","PcqUz"," Еще играть","#fdd","QvuYf","VyAkS","68fGxlXF","SzMtu","-=-- res","VZIEs","RkbVl","itMvb","CnYYM","vVhGS","ThlnZ","dTqfz","3px solid red","slGXl","onValue","RNWqN","JKJLa","qqakx","zrRuX","div","scoreOpp","/game/","ждем ход соперника","cSDyu","LGUyl","gPtIL","ztzuY","30px","log","button","cIfXa","Сохранить","scoreMy","eGofj","IyPyB","1760NxbzPt","brTQO","UqyVq","hYzwb","dEYhl","vZjOw","#dfd","myId","3px solid green","1_StounScissorsPaper","UWrGZ","jcxfd","GtyUq","umsur","XfbZI","4569VQEeJn","Вы выиграли !!!","/game","fBXaU","13428XKSkBy","xtAKv","112918MopJdI","opponentName","!!! res","ugPhS","1903UrOGHO","SvPNi","690xopRQw","gameLink","Ножницы","opponentId","DNaaB","Cdtsu","exInO","GDnyc","eBneE","MyCaF","Бумага","green-bt","xaPLG","5028EOXzbR","uGPBq","gQuAX"," выйти ","zuIaz","lookField","dqHJi","zImeb","pUXpp","25px","ZUrmf","AkHKJ","zcYfI","white","1622196vDGNhC","EVCzC","FOOPu","aqotM","Камень","/games/","LHcwh","ubMqF","UQSpd","hgzNn","value","oBecW","/scores/","DXmkb","setField","GSGxe","Выиграл соперник:"," Соперник - ","then","disabled","1981HxmtaW","10FAhjSf"," Вы выбрали - ","BGhqh","kyOvq","100px","OBdTl","GeVRc","scoreTable","btmqz"];return Oi=function(){return n},Oi()}const Ye=Pi;(function(n,e){const t=Pi,s=n();for(;;)try{if(-parseInt(t(236))/1+parseInt(t(309))/2*(parseInt(t(230))/3)+parseInt(t(301))/4+parseInt(t(242))/5*(-parseInt(t(255))/6)+parseInt(t(289))/7*(parseInt(t(215))/8)+-parseInt(t(269))/9*(parseInt(t(290))/10)+-parseInt(t(240))/11*(-parseInt(t(234))/12)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Oi,130207);const Ym={class:"rama"},Qm={key:0},Xm=[Ye(288)],Jm={key:1},Zm={key:0,style:{background:Ye(306),"border-radius":Ye(294),border:Ye(319)}},e1={style:{"font-size":Ye(207)}},t1={key:1,style:{background:Ye(221),"border-radius":Ye(294),border:Ye(223)}},n1={key:2,style:{background:Ye(268)}},s1={class:Ye(297)},i1={style:{"font-size":"25px"}},r1={style:{"font-size":Ye(264)}},o1=An({__name:Ye(224),setup(n){const e=Ye,t={YgAYL:e(311),CAZnA:function(x){return x()},dTqfz:function(x,_){return x===_},XfbZI:function(x,_){return x+_},BGhqh:function(x,_){return x+_},dqHJi:e(238),hYzwb:"/games/",kyOvq:e(201),zcYfI:function(x,_){return x===_},gPtIL:function(x,_){return x===_},SzMtu:function(x,_){return x===_},aqotM:function(x,_){return x+_},zuIaz:function(x,_){return x+_},jcxfd:function(x,_){return x+_},CnYYM:e(281),RkbVl:function(x,_){return x+_},QvuYf:e(232),brTQO:function(x){return x()},UWrGZ:function(x,_){return x+_},LHcwh:function(x,_,m,w){return x(_,m,w)},UqyVq:e(199),gQuAX:function(x,_,m,w,k){return x(_,m,w,k)},slGXl:function(x,_,m,w,k){return x(_,m,w,k)},GeVRc:"Камень ножницы бумага",OBdTl:function(x,_,m,w,k){return x(_,m,w,k)},zImeb:function(x){return x()},MsGAP:function(x,_,m,w,k){return x(_,m,w,k)},ThlnZ:e(209),MyCaF:function(x,_){return x(_)},hgzNn:function(x,_){return x===_},ztzuY:e(273),iclka:function(x,_,m,w,k){return x(_,m,w,k)},dEYhl:function(x,_,m,w,k){return x(_,m,w,k)},exInO:function(x,_){return x(_)},zrvtB:function(x,_,m,w,k){return x(_,m,w,k)},ubMqF:function(x,_){return x(_)},DNaaB:e(252),kQlPQ:function(x,_,m,w,k){return x(_,m,w,k)},jCBsv:function(x,_,m,w,k,ze){return x(_,m,w,k,ze)},yCoNb:e(253),EVCzC:e(211),oBecW:function(x,_,m){return x(_,m)},YJQvs:function(x,_){return x(_)},DXmkb:e(202),Cdtsu:function(x,_,m,w,k){return x(_,m,w,k)},RNWqN:function(x,_,m,w,k){return x(_,m,w,k)},eGofj:function(x,_,m,w,k){return x(_,m,w,k)},tlFGB:e(285),IyPyB:function(x,_){return x(_)},JKJLa:function(x){return x()},GtyUq:e(231),fBXaU:function(x,_,m,w,k){return x(_,m,w,k)},GIBVA:function(x,_){return x===_},VyAkS:function(x){return x()},PcqUz:function(x,_,m,w){return x(_,m,w)},xaPLG:function(x,_,m,w,k){return x(_,m,w,k)},qqakx:function(x,_,m,w,k){return x(_,m,w,k)},vifZr:function(x,_,m,w,k){return x(_,m,w,k)},GSGxe:function(x,_,m){return x(_,m)},vVhGS:function(x,_,m,w,k){return x(_,m,w,k)},pEBxt:function(x,_){return x+_},GDnyc:function(x,_){return x(_)},ugPhS:e(286),LGUyl:function(x,_){return x(_)},UQSpd:function(x,_,m,w,k){return x(_,m,w,k)},VZIEs:e(305),itMvb:function(x,_,m,w,k){return x(_,m,w,k)},FOOPu:"small",pUXpp:" Соперник ",FlmAN:function(x,_,m,w,k){return x(_,m,w,k)},xtAKv:function(x,_,m,w,k){return x(_,m,w,k)},eBneE:function(x,_){return x(_)},umsur:function(x,_,m,w){return x(_,m,w)},vZjOw:function(x,_){return x(_)},HjeQj:function(x,_,m,w,k){return x(_,m,w,k)},cIfXa:function(x,_,m,w,k){return x(_,m,w,k)},zrRuX:function(x,_){return x(_)},SvPNi:function(x,_,m,w,k){return x(_,m,w,k)},CJUVv:function(x,_,m){return x(_,m)},btmqz:function(x,_){return x(_)},AkHKJ:function(x,_){return x(_)},ZUrmf:function(x,_){return x(_)},uGPBq:function(x,_){return x(_)},FNAzm:function(x,_,m){return x(_,m)},cSDyu:function(x,_){return x(_)}},s=t[e(196)](cn),i=t[e(298)](Ie,0),r=Ie(),o=t[e(266)](Ie,1),l=t[e(265)](Ie,-1),a=["",t[e(206)],"Ножницы",e(252)];let c,d,p=t[e(256)](Ie,!1);const b=t[e(214)](Ie,!1);t.FNAzm(_t,()=>s[e(260)],x=>I(x));function I(x){const _=e;console.log(t.YgAYL,x),x||t.CAZnA($);let m=x&&Object.keys(x)[_(299)];if(r.value=x,t.dTqfz(m,2)){switch(c=+x[s[_(245)]],d=+x[s[_(222)]],t.XfbZI(t[_(292)](d,""),c)){case"21":case"32":case"13":l[_(279)]=0;break;case"12":case"23":case"31":l.value=1;break;case"22":case"33":case"11":l.value=2}o[_(279)]=2}}function N(){const x=e;s.setField(t[x(229)](t[x(292)](t[x(218)]+s.gameLink,t[x(293)]),s[x(222)]),i[x(279)])[x(287)](_=>{const m=x;console[m(208)](t[m(261)],_),p[m(279)]=!0})}function B(){const x=e;if(t[x(318)](l[x(279)],0)&&s[x(200)]++,l[x(279)]===1&&s.scoreMy++,t[x(267)](l[x(279)],0)||t[x(318)](l.value,1)){let _="";t[x(205)](s.myPlaceInLine,0)&&(_=t[x(292)](t[x(292)](s.scoreMy,"::"),s[x(200)])),t[x(310)](s.myPlaceInLine,1)&&(_=t[x(272)](t[x(259)](s[x(200)],"::"),s[x(212)])),s[x(283)](t[x(226)](t[x(315)],s.gameLink),_)}s.removeField(t[x(272)](t[x(313)](x(274),s[x(243)]),t.QvuYf)),t[x(216)]($)}function $(){const x=e;o.value=1,i[x(279)]=0,p[x(279)]=!1}return t[e(203)](ws,()=>{const x=e;s[x(194)](t[x(225)](t.aqotM(t.hYzwb,s[x(243)]),t[x(307)])),s[x(194)](t.aqotM(t.CnYYM,s[x(243)]))}),(x,_)=>{const m=e;return ee(),t[m(275)](ne,t[m(217)],Ym,[_[38]||(_[38]=t[m(257)](v,"br",null,null,-1)),_[39]||(_[39]=t[m(193)](v,"h2",null,t[m(296)],-1)),_[40]||(_[40]=t[m(295)](v,"br",null,null,-1)),_[41]||(_[41]=v("br",null,null,-1)),t.dTqfz(o[m(279)],1)?(t[m(262)](ee),t[m(275)](ne,t.UqyVq,Qm,[_[7]||(_[7]=t.MsGAP(v,"br",null,null,-1)),t[m(257)](v,t.ThlnZ,{class:t[m(251)](yn,{active:t[m(278)](i[m(279)],1)}),onClick:_[0]||(_[0]=w=>i[m(279)]=1)},t[m(206)],2),_[8]||(_[8]=t.iclka(v,"br",null,null,-1)),_[9]||(_[9]=t[m(219)](v,"br",null,null,-1)),t[m(300)](v,t[m(317)],{class:t[m(248)](yn,{active:t[m(310)](i.value,2)}),onClick:_[1]||(_[1]=w=>i[m(279)]=2)},m(244),2),_[10]||(_[10]=t.zrvtB(v,"br",null,null,-1)),_[11]||(_[11]=v("br",null,null,-1)),t.slGXl(v,t.ThlnZ,{class:t[m(276)](yn,{active:i.value===3}),onClick:_[2]||(_[2]=w=>i[m(279)]=3)},t[m(246)],2),_[12]||(_[12]=t.gQuAX(v,"br",null,null,-1)),_[13]||(_[13]=t.kQlPQ(v,"br",null,null,-1)),_[14]||(_[14]=v("br",null,null,-1)),_[15]||(_[15]=t.OBdTl(v,"br",null,null,-1)),t.jCBsv(v,t.ThlnZ,{class:t.yCoNb,disabled:!i[m(279)]||ce(p),onClick:_[3]||(_[3]=w=>N())},t.MyCaF(ge,ce(p)?"Выбор сделан":t[m(270)]),9,Xm),_[16]||(_[16]=t[m(216)](ae)),_[17]||(_[17]=t[m(193)](v,"br",null,null,-1)),t[m(280)](ae,t[m(229)](" ",ge(t.YJQvs(ce,p)?t[m(282)]:"")),1)])):be("",!0),t[m(267)](o[m(279)],2)?(t[m(262)](ee),t[m(275)](ne,t[m(217)],Jm,[t[m(278)](l[m(279)],0)?(t[m(216)](ee),ne(t[m(217)],Zm,[_[18]||(_[18]=t[m(247)](v,"br",null,null,-1)),_[19]||(_[19]=t[m(195)](v,"br",null,null,-1)),_[20]||(_[20]=t[m(213)](v,"h3",null,t.tlFGB,-1)),t[m(300)](v,"p",e1,t[m(214)](ge,t[m(248)](ce,s)[m(237)]),1),_[21]||(_[21]=v("br",null,null,-1)),_[22]||(_[22]=t[m(257)](v,"br",null,null,-1))])):be("",!0),l[m(279)]===1?(t[m(196)](ee),ne(t[m(217)],t1,_[23]||(_[23]=[t[m(300)](v,"br",null,null,-1),t[m(300)](v,"br",null,null,-1),t[m(193)](v,"h1",null,t[m(227)],-1),t[m(233)](v,"br",null,null,-1),t[m(247)](v,"br",null,null,-1)]))):t[m(280)](be,"",!0),t.GIBVA(l[m(279)],2)?(t[m(308)](ee),t[m(304)](ne,t[m(217)],n1,_[24]||(_[24]=[t[m(300)](v,"br",null,null,-1),t[m(254)](v,"br",null,null,-1),t[m(193)](v,"h1",null,"Ничья",-1),t.qqakx(v,"br",null,null,-1),t[m(303)](v,"br",null,null,-1)]))):t[m(284)](be,"",!0),v(t[m(217)],null,[_[25]||(_[25]=t[m(316)](v,"br",null,null,-1)),ae(t.pEBxt(m(291),t[m(249)](ge,a[ce(d)])),1),_[26]||(_[26]=t[m(197)](v,"br",null,null,-1)),t.oBecW(ae,t[m(239)]+t[m(204)](ge,a[ce(c)]),1)]),_[27]||(_[27]=t.slGXl(v,"br",null,null,-1)),_[28]||(_[28]=t[m(233)](v,"br",null,null,-1)),_[29]||(_[29]=t[m(277)](v,"br",null,null,-1)),_[30]||(_[30]=v("br",null,null,-1)),v(t[m(317)],{onClick:_[4]||(_[4]=w=>B())},t[m(312)])])):t[m(284)](be,"",!0),_[42]||(_[42]=v("br",null,null,-1)),_[43]||(_[43]=v("br",null,null,-1)),v(t[m(217)],s1,[v(t[m(217)],null,[_[31]||(_[31]=t[m(314)](v,t[m(271)],null,t[m(263)],-1)),_[32]||(_[32]=t[m(233)](v,"br",null,null,-1)),t[m(302)](v,"b",null,t[m(276)](ge,t[m(248)](ce,s)[m(237)]),1),_[33]||(_[33]=t[m(235)](v,"br",null,null,-1)),v(t[m(217)],i1,t.eBneE(ge,ce(s)[m(200)]),1)]),t.umsur(v,m(199),null,[_[34]||(_[34]=v(t[m(271)],null,"Вы",-1)),_[35]||(_[35]=ae()),_[36]||(_[36]=v("br",null,null,-1)),v("b",null,t[m(250)](ge,t[m(220)](ce,s).myName),1),_[37]||(_[37]=t.HjeQj(v,"br",null,null,-1)),t[m(210)](v,t[m(217)],r1,t[m(198)](ge,ce(s)[m(212)]),1)])]),_[44]||(_[44]=t[m(241)](v,"br",null,null,-1)),_[45]||(_[45]=t[m(316)](v,"br",null,null,-1)),v("a",{onClick:_[5]||(_[5]=w=>b[m(279)]=!b[m(279)])},m(258)),b[m(279)]?(t[m(196)](ee),t[m(228)](ne,t.ThlnZ,{key:2,onClick:_[6]||(_[6]=w=>ce(Km)())}," Подтвердите, если действительно хотите уйти из игры ")):t.CJUVv(be,"",!0)])}}}),l1=Ds(o1,[["__scopeId","data-v-5641f883"]]);function ki(n,e){const t=Di();return ki=function(s,i){return s=s-329,t[s]},ki(n,e)}const fo=ki;function Di(){const n=["mXdzK","npTIQ"," Under construction ","PwThA","LTnzC","1128VdLsNh","GEXPj","Крестики нолики","63637cHrJww","21876lrZibI","afwPC","/games/","znLYO","onValue","9EkcNYl","крестики нолики ANALIZ=","7369902NMAKxo","1361336ehZVIx","OFYMb","EJQsP","XBIQg","lookField","xmFzQ","/game","rama","value","div","20qDvDlJ","2_KrestikiNoliki","log","2999120JdJqOo","QzBIj","900950WYOpVs","415tSIGpL","28082219HpGkmw"];return Di=function(){return n},Di()}(function(n,e){const t=ki,s=n();for(;;)try{if(-parseInt(t(339))/1+-parseInt(t(354))/2*(parseInt(t(336))/3)+parseInt(t(352))/4+parseInt(t(355))/5*(-parseInt(t(331))/6)+parseInt(t(330))/7*(-parseInt(t(362))/8)+-parseInt(t(338))/9+-parseInt(t(349))/10*(-parseInt(t(356))/11)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Di,739550);const a1={class:fo(346)},c1={style:{"font-size":"20px"}},u1=An({__name:fo(350),setup(n){const e=fo,t={EJQsP:e(337),OFYMb:function(o){return o()},xmFzQ:function(o,l,a,c,d){return o(l,a,c,d)},XBIQg:e(329),afwPC:function(o,l,a,c,d){return o(l,a,c,d)},GEXPj:function(o,l){return o(l)},znLYO:e(359),LTnzC:function(o,l,a,c,d){return o(l,a,c,d)},DHPDn:" << ",npTIQ:">> ",mXdzK:function(o){return o()},QzBIj:function(o,l,a){return o(l,a)},PwThA:function(o,l){return o(l)}},s=t[e(357)](cn),i=t.mXdzK(Ie);t[e(353)](_t,()=>s[e(343)],o=>r(o));function r(o){const l=e;console[l(351)](t[l(341)],o),i[l(347)]=o}return t[e(360)](ws,()=>s[e(335)](e(333)+s.gameLink+e(345))),(o,l)=>{const a=e;return t[a(340)](ee),ne(a(348),a1,[l[0]||(l[0]=t.xmFzQ(v,"br",null,null,-1)),l[1]||(l[1]=v("h2",null,t[a(342)],-1)),l[2]||(l[2]=t[a(332)](v,"br",null,null,-1)),l[3]||(l[3]=t[a(344)](v,"br",null,null,-1)),l[4]||(l[4]=t[a(363)](ae,t[a(334)])),l[5]||(l[5]=t[a(361)](v,"br",null,null,-1)),l[6]||(l[6]=ae(t.DHPDn)),v("b",c1,ge(i[a(347)]),1),l[7]||(l[7]=t[a(363)](ae,t[a(358)]))])}}}),f1=Ds(u1,[["__scopeId","data-v-88731bf9"]]),cl=Mi;(function(n,e){const t=Mi,s=n();for(;;)try{if(-parseInt(t(180))/1+parseInt(t(184))/2+-parseInt(t(190))/3*(-parseInt(t(181))/4)+parseInt(t(182))/5+-parseInt(t(178))/6+-parseInt(t(197))/7*(parseInt(t(193))/8)+parseInt(t(201))/9===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Li,789367);const h1={class:cl(179)},d1={style:{"font-size":cl(185)}};function Mi(n,e){const t=Li();return Mi=function(s,i){return s=s-172,t[s]},Mi(n,e)}function Li(){const n=["20px"," >> ","gameLink","rJWmg","ixjie","6nHFtdh","pLJuB","yvJon","408JyquoX","log"," Under construction ","ZDneD","126686JiMuKT","onValue","div"," << ","10006740tUPDSq","value","ZSXdq","gKjSq","riavK","BzLfV","/game","LMHCO","6059538rcwYoA","rama","1355560UNoWkt","77796ghNIxn","7795440KcFSuk","lookField","2736004IYBMRc"];return Li=function(){return n},Li()}const p1=An({__name:"3_SeaWar",setup(n){const e=cl,t={ZDneD:function(o){return o()},ixjie:function(o,l,a,c){return o(l,a,c)},yvJon:function(o,l,a,c,d){return o(l,a,c,d)},LMHCO:"Морской бой",rJWmg:function(o,l,a,c,d){return o(l,a,c,d)},ZSXdq:e(195),gKjSq:e(200),riavK:function(o,l){return o(l)},BzLfV:e(186),pLJuB:function(o){return o()},TLoyE:function(o,l,a){return o(l,a)},Cltng:function(o,l){return o(l)}},s=t.ZDneD(cn),i=t[e(191)](Ie);t.TLoyE(_t,()=>s[e(183)],o=>r(o));function r(o){const l=e;console[l(194)]("Морской бой ANALIZ=",o),i[l(202)]=o}return t.Cltng(ws,()=>s[e(198)]("/games/"+s[e(187)]+e(176))),(o,l)=>{const a=e;return t[a(196)](ee),t[a(189)](ne,a(199),h1,[l[0]||(l[0]=t.yvJon(v,"br",null,null,-1)),l[1]||(l[1]=v("h2",null,t[a(177)],-1)),l[2]||(l[2]=t[a(192)](v,"br",null,null,-1)),l[3]||(l[3]=t[a(188)](v,"br",null,null,-1)),l[4]||(l[4]=ae(t[a(172)])),l[5]||(l[5]=v("br",null,null,-1)),l[6]||(l[6]=ae(t[a(173)])),t.yvJon(v,"b",d1,t[a(174)](ge,i[a(202)]),1),l[7]||(l[7]=t.riavK(ae,t[a(175)]))])}}}),_1=Ds(p1,[["__scopeId","data-v-5ed39d34"]]),x1={__name:"App",setup(n){const e=cn();let t=gh($m);_t(()=>e.playNumber,i=>s(i));function s(i){switch(i){case 1:t.value=l1;break;case 2:t.value=f1;break;case 3:t.value=_1;break}}return ws(()=>{var r,o,l;let i=(r=window.Telegram)==null?void 0:r.WebApp;i&&(e.myId=((o=i.initDataUnsafe.user)==null?void 0:o.id)||0,e.myName=((l=i.initDataUnsafe.user)==null?void 0:l.username)||"",e.myId||setTimeout(()=>{e.myId=e.myId||parseInt(String(Math.random()*1e3)),e.myName=e.nickName||e.myName||"Имя_"+parseInt(String(Math.random()*100)),location.host.includes("localhost")&&(e.myId=261538035)},500))}),(i,r)=>(ee(),Gc(qh(ce(t))))}},Wa=Fi;(function(n,e){const t=Fi,s=n();for(;;)try{if(-parseInt(t(197))/1+-parseInt(t(200))/2+parseInt(t(193))/3*(parseInt(t(199))/4)+-parseInt(t(194))/5*(parseInt(t(192))/6)+parseInt(t(198))/7+-parseInt(t(191))/8+parseInt(t(195))/9*(parseInt(t(202))/10)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Bi,534589);function Fi(n,e){const t=Bi();return Fi=function(s,i){return s=s-191,t[s]},Fi(n,e)}function Bi(){const n=["mount","905350KPOLdD","6888672RHJfrZ","5854290MSzpWn","2435013FikYLy","5gOuBdX","198LSCssO","#app","744609suygiR","3315018lghFRr","4OzDeQG","322036pzvNll"];return Bi=function(){return n},Bi()}const g1=up(),Ua=lp(x1);Ua.use(g1),Ua[Wa(201)](Wa(196));
