function $s(){const n=["36XJxOyn","supports","tagName","3252736VeYocY","uWcWz","rel","205210IUdWGD","addedNodes","Aybkg","anonymous","credentials","ypcfS","observe","2104050AewwkI","integrity","141764VUwAmy","3415436kUndYR","RmZnk",'link[rel="modulepreload"]',"3321790DMLefy","ZaHUK","include","XunjE","EzKJH","modulepreload","querySelectorAll","CXJID","1FzWenM","vtIgh","768523SmSFFV","relList","createElement","Drrvi","same-origin","makgy","referrerPolicy","crossOrigin","9aLnjCe","LINK","vkDUi","JRtxT","omit"];return $s=function(){return n},$s()}function Ks(n,e){const t=$s();return Ks=function(s,i){return s=s-142,t[s]},Ks(n,e)}(function(n,e){const t=Ks,s=n();for(;;)try{if(parseInt(t(176))/1*(-parseInt(t(164))/2)+-parseInt(t(162))/3+parseInt(t(165))/4+-parseInt(t(155))/5*(parseInt(t(149))/6)+-parseInt(t(178))/7+parseInt(t(152))/8+parseInt(t(144))/9*(parseInt(t(168))/10)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})($s,464357),function(){const e=Ks,t={RmZnk:function(o,l){return o!==l},JRtxT:"childList",makgy:function(o,l){return o===l},ypcfS:function(o,l){return o===l},uWcWz:e(173),Drrvi:function(o,l){return o(l)},CXJID:function(o,l){return o===l},EzKJH:"use-credentials",vkDUi:e(170),XunjE:e(158),Aybkg:e(148),ZaHUK:e(182),KzoUR:function(o,l,c){return o(l,c)},vtIgh:"link",KuGNp:function(o,l){return o(l)}},s=document[e(180)](t[e(177)])[e(179)];if(s&&s[e(150)]&&s[e(150)](t.uWcWz))return;for(const o of document[e(174)](e(167)))t.KuGNp(r,o);new MutationObserver(o=>{const l=e;for(const c of o)if(!t[l(166)](c.type,t[l(147)]))for(const a of c[l(156)])t[l(183)](a[l(151)],l(145))&&t[l(160)](a[l(154)],t[l(153)])&&t.Drrvi(r,a)})[e(161)](document,{childList:!0,subtree:!0});function i(o){const l=e,c={};return o[l(163)]&&(c[l(163)]=o[l(163)]),o.referrerPolicy&&(c[l(142)]=o.referrerPolicy),t[l(175)](o[l(143)],t[l(172)])?c[l(159)]=t[l(146)]:t.CXJID(o[l(143)],t[l(171)])?c[l(159)]=t[l(157)]:c[l(159)]=t[l(169)],c}function r(o){const l=e;if(o.ep)return;o.ep=!0;const c=t[l(181)](i,o);t.KzoUR(fetch,o.href,c)}}();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ho(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const ce={},_n=[],ht=()=>{},Bf=()=>!1,Li=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),po=n=>n.startsWith("onUpdate:"),De=Object.assign,_o=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},Wf=Object.prototype.hasOwnProperty,se=(n,e)=>Wf.call(n,e),j=Array.isArray,xn=n=>Bi(n)==="[object Map]",Uc=n=>Bi(n)==="[object Set]",G=n=>typeof n=="function",ve=n=>typeof n=="string",Vt=n=>typeof n=="symbol",ge=n=>n!==null&&typeof n=="object",Hc=n=>(ge(n)||G(n))&&G(n.then)&&G(n.catch),Vc=Object.prototype.toString,Bi=n=>Vc.call(n),Uf=n=>Bi(n).slice(8,-1),jc=n=>Bi(n)==="[object Object]",xo=n=>ve(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Yn=ho(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wi=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Hf=/-(\w)/g,Je=Wi(n=>n.replace(Hf,(e,t)=>t?t.toUpperCase():"")),Vf=/\B([A-Z])/g,ln=Wi(n=>n.replace(Vf,"-$1").toLowerCase()),Ui=Wi(n=>n.charAt(0).toUpperCase()+n.slice(1)),ar=Wi(n=>n?`on${Ui(n)}`:""),Ot=(n,e)=>!Object.is(n,e),Vs=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},Gc=(n,e,t,s=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:s,value:t})},Or=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let dl;const Hi=()=>dl||(dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function go(n){if(j(n)){const e={};for(let t=0;t<n.length;t++){const s=n[t],i=ve(s)?$f(s):go(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(ve(n)||ge(n))return n}const jf=/;(?![^(]*\))/g,Gf=/:([^]+)/,zf=/\/\*[^]*?\*\//g;function $f(n){const e={};return n.replace(zf,"").split(jf).forEach(t=>{if(t){const s=t.split(Gf);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function gn(n){let e="";if(ve(n))e=n;else if(j(n))for(let t=0;t<n.length;t++){const s=gn(n[t]);s&&(e+=s+" ")}else if(ge(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Kf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yf=ho(Kf);function zc(n){return!!n||n===""}const $c=n=>!!(n&&n.__v_isRef===!0),xe=n=>ve(n)?n:n==null?"":j(n)||ge(n)&&(n.toString===Vc||!G(n.toString))?$c(n)?xe(n.value):JSON.stringify(n,Kc,2):String(n),Kc=(n,e)=>$c(e)?Kc(n,e.value):xn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[s,i],r)=>(t[ur(s,r)+" =>"]=i,t),{})}:Uc(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>ur(t))}:Vt(e)?ur(e):ge(e)&&!j(e)&&!jc(e)?String(e):e,ur=(n,e="")=>{var t;return Vt(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fe;class Yc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fe,!e&&Fe&&(this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Fe;try{return Fe=this,e()}finally{Fe=t}}}on(){Fe=this}off(){Fe=this.parent}stop(e){if(this._active){this._active=!1;let t,s;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].stop();for(this.effects.length=0,t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function qc(n){return new Yc(n)}function Qc(){return Fe}function qf(n,e=!1){Fe&&Fe.cleanups.push(n)}let he;const fr=new WeakSet;class Xc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fe&&Fe.active&&Fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,fr.has(this)&&(fr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,pl(this),ea(this);const e=he,t=st;he=this,st=!0;try{return this.fn()}finally{ta(this),he=e,st=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)vo(e);this.deps=this.depsTail=void 0,pl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?fr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Dr(this)&&this.run()}get dirty(){return Dr(this)}}let Jc=0,qn,Qn;function Zc(n,e=!1){if(n.flags|=8,e){n.next=Qn,Qn=n;return}n.next=qn,qn=n}function mo(){Jc++}function yo(){if(--Jc>0)return;if(Qn){let e=Qn;for(Qn=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;qn;){let e=qn;for(qn=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){n||(n=s)}e=t}}if(n)throw n}function ea(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ta(n){let e,t=n.depsTail,s=t;for(;s;){const i=s.prevDep;s.version===-1?(s===t&&(t=i),vo(s),Qf(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}n.deps=e,n.depsTail=t}function Dr(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(na(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function na(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===ls))return;n.globalVersion=ls;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!Dr(n)){n.flags&=-3;return}const t=he,s=st;he=n,st=!0;try{ea(n);const i=n.fn(n._value);(e.version===0||Ot(i,n._value))&&(n._value=i,e.version++)}catch(i){throw e.version++,i}finally{he=t,st=s,ta(n),n.flags&=-3}}function vo(n,e=!1){const{dep:t,prevSub:s,nextSub:i}=n;if(s&&(s.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=s,n.nextSub=void 0),t.subs===n&&(t.subs=s,!s&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)vo(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Qf(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let st=!0;const sa=[];function jt(){sa.push(st),st=!1}function Gt(){const n=sa.pop();st=n===void 0?!0:n}function pl(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=he;he=void 0;try{e()}finally{he=t}}}let ls=0;class Xf{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class bo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!he||!st||he===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==he)t=this.activeLink=new Xf(he,this),he.deps?(t.prevDep=he.depsTail,he.depsTail.nextDep=t,he.depsTail=t):he.deps=he.depsTail=t,ia(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const s=t.nextDep;s.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=s),t.prevDep=he.depsTail,t.nextDep=void 0,he.depsTail.nextDep=t,he.depsTail=t,he.deps===t&&(he.deps=s)}return t}trigger(e){this.version++,ls++,this.notify(e)}notify(e){mo();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{yo()}}}function ia(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)ia(s)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const Ys=new WeakMap,Zt=Symbol(""),Mr=Symbol(""),cs=Symbol("");function Pe(n,e,t){if(st&&he){let s=Ys.get(n);s||Ys.set(n,s=new Map);let i=s.get(t);i||(s.set(t,i=new bo),i.map=s,i.key=t),i.track()}}function vt(n,e,t,s,i,r){const o=Ys.get(n);if(!o){ls++;return}const l=c=>{c&&c.trigger()};if(mo(),e==="clear")o.forEach(l);else{const c=j(n),a=c&&xo(t);if(c&&t==="length"){const h=Number(s);o.forEach((p,y)=>{(y==="length"||y===cs||!Vt(y)&&y>=h)&&l(p)})}else switch((t!==void 0||o.has(void 0))&&l(o.get(t)),a&&l(o.get(cs)),e){case"add":c?a&&l(o.get("length")):(l(o.get(Zt)),xn(n)&&l(o.get(Mr)));break;case"delete":c||(l(o.get(Zt)),xn(n)&&l(o.get(Mr)));break;case"set":xn(n)&&l(o.get(Zt));break}}yo()}function Jf(n,e){const t=Ys.get(n);return t&&t.get(e)}function an(n){const e=ee(n);return e===n?e:(Pe(e,"iterate",cs),qe(n)?e:e.map(ke))}function Vi(n){return Pe(n=ee(n),"iterate",cs),n}const Zf={__proto__:null,[Symbol.iterator](){return hr(this,Symbol.iterator,ke)},concat(...n){return an(this).concat(...n.map(e=>j(e)?an(e):e))},entries(){return hr(this,"entries",n=>(n[1]=ke(n[1]),n))},every(n,e){return gt(this,"every",n,e,void 0,arguments)},filter(n,e){return gt(this,"filter",n,e,t=>t.map(ke),arguments)},find(n,e){return gt(this,"find",n,e,ke,arguments)},findIndex(n,e){return gt(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return gt(this,"findLast",n,e,ke,arguments)},findLastIndex(n,e){return gt(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return gt(this,"forEach",n,e,void 0,arguments)},includes(...n){return dr(this,"includes",n)},indexOf(...n){return dr(this,"indexOf",n)},join(n){return an(this).join(n)},lastIndexOf(...n){return dr(this,"lastIndexOf",n)},map(n,e){return gt(this,"map",n,e,void 0,arguments)},pop(){return Wn(this,"pop")},push(...n){return Wn(this,"push",n)},reduce(n,...e){return _l(this,"reduce",n,e)},reduceRight(n,...e){return _l(this,"reduceRight",n,e)},shift(){return Wn(this,"shift")},some(n,e){return gt(this,"some",n,e,void 0,arguments)},splice(...n){return Wn(this,"splice",n)},toReversed(){return an(this).toReversed()},toSorted(n){return an(this).toSorted(n)},toSpliced(...n){return an(this).toSpliced(...n)},unshift(...n){return Wn(this,"unshift",n)},values(){return hr(this,"values",ke)}};function hr(n,e,t){const s=Vi(n),i=s[e]();return s!==n&&!qe(n)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=t(r.value)),r}),i}const eh=Array.prototype;function gt(n,e,t,s,i,r){const o=Vi(n),l=o!==n&&!qe(n),c=o[e];if(c!==eh[e]){const p=c.apply(n,r);return l?ke(p):p}let a=t;o!==n&&(l?a=function(p,y){return t.call(this,ke(p),y,n)}:t.length>2&&(a=function(p,y){return t.call(this,p,y,n)}));const h=c.call(o,a,s);return l&&i?i(h):h}function _l(n,e,t,s){const i=Vi(n);let r=t;return i!==n&&(qe(n)?t.length>3&&(r=function(o,l,c){return t.call(this,o,l,c,n)}):r=function(o,l,c){return t.call(this,o,ke(l),c,n)}),i[e](r,...s)}function dr(n,e,t){const s=ee(n);Pe(s,"iterate",cs);const i=s[e](...t);return(i===-1||i===!1)&&Eo(t[0])?(t[0]=ee(t[0]),s[e](...t)):i}function Wn(n,e,t=[]){jt(),mo();const s=ee(n)[e].apply(n,t);return yo(),Gt(),s}const th=ho("__proto__,__v_isRef,__isVue"),ra=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Vt));function nh(n){Vt(n)||(n=String(n));const e=ee(this);return Pe(e,"has",n),e.hasOwnProperty(n)}class oa{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,s){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return s===(i?r?hh:ua:r?aa:ca).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=j(e);if(!i){let c;if(o&&(c=Zf[t]))return c;if(t==="hasOwnProperty")return nh}const l=Reflect.get(e,t,ye(e)?e:s);return(Vt(t)?ra.has(t):th(t))||(i||Pe(e,"get",t),r)?l:ye(l)?o&&xo(t)?l:l.value:ge(l)?i?fa(l):ji(l):l}}class la extends oa{constructor(e=!1){super(!1,e)}set(e,t,s,i){let r=e[t];if(!this._isShallow){const c=tn(r);if(!qe(s)&&!tn(s)&&(r=ee(r),s=ee(s)),!j(e)&&ye(r)&&!ye(s))return c?!1:(r.value=s,!0)}const o=j(e)&&xo(t)?Number(t)<e.length:se(e,t),l=Reflect.set(e,t,s,ye(e)?e:i);return e===ee(i)&&(o?Ot(s,r)&&vt(e,"set",t,s):vt(e,"add",t,s)),l}deleteProperty(e,t){const s=se(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&s&&vt(e,"delete",t,void 0),i}has(e,t){const s=Reflect.has(e,t);return(!Vt(t)||!ra.has(t))&&Pe(e,"has",t),s}ownKeys(e){return Pe(e,"iterate",j(e)?"length":Zt),Reflect.ownKeys(e)}}class sh extends oa{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const ih=new la,rh=new sh,oh=new la(!0);const Fr=n=>n,Ms=n=>Reflect.getPrototypeOf(n);function lh(n,e,t){return function(...s){const i=this.__v_raw,r=ee(i),o=xn(r),l=n==="entries"||n===Symbol.iterator&&o,c=n==="keys"&&o,a=i[n](...s),h=t?Fr:e?Lr:ke;return!e&&Pe(r,"iterate",c?Mr:Zt),{next(){const{value:p,done:y}=a.next();return y?{value:p,done:y}:{value:l?[h(p[0]),h(p[1])]:h(p),done:y}},[Symbol.iterator](){return this}}}}function Fs(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function ch(n,e){const t={get(i){const r=this.__v_raw,o=ee(r),l=ee(i);n||(Ot(i,l)&&Pe(o,"get",i),Pe(o,"get",l));const{has:c}=Ms(o),a=e?Fr:n?Lr:ke;if(c.call(o,i))return a(r.get(i));if(c.call(o,l))return a(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!n&&Pe(ee(i),"iterate",Zt),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=ee(r),l=ee(i);return n||(Ot(i,l)&&Pe(o,"has",i),Pe(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,c=ee(l),a=e?Fr:n?Lr:ke;return!n&&Pe(c,"iterate",Zt),l.forEach((h,p)=>i.call(r,a(h),a(p),o))}};return De(t,n?{add:Fs("add"),set:Fs("set"),delete:Fs("delete"),clear:Fs("clear")}:{add(i){!e&&!qe(i)&&!tn(i)&&(i=ee(i));const r=ee(this);return Ms(r).has.call(r,i)||(r.add(i),vt(r,"add",i,i)),this},set(i,r){!e&&!qe(r)&&!tn(r)&&(r=ee(r));const o=ee(this),{has:l,get:c}=Ms(o);let a=l.call(o,i);a||(i=ee(i),a=l.call(o,i));const h=c.call(o,i);return o.set(i,r),a?Ot(r,h)&&vt(o,"set",i,r):vt(o,"add",i,r),this},delete(i){const r=ee(this),{has:o,get:l}=Ms(r);let c=o.call(r,i);c||(i=ee(i),c=o.call(r,i)),l&&l.call(r,i);const a=r.delete(i);return c&&vt(r,"delete",i,void 0),a},clear(){const i=ee(this),r=i.size!==0,o=i.clear();return r&&vt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=lh(i,n,e)}),t}function Co(n,e){const t=ch(n,e);return(s,i,r)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?s:Reflect.get(se(t,i)&&i in s?t:s,i,r)}const ah={get:Co(!1,!1)},uh={get:Co(!1,!0)},fh={get:Co(!0,!1)};const ca=new WeakMap,aa=new WeakMap,ua=new WeakMap,hh=new WeakMap;function dh(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ph(n){return n.__v_skip||!Object.isExtensible(n)?0:dh(Uf(n))}function ji(n){return tn(n)?n:Io(n,!1,ih,ah,ca)}function _h(n){return Io(n,!1,oh,uh,aa)}function fa(n){return Io(n,!0,rh,fh,ua)}function Io(n,e,t,s,i){if(!ge(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=i.get(n);if(r)return r;const o=ph(n);if(o===0)return n;const l=new Proxy(n,o===2?s:t);return i.set(n,l),l}function Dt(n){return tn(n)?Dt(n.__v_raw):!!(n&&n.__v_isReactive)}function tn(n){return!!(n&&n.__v_isReadonly)}function qe(n){return!!(n&&n.__v_isShallow)}function Eo(n){return n?!!n.__v_raw:!1}function ee(n){const e=n&&n.__v_raw;return e?ee(e):n}function wo(n){return!se(n,"__v_skip")&&Object.isExtensible(n)&&Gc(n,"__v_skip",!0),n}const ke=n=>ge(n)?ji(n):n,Lr=n=>ge(n)?fa(n):n;function ye(n){return n?n.__v_isRef===!0:!1}function Re(n){return ha(n,!1)}function xh(n){return ha(n,!0)}function ha(n,e){return ye(n)?n:new gh(n,e)}class gh{constructor(e,t){this.dep=new bo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:ee(e),this._value=t?e:ke(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,s=this.__v_isShallow||qe(e)||tn(e);e=s?e:ee(e),Ot(e,t)&&(this._rawValue=e,this._value=s?e:ke(e),this.dep.trigger())}}function le(n){return ye(n)?n.value:n}const mh={get:(n,e,t)=>e==="__v_raw"?n:le(Reflect.get(n,e,t)),set:(n,e,t,s)=>{const i=n[e];return ye(i)&&!ye(t)?(i.value=t,!0):Reflect.set(n,e,t,s)}};function da(n){return Dt(n)?n:new Proxy(n,mh)}function yh(n){const e=j(n)?new Array(n.length):{};for(const t in n)e[t]=bh(n,t);return e}class vh{constructor(e,t,s){this._object=e,this._key=t,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Jf(ee(this._object),this._key)}}function bh(n,e,t){const s=n[e];return ye(s)?s:new vh(n,e,t)}class Ch{constructor(e,t,s){this.fn=e,this.setter=t,this._value=void 0,this.dep=new bo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ls-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&he!==this)return Zc(this,!0),!0}get value(){const e=this.dep.track();return na(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ih(n,e,t=!1){let s,i;return G(n)?s=n:(s=n.get,i=n.set),new Ch(s,i,t)}const Ls={},qs=new WeakMap;let Yt;function Eh(n,e=!1,t=Yt){if(t){let s=qs.get(t);s||qs.set(t,s=[]),s.push(n)}}function wh(n,e,t=ce){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:c}=t,a=R=>i?R:qe(R)||i===!1||i===0?bt(R,1):bt(R);let h,p,y,C,S=!1,L=!1;if(ye(n)?(p=()=>n.value,S=qe(n)):Dt(n)?(p=()=>a(n),S=!0):j(n)?(L=!0,S=n.some(R=>Dt(R)||qe(R)),p=()=>n.map(R=>{if(ye(R))return R.value;if(Dt(R))return a(R);if(G(R))return c?c(R,2):R()})):G(n)?e?p=c?()=>c(n,2):n:p=()=>{if(y){jt();try{y()}finally{Gt()}}const R=Yt;Yt=h;try{return c?c(n,3,[C]):n(C)}finally{Yt=R}}:p=ht,e&&i){const R=p,q=i===!0?1/0:i;p=()=>bt(R(),q)}const x=Qc(),_=()=>{h.stop(),x&&x.active&&_o(x.effects,h)};if(r&&e){const R=e;e=(...q)=>{R(...q),_()}}let m=L?new Array(n.length).fill(Ls):Ls;const N=R=>{if(!(!(h.flags&1)||!h.dirty&&!R))if(e){const q=h.run();if(i||S||(L?q.some((Ze,Ie)=>Ot(Ze,m[Ie])):Ot(q,m))){y&&y();const Ze=Yt;Yt=h;try{const Ie=[q,m===Ls?void 0:L&&m[0]===Ls?[]:m,C];c?c(e,3,Ie):e(...Ie),m=q}finally{Yt=Ze}}}else h.run()};return l&&l(N),h=new Xc(p),h.scheduler=o?()=>o(N,!1):N,C=R=>Eh(R,!1,h),y=h.onStop=()=>{const R=qs.get(h);if(R){if(c)c(R,4);else for(const q of R)q();qs.delete(h)}},e?s?N(!0):m=h.run():o?o(N.bind(null,!0),!0):h.run(),_.pause=h.pause.bind(h),_.resume=h.resume.bind(h),_.stop=_,_}function bt(n,e=1/0,t){if(e<=0||!ge(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,ye(n))bt(n.value,e,t);else if(j(n))for(let s=0;s<n.length;s++)bt(n[s],e,t);else if(Uc(n)||xn(n))n.forEach(s=>{bt(s,e,t)});else if(jc(n)){for(const s in n)bt(n[s],e,t);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&bt(n[s],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Is(n,e,t,s){try{return s?n(...s):n()}catch(i){Gi(i,e,t)}}function pt(n,e,t,s){if(G(n)){const i=Is(n,e,t,s);return i&&Hc(i)&&i.catch(r=>{Gi(r,e,t)}),i}if(j(n)){const i=[];for(let r=0;r<n.length;r++)i.push(pt(n[r],e,t,s));return i}}function Gi(n,e,t,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ce;if(e){let l=e.parent;const c=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const h=l.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](n,c,a)===!1)return}l=l.parent}if(r){jt(),Is(r,null,10,[n,c,a]),Gt();return}}Sh(n,t,i,s,o)}function Sh(n,e,t,s=!0,i=!1){if(i)throw n;console.error(n)}const Le=[];let ut=-1;const mn=[];let Pt=null,hn=0;const pa=Promise.resolve();let Qs=null;function _a(n){const e=Qs||pa;return n?e.then(this?n.bind(this):n):e}function Th(n){let e=ut+1,t=Le.length;for(;e<t;){const s=e+t>>>1,i=Le[s],r=as(i);r<n||r===n&&i.flags&2?e=s+1:t=s}return e}function So(n){if(!(n.flags&1)){const e=as(n),t=Le[Le.length-1];!t||!(n.flags&2)&&e>=as(t)?Le.push(n):Le.splice(Th(e),0,n),n.flags|=1,xa()}}function xa(){Qs||(Qs=pa.then(ma))}function Nh(n){j(n)?mn.push(...n):Pt&&n.id===-1?Pt.splice(hn+1,0,n):n.flags&1||(mn.push(n),n.flags|=1),xa()}function xl(n,e,t=ut+1){for(;t<Le.length;t++){const s=Le[t];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;Le.splice(t,1),t--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ga(n){if(mn.length){const e=[...new Set(mn)].sort((t,s)=>as(t)-as(s));if(mn.length=0,Pt){Pt.push(...e);return}for(Pt=e,hn=0;hn<Pt.length;hn++){const t=Pt[hn];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Pt=null,hn=0}}const as=n=>n.id==null?n.flags&2?-1:1/0:n.id;function ma(n){try{for(ut=0;ut<Le.length;ut++){const e=Le[ut];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Is(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ut<Le.length;ut++){const e=Le[ut];e&&(e.flags&=-2)}ut=-1,Le.length=0,ga(),Qs=null,(Le.length||mn.length)&&ma()}}let Ue=null,ya=null;function Xs(n){const e=Ue;return Ue=n,ya=n&&n.type.__scopeId||null,e}function Rh(n,e=Ue,t){if(!e||n._n)return n;const s=(...i)=>{s._d&&Tl(-1);const r=Xs(e);let o;try{o=n(...i)}finally{Xs(r),s._d&&Tl(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ah(n,e){if(Ue===null)return n;const t=Yi(Ue),s=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,c=ce]=e[i];r&&(G(r)&&(r={mounted:r,updated:r}),r.deep&&bt(o),s.push({dir:r,instance:t,value:o,oldValue:void 0,arg:l,modifiers:c}))}return n}function $t(n,e,t,s){const i=n.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let c=l.dir[s];c&&(jt(),pt(c,t,8,[n.el,l,n,e]),Gt())}}const Ph=Symbol("_vte"),kh=n=>n.__isTeleport;function To(n,e){n.shapeFlag&6&&n.component?(n.transition=e,To(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Nn(n,e){return G(n)?De({name:n.name},e,{setup:n}):n}function va(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Js(n,e,t,s,i=!1){if(j(n)){n.forEach((S,L)=>Js(S,e&&(j(e)?e[L]:e),t,s,i));return}if(Xn(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Js(n,e,t,s.component.subTree);return}const r=s.shapeFlag&4?Yi(s.component):s.el,o=i?null:r,{i:l,r:c}=n,a=e&&e.r,h=l.refs===ce?l.refs={}:l.refs,p=l.setupState,y=ee(p),C=p===ce?()=>!1:S=>se(y,S);if(a!=null&&a!==c&&(ve(a)?(h[a]=null,C(a)&&(p[a]=null)):ye(a)&&(a.value=null)),G(c))Is(c,l,12,[o,h]);else{const S=ve(c),L=ye(c);if(S||L){const x=()=>{if(n.f){const _=S?C(c)?p[c]:h[c]:c.value;i?j(_)&&_o(_,r):j(_)?_.includes(r)||_.push(r):S?(h[c]=[r],C(c)&&(p[c]=h[c])):(c.value=[r],n.k&&(h[n.k]=c.value))}else S?(h[c]=o,C(c)&&(p[c]=o)):L&&(c.value=o,n.k&&(h[n.k]=o))};o?(x.id=-1,$e(x,t)):x()}}}Hi().requestIdleCallback;Hi().cancelIdleCallback;const Xn=n=>!!n.type.__asyncLoader,ba=n=>n.type.__isKeepAlive;function Oh(n,e){Ca(n,"a",e)}function Dh(n,e){Ca(n,"da",e)}function Ca(n,e,t=Ae){const s=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(zi(e,s,t),t){let i=t.parent;for(;i&&i.parent;)ba(i.parent.vnode)&&Mh(s,e,t,i),i=i.parent}}function Mh(n,e,t,s){const i=zi(e,n,s,!0);Ia(()=>{_o(s[e],i)},t)}function zi(n,e,t=Ae,s=!1){if(t){const i=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{jt();const l=ws(t),c=pt(e,t,n,o);return l(),Gt(),c});return s?i.unshift(r):i.push(r),r}}const Tt=n=>(e,t=Ae)=>{(!fs||n==="sp")&&zi(n,(...s)=>e(...s),t)},Fh=Tt("bm"),Es=Tt("m"),Lh=Tt("bu"),Bh=Tt("u"),Wh=Tt("bum"),Ia=Tt("um"),Uh=Tt("sp"),Hh=Tt("rtg"),Vh=Tt("rtc");function jh(n,e=Ae){zi("ec",n,e)}const Gh="components",Ea=Symbol.for("v-ndc");function zh(n){return ve(n)?$h(Gh,n,!1)||n:n||Ea}function $h(n,e,t=!0,s=!1){const i=Ue||Ae;if(i){const r=i.type;{const l=Dd(r,!1);if(l&&(l===e||l===Je(e)||l===Ui(Je(e))))return r}const o=gl(i[n]||r[n],e)||gl(i.appContext[n],e);return!o&&s?r:o}}function gl(n,e){return n&&(n[e]||n[Je(e)]||n[Ui(Je(e))])}function ml(n,e,t,s){let i;const r=t&&t[s],o=j(n);if(o||ve(n)){const l=o&&Dt(n);let c=!1;l&&(c=!qe(n),n=Vi(n)),i=new Array(n.length);for(let a=0,h=n.length;a<h;a++)i[a]=e(c?ke(n[a]):n[a],a,void 0,r&&r[a])}else if(typeof n=="number"){i=new Array(n);for(let l=0;l<n;l++)i[l]=e(l+1,l,void 0,r&&r[l])}else if(ge(n))if(n[Symbol.iterator])i=Array.from(n,(l,c)=>e(l,c,void 0,r&&r[c]));else{const l=Object.keys(n);i=new Array(l.length);for(let c=0,a=l.length;c<a;c++){const h=l[c];i[c]=e(n[h],h,c,r&&r[c])}}else i=[];return t&&(t[s]=i),i}const Br=n=>n?Ka(n)?Yi(n):Br(n.parent):null,Jn=De(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Br(n.parent),$root:n=>Br(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Sa(n),$forceUpdate:n=>n.f||(n.f=()=>{So(n.update)}),$nextTick:n=>n.n||(n.n=_a.bind(n.proxy)),$watch:n=>_d.bind(n)}),pr=(n,e)=>n!==ce&&!n.__isScriptSetup&&se(n,e),Kh={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:c}=n;let a;if(e[0]!=="$"){const C=o[e];if(C!==void 0)switch(C){case 1:return s[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(pr(s,e))return o[e]=1,s[e];if(i!==ce&&se(i,e))return o[e]=2,i[e];if((a=n.propsOptions[0])&&se(a,e))return o[e]=3,r[e];if(t!==ce&&se(t,e))return o[e]=4,t[e];Wr&&(o[e]=0)}}const h=Jn[e];let p,y;if(h)return e==="$attrs"&&Pe(n.attrs,"get",""),h(n);if((p=l.__cssModules)&&(p=p[e]))return p;if(t!==ce&&se(t,e))return o[e]=4,t[e];if(y=c.config.globalProperties,se(y,e))return y[e]},set({_:n},e,t){const{data:s,setupState:i,ctx:r}=n;return pr(i,e)?(i[e]=t,!0):s!==ce&&se(s,e)?(s[e]=t,!0):se(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!t[o]||n!==ce&&se(n,o)||pr(e,o)||(l=r[0])&&se(l,o)||se(s,o)||se(Jn,o)||se(i.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:se(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function yl(n){return j(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let Wr=!0;function Yh(n){const e=Sa(n),t=n.proxy,s=n.ctx;Wr=!1,e.beforeCreate&&vl(e.beforeCreate,n,"bc");const{data:i,computed:r,methods:o,watch:l,provide:c,inject:a,created:h,beforeMount:p,mounted:y,beforeUpdate:C,updated:S,activated:L,deactivated:x,beforeDestroy:_,beforeUnmount:m,destroyed:N,unmounted:R,render:q,renderTracked:Ze,renderTriggered:Ie,errorCaptured:f,serverPrefetch:u,expose:d,inheritAttrs:I,components:M,directives:Z,filters:Q}=e;if(a&&qh(a,s,null),o)for(const z in o){const re=o[z];G(re)&&(s[z]=re.bind(t))}if(i){const z=i.call(t,t);ge(z)&&(n.data=ji(z))}if(Wr=!0,r)for(const z in r){const re=r[z],xt=G(re)?re.bind(t,t):G(re.get)?re.get.bind(t,t):ht,Mn=!G(re)&&G(re.set)?re.set.bind(t):ht,zt=qa({get:xt,set:Mn});Object.defineProperty(s,z,{enumerable:!0,configurable:!0,get:()=>zt.value,set:rt=>zt.value=rt})}if(l)for(const z in l)wa(l[z],s,t,z);if(c){const z=G(c)?c.call(t):c;Reflect.ownKeys(z).forEach(re=>{td(re,z[re])})}h&&vl(h,n,"c");function ue(z,re){j(re)?re.forEach(xt=>z(xt.bind(t))):re&&z(re.bind(t))}if(ue(Fh,p),ue(Es,y),ue(Lh,C),ue(Bh,S),ue(Oh,L),ue(Dh,x),ue(jh,f),ue(Vh,Ze),ue(Hh,Ie),ue(Wh,m),ue(Ia,R),ue(Uh,u),j(d))if(d.length){const z=n.exposed||(n.exposed={});d.forEach(re=>{Object.defineProperty(z,re,{get:()=>t[re],set:xt=>t[re]=xt})})}else n.exposed||(n.exposed={});q&&n.render===ht&&(n.render=q),I!=null&&(n.inheritAttrs=I),M&&(n.components=M),Z&&(n.directives=Z),u&&va(n)}function qh(n,e,t=ht){j(n)&&(n=Ur(n));for(const s in n){const i=n[s];let r;ge(i)?"default"in i?r=Zn(i.from||s,i.default,!0):r=Zn(i.from||s):r=Zn(i),ye(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function vl(n,e,t){pt(j(n)?n.map(s=>s.bind(e.proxy)):n.bind(e.proxy),e,t)}function wa(n,e,t,s){let i=s.includes(".")?Ua(t,s):()=>t[s];if(ve(n)){const r=e[n];G(r)&&dt(i,r)}else if(G(n))dt(i,n.bind(t));else if(ge(n))if(j(n))n.forEach(r=>wa(r,e,t,s));else{const r=G(n.handler)?n.handler.bind(t):e[n.handler];G(r)&&dt(i,r,n)}}function Sa(n){const e=n.type,{mixins:t,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,l=r.get(e);let c;return l?c=l:!i.length&&!t&&!s?c=e:(c={},i.length&&i.forEach(a=>Zs(c,a,o,!0)),Zs(c,e,o)),ge(e)&&r.set(e,c),c}function Zs(n,e,t,s=!1){const{mixins:i,extends:r}=e;r&&Zs(n,r,t,!0),i&&i.forEach(o=>Zs(n,o,t,!0));for(const o in e)if(!(s&&o==="expose")){const l=Qh[o]||t&&t[o];n[o]=l?l(n[o],e[o]):e[o]}return n}const Qh={data:bl,props:Cl,emits:Cl,methods:Kn,computed:Kn,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Kn,directives:Kn,watch:Jh,provide:bl,inject:Xh};function bl(n,e){return e?n?function(){return De(G(n)?n.call(this,this):n,G(e)?e.call(this,this):e)}:e:n}function Xh(n,e){return Kn(Ur(n),Ur(e))}function Ur(n){if(j(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Me(n,e){return n?[...new Set([].concat(n,e))]:e}function Kn(n,e){return n?De(Object.create(null),n,e):e}function Cl(n,e){return n?j(n)&&j(e)?[...new Set([...n,...e])]:De(Object.create(null),yl(n),yl(e??{})):e}function Jh(n,e){if(!n)return e;if(!e)return n;const t=De(Object.create(null),n);for(const s in e)t[s]=Me(n[s],e[s]);return t}function Ta(){return{app:null,config:{isNativeTag:Bf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zh=0;function ed(n,e){return function(s,i=null){G(s)||(s=De({},s)),i!=null&&!ge(i)&&(i=null);const r=Ta(),o=new WeakSet,l=[];let c=!1;const a=r.app={_uid:Zh++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Fd,get config(){return r.config},set config(h){},use(h,...p){return o.has(h)||(h&&G(h.install)?(o.add(h),h.install(a,...p)):G(h)&&(o.add(h),h(a,...p))),a},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),a},component(h,p){return p?(r.components[h]=p,a):r.components[h]},directive(h,p){return p?(r.directives[h]=p,a):r.directives[h]},mount(h,p,y){if(!c){const C=a._ceVNode||Qe(s,i);return C.appContext=r,y===!0?y="svg":y===!1&&(y=void 0),n(C,h,y),c=!0,a._container=h,h.__vue_app__=a,Yi(C.component)}},onUnmount(h){l.push(h)},unmount(){c&&(pt(l,a._instance,16),n(null,a._container),delete a._container.__vue_app__)},provide(h,p){return r.provides[h]=p,a},runWithContext(h){const p=en;en=a;try{return h()}finally{en=p}}};return a}}let en=null;function td(n,e){if(Ae){let t=Ae.provides;const s=Ae.parent&&Ae.parent.provides;s===t&&(t=Ae.provides=Object.create(s)),t[n]=e}}function Zn(n,e,t=!1){const s=Ae||Ue;if(s||en){const i=en?en._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&G(e)?e.call(s&&s.proxy):e}}function nd(){return!!(Ae||Ue||en)}const Na={},Ra=()=>Object.create(Na),Aa=n=>Object.getPrototypeOf(n)===Na;function sd(n,e,t,s=!1){const i={},r=Ra();n.propsDefaults=Object.create(null),Pa(n,e,i,r);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);t?n.props=s?i:_h(i):n.type.props?n.props=i:n.props=r,n.attrs=r}function id(n,e,t,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=n,l=ee(i),[c]=n.propsOptions;let a=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=n.vnode.dynamicProps;for(let p=0;p<h.length;p++){let y=h[p];if($i(n.emitsOptions,y))continue;const C=e[y];if(c)if(se(r,y))C!==r[y]&&(r[y]=C,a=!0);else{const S=Je(y);i[S]=Hr(c,l,S,C,n,!1)}else C!==r[y]&&(r[y]=C,a=!0)}}}else{Pa(n,e,i,r)&&(a=!0);let h;for(const p in l)(!e||!se(e,p)&&((h=ln(p))===p||!se(e,h)))&&(c?t&&(t[p]!==void 0||t[h]!==void 0)&&(i[p]=Hr(c,l,p,void 0,n,!0)):delete i[p]);if(r!==l)for(const p in r)(!e||!se(e,p))&&(delete r[p],a=!0)}a&&vt(n.attrs,"set","")}function Pa(n,e,t,s){const[i,r]=n.propsOptions;let o=!1,l;if(e)for(let c in e){if(Yn(c))continue;const a=e[c];let h;i&&se(i,h=Je(c))?!r||!r.includes(h)?t[h]=a:(l||(l={}))[h]=a:$i(n.emitsOptions,c)||(!(c in s)||a!==s[c])&&(s[c]=a,o=!0)}if(r){const c=ee(t),a=l||ce;for(let h=0;h<r.length;h++){const p=r[h];t[p]=Hr(i,c,p,a[p],n,!se(a,p))}}return o}function Hr(n,e,t,s,i,r){const o=n[t];if(o!=null){const l=se(o,"default");if(l&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&G(c)){const{propsDefaults:a}=i;if(t in a)s=a[t];else{const h=ws(i);s=a[t]=c.call(null,e),h()}}else s=c;i.ce&&i.ce._setProp(t,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===ln(t))&&(s=!0))}return s}const rd=new WeakMap;function ka(n,e,t=!1){const s=t?rd:e.propsCache,i=s.get(n);if(i)return i;const r=n.props,o={},l=[];let c=!1;if(!G(n)){const h=p=>{c=!0;const[y,C]=ka(p,e,!0);De(o,y),C&&l.push(...C)};!t&&e.mixins.length&&e.mixins.forEach(h),n.extends&&h(n.extends),n.mixins&&n.mixins.forEach(h)}if(!r&&!c)return ge(n)&&s.set(n,_n),_n;if(j(r))for(let h=0;h<r.length;h++){const p=Je(r[h]);Il(p)&&(o[p]=ce)}else if(r)for(const h in r){const p=Je(h);if(Il(p)){const y=r[h],C=o[p]=j(y)||G(y)?{type:y}:De({},y),S=C.type;let L=!1,x=!0;if(j(S))for(let _=0;_<S.length;++_){const m=S[_],N=G(m)&&m.name;if(N==="Boolean"){L=!0;break}else N==="String"&&(x=!1)}else L=G(S)&&S.name==="Boolean";C[0]=L,C[1]=x,(L||se(C,"default"))&&l.push(p)}}const a=[o,l];return ge(n)&&s.set(n,a),a}function Il(n){return n[0]!=="$"&&!Yn(n)}const Oa=n=>n[0]==="_"||n==="$stable",No=n=>j(n)?n.map(ft):[ft(n)],od=(n,e,t)=>{if(e._n)return e;const s=Rh((...i)=>No(e(...i)),t);return s._c=!1,s},Da=(n,e,t)=>{const s=n._ctx;for(const i in n){if(Oa(i))continue;const r=n[i];if(G(r))e[i]=od(i,r,s);else if(r!=null){const o=No(r);e[i]=()=>o}}},Ma=(n,e)=>{const t=No(e);n.slots.default=()=>t},Fa=(n,e,t)=>{for(const s in e)(t||s!=="_")&&(n[s]=e[s])},ld=(n,e,t)=>{const s=n.slots=Ra();if(n.vnode.shapeFlag&32){const i=e._;i?(Fa(s,e,t),t&&Gc(s,"_",i,!0)):Da(e,s)}else e&&Ma(n,e)},cd=(n,e,t)=>{const{vnode:s,slots:i}=n;let r=!0,o=ce;if(s.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:Fa(i,e,t):(r=!e.$stable,Da(e,i)),o=e}else e&&(Ma(n,e),o={default:1});if(r)for(const l in i)!Oa(l)&&o[l]==null&&delete i[l]},$e=Cd;function ad(n){return ud(n)}function ud(n,e){const t=Hi();t.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:c,setText:a,setElementText:h,parentNode:p,nextSibling:y,setScopeId:C=ht,insertStaticContent:S}=n,L=(g,v,E,A=null,w=null,T=null,F=void 0,D=null,O=!!v.dynamicChildren)=>{if(g===v)return;g&&!Un(g,v)&&(A=Ds(g),rt(g,w,T,!0),g=null),v.patchFlag===-2&&(O=!1,v.dynamicChildren=null);const{type:P,ref:U,shapeFlag:B}=v;switch(P){case Ki:x(g,v,E,A);break;case nn:_(g,v,E,A);break;case xr:g==null&&m(v,E,A,F);break;case Ye:M(g,v,E,A,w,T,F,D,O);break;default:B&1?q(g,v,E,A,w,T,F,D,O):B&6?Z(g,v,E,A,w,T,F,D,O):(B&64||B&128)&&P.process(g,v,E,A,w,T,F,D,O,Ln)}U!=null&&w&&Js(U,g&&g.ref,T,v||g,!v)},x=(g,v,E,A)=>{if(g==null)s(v.el=l(v.children),E,A);else{const w=v.el=g.el;v.children!==g.children&&a(w,v.children)}},_=(g,v,E,A)=>{g==null?s(v.el=c(v.children||""),E,A):v.el=g.el},m=(g,v,E,A)=>{[g.el,g.anchor]=S(g.children,v,E,A,g.el,g.anchor)},N=({el:g,anchor:v},E,A)=>{let w;for(;g&&g!==v;)w=y(g),s(g,E,A),g=w;s(v,E,A)},R=({el:g,anchor:v})=>{let E;for(;g&&g!==v;)E=y(g),i(g),g=E;i(v)},q=(g,v,E,A,w,T,F,D,O)=>{v.type==="svg"?F="svg":v.type==="math"&&(F="mathml"),g==null?Ze(v,E,A,w,T,F,D,O):u(g,v,w,T,F,D,O)},Ze=(g,v,E,A,w,T,F,D)=>{let O,P;const{props:U,shapeFlag:B,transition:W,dirs:V}=g;if(O=g.el=o(g.type,T,U&&U.is,U),B&8?h(O,g.children):B&16&&f(g.children,O,null,A,w,_r(g,T),F,D),V&&$t(g,null,A,"created"),Ie(O,g,g.scopeId,F,A),U){for(const fe in U)fe!=="value"&&!Yn(fe)&&r(O,fe,null,U[fe],T,A);"value"in U&&r(O,"value",null,U.value,T),(P=U.onVnodeBeforeMount)&&at(P,A,g)}V&&$t(g,null,A,"beforeMount");const X=fd(w,W);X&&W.beforeEnter(O),s(O,v,E),((P=U&&U.onVnodeMounted)||X||V)&&$e(()=>{P&&at(P,A,g),X&&W.enter(O),V&&$t(g,null,A,"mounted")},w)},Ie=(g,v,E,A,w)=>{if(E&&C(g,E),A)for(let T=0;T<A.length;T++)C(g,A[T]);if(w){let T=w.subTree;if(v===T||Va(T.type)&&(T.ssContent===v||T.ssFallback===v)){const F=w.vnode;Ie(g,F,F.scopeId,F.slotScopeIds,w.parent)}}},f=(g,v,E,A,w,T,F,D,O=0)=>{for(let P=O;P<g.length;P++){const U=g[P]=D?kt(g[P]):ft(g[P]);L(null,U,v,E,A,w,T,F,D)}},u=(g,v,E,A,w,T,F)=>{const D=v.el=g.el;let{patchFlag:O,dynamicChildren:P,dirs:U}=v;O|=g.patchFlag&16;const B=g.props||ce,W=v.props||ce;let V;if(E&&Kt(E,!1),(V=W.onVnodeBeforeUpdate)&&at(V,E,v,g),U&&$t(v,g,E,"beforeUpdate"),E&&Kt(E,!0),(B.innerHTML&&W.innerHTML==null||B.textContent&&W.textContent==null)&&h(D,""),P?d(g.dynamicChildren,P,D,E,A,_r(v,w),T):F||re(g,v,D,null,E,A,_r(v,w),T,!1),O>0){if(O&16)I(D,B,W,E,w);else if(O&2&&B.class!==W.class&&r(D,"class",null,W.class,w),O&4&&r(D,"style",B.style,W.style,w),O&8){const X=v.dynamicProps;for(let fe=0;fe<X.length;fe++){const ie=X[fe],Ge=B[ie],We=W[ie];(We!==Ge||ie==="value")&&r(D,ie,Ge,We,w,E)}}O&1&&g.children!==v.children&&h(D,v.children)}else!F&&P==null&&I(D,B,W,E,w);((V=W.onVnodeUpdated)||U)&&$e(()=>{V&&at(V,E,v,g),U&&$t(v,g,E,"updated")},A)},d=(g,v,E,A,w,T,F)=>{for(let D=0;D<v.length;D++){const O=g[D],P=v[D],U=O.el&&(O.type===Ye||!Un(O,P)||O.shapeFlag&70)?p(O.el):E;L(O,P,U,null,A,w,T,F,!0)}},I=(g,v,E,A,w)=>{if(v!==E){if(v!==ce)for(const T in v)!Yn(T)&&!(T in E)&&r(g,T,v[T],null,w,A);for(const T in E){if(Yn(T))continue;const F=E[T],D=v[T];F!==D&&T!=="value"&&r(g,T,D,F,w,A)}"value"in E&&r(g,"value",v.value,E.value,w)}},M=(g,v,E,A,w,T,F,D,O)=>{const P=v.el=g?g.el:l(""),U=v.anchor=g?g.anchor:l("");let{patchFlag:B,dynamicChildren:W,slotScopeIds:V}=v;V&&(D=D?D.concat(V):V),g==null?(s(P,E,A),s(U,E,A),f(v.children||[],E,U,w,T,F,D,O)):B>0&&B&64&&W&&g.dynamicChildren?(d(g.dynamicChildren,W,E,w,T,F,D),(v.key!=null||w&&v===w.subTree)&&La(g,v,!0)):re(g,v,E,U,w,T,F,D,O)},Z=(g,v,E,A,w,T,F,D,O)=>{v.slotScopeIds=D,g==null?v.shapeFlag&512?w.ctx.activate(v,E,A,F,O):Q(v,E,A,w,T,F,O):be(g,v,O)},Q=(g,v,E,A,w,T,F)=>{const D=g.component=Rd(g,A,w);if(ba(g)&&(D.ctx.renderer=Ln),Ad(D,!1,F),D.asyncDep){if(w&&w.registerDep(D,ue,F),!g.el){const O=D.subTree=Qe(nn);_(null,O,v,E)}}else ue(D,g,v,E,w,T,F)},be=(g,v,E)=>{const A=v.component=g.component;if(vd(g,v,E))if(A.asyncDep&&!A.asyncResolved){z(A,v,E);return}else A.next=v,A.update();else v.el=g.el,A.vnode=v},ue=(g,v,E,A,w,T,F)=>{const D=()=>{if(g.isMounted){let{next:B,bu:W,u:V,parent:X,vnode:fe}=g;{const lt=Ba(g);if(lt){B&&(B.el=fe.el,z(g,B,F)),lt.asyncDep.then(()=>{g.isUnmounted||D()});return}}let ie=B,Ge;Kt(g,!1),B?(B.el=fe.el,z(g,B,F)):B=fe,W&&Vs(W),(Ge=B.props&&B.props.onVnodeBeforeUpdate)&&at(Ge,X,B,fe),Kt(g,!0);const We=wl(g),ot=g.subTree;g.subTree=We,L(ot,We,p(ot.el),Ds(ot),g,w,T),B.el=We.el,ie===null&&bd(g,We.el),V&&$e(V,w),(Ge=B.props&&B.props.onVnodeUpdated)&&$e(()=>at(Ge,X,B,fe),w)}else{let B;const{el:W,props:V}=v,{bm:X,m:fe,parent:ie,root:Ge,type:We}=g,ot=Xn(v);Kt(g,!1),X&&Vs(X),!ot&&(B=V&&V.onVnodeBeforeMount)&&at(B,ie,v),Kt(g,!0);{Ge.ce&&Ge.ce._injectChildStyle(We);const lt=g.subTree=wl(g);L(null,lt,E,A,g,w,T),v.el=lt.el}if(fe&&$e(fe,w),!ot&&(B=V&&V.onVnodeMounted)){const lt=v;$e(()=>at(B,ie,lt),w)}(v.shapeFlag&256||ie&&Xn(ie.vnode)&&ie.vnode.shapeFlag&256)&&g.a&&$e(g.a,w),g.isMounted=!0,v=E=A=null}};g.scope.on();const O=g.effect=new Xc(D);g.scope.off();const P=g.update=O.run.bind(O),U=g.job=O.runIfDirty.bind(O);U.i=g,U.id=g.uid,O.scheduler=()=>So(U),Kt(g,!0),P()},z=(g,v,E)=>{v.component=g;const A=g.vnode.props;g.vnode=v,g.next=null,id(g,v.props,A,E),cd(g,v.children,E),jt(),xl(g),Gt()},re=(g,v,E,A,w,T,F,D,O=!1)=>{const P=g&&g.children,U=g?g.shapeFlag:0,B=v.children,{patchFlag:W,shapeFlag:V}=v;if(W>0){if(W&128){Mn(P,B,E,A,w,T,F,D,O);return}else if(W&256){xt(P,B,E,A,w,T,F,D,O);return}}V&8?(U&16&&Fn(P,w,T),B!==P&&h(E,B)):U&16?V&16?Mn(P,B,E,A,w,T,F,D,O):Fn(P,w,T,!0):(U&8&&h(E,""),V&16&&f(B,E,A,w,T,F,D,O))},xt=(g,v,E,A,w,T,F,D,O)=>{g=g||_n,v=v||_n;const P=g.length,U=v.length,B=Math.min(P,U);let W;for(W=0;W<B;W++){const V=v[W]=O?kt(v[W]):ft(v[W]);L(g[W],V,E,null,w,T,F,D,O)}P>U?Fn(g,w,T,!0,!1,B):f(v,E,A,w,T,F,D,O,B)},Mn=(g,v,E,A,w,T,F,D,O)=>{let P=0;const U=v.length;let B=g.length-1,W=U-1;for(;P<=B&&P<=W;){const V=g[P],X=v[P]=O?kt(v[P]):ft(v[P]);if(Un(V,X))L(V,X,E,null,w,T,F,D,O);else break;P++}for(;P<=B&&P<=W;){const V=g[B],X=v[W]=O?kt(v[W]):ft(v[W]);if(Un(V,X))L(V,X,E,null,w,T,F,D,O);else break;B--,W--}if(P>B){if(P<=W){const V=W+1,X=V<U?v[V].el:A;for(;P<=W;)L(null,v[P]=O?kt(v[P]):ft(v[P]),E,X,w,T,F,D,O),P++}}else if(P>W)for(;P<=B;)rt(g[P],w,T,!0),P++;else{const V=P,X=P,fe=new Map;for(P=X;P<=W;P++){const ze=v[P]=O?kt(v[P]):ft(v[P]);ze.key!=null&&fe.set(ze.key,P)}let ie,Ge=0;const We=W-X+1;let ot=!1,lt=0;const Bn=new Array(We);for(P=0;P<We;P++)Bn[P]=0;for(P=V;P<=B;P++){const ze=g[P];if(Ge>=We){rt(ze,w,T,!0);continue}let ct;if(ze.key!=null)ct=fe.get(ze.key);else for(ie=X;ie<=W;ie++)if(Bn[ie-X]===0&&Un(ze,v[ie])){ct=ie;break}ct===void 0?rt(ze,w,T,!0):(Bn[ct-X]=P+1,ct>=lt?lt=ct:ot=!0,L(ze,v[ct],E,null,w,T,F,D,O),Ge++)}const fl=ot?hd(Bn):_n;for(ie=fl.length-1,P=We-1;P>=0;P--){const ze=X+P,ct=v[ze],hl=ze+1<U?v[ze+1].el:A;Bn[P]===0?L(null,ct,E,hl,w,T,F,D,O):ot&&(ie<0||P!==fl[ie]?zt(ct,E,hl,2):ie--)}}},zt=(g,v,E,A,w=null)=>{const{el:T,type:F,transition:D,children:O,shapeFlag:P}=g;if(P&6){zt(g.component.subTree,v,E,A);return}if(P&128){g.suspense.move(v,E,A);return}if(P&64){F.move(g,v,E,Ln);return}if(F===Ye){s(T,v,E);for(let B=0;B<O.length;B++)zt(O[B],v,E,A);s(g.anchor,v,E);return}if(F===xr){N(g,v,E);return}if(A!==2&&P&1&&D)if(A===0)D.beforeEnter(T),s(T,v,E),$e(()=>D.enter(T),w);else{const{leave:B,delayLeave:W,afterLeave:V}=D,X=()=>s(T,v,E),fe=()=>{B(T,()=>{X(),V&&V()})};W?W(T,X,fe):fe()}else s(T,v,E)},rt=(g,v,E,A=!1,w=!1)=>{const{type:T,props:F,ref:D,children:O,dynamicChildren:P,shapeFlag:U,patchFlag:B,dirs:W,cacheIndex:V}=g;if(B===-2&&(w=!1),D!=null&&Js(D,null,E,g,!0),V!=null&&(v.renderCache[V]=void 0),U&256){v.ctx.deactivate(g);return}const X=U&1&&W,fe=!Xn(g);let ie;if(fe&&(ie=F&&F.onVnodeBeforeUnmount)&&at(ie,v,g),U&6)Lf(g.component,E,A);else{if(U&128){g.suspense.unmount(E,A);return}X&&$t(g,null,v,"beforeUnmount"),U&64?g.type.remove(g,v,E,Ln,A):P&&!P.hasOnce&&(T!==Ye||B>0&&B&64)?Fn(P,v,E,!1,!0):(T===Ye&&B&384||!w&&U&16)&&Fn(O,v,E),A&&al(g)}(fe&&(ie=F&&F.onVnodeUnmounted)||X)&&$e(()=>{ie&&at(ie,v,g),X&&$t(g,null,v,"unmounted")},E)},al=g=>{const{type:v,el:E,anchor:A,transition:w}=g;if(v===Ye){Ff(E,A);return}if(v===xr){R(g);return}const T=()=>{i(E),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(g.shapeFlag&1&&w&&!w.persisted){const{leave:F,delayLeave:D}=w,O=()=>F(E,T);D?D(g.el,T,O):O()}else T()},Ff=(g,v)=>{let E;for(;g!==v;)E=y(g),i(g),g=E;i(v)},Lf=(g,v,E)=>{const{bum:A,scope:w,job:T,subTree:F,um:D,m:O,a:P}=g;El(O),El(P),A&&Vs(A),w.stop(),T&&(T.flags|=8,rt(F,g,v,E)),D&&$e(D,v),$e(()=>{g.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},Fn=(g,v,E,A=!1,w=!1,T=0)=>{for(let F=T;F<g.length;F++)rt(g[F],v,E,A,w)},Ds=g=>{if(g.shapeFlag&6)return Ds(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const v=y(g.anchor||g.el),E=v&&v[Ph];return E?y(E):v};let cr=!1;const ul=(g,v,E)=>{g==null?v._vnode&&rt(v._vnode,null,null,!0):L(v._vnode||null,g,v,null,null,null,E),v._vnode=g,cr||(cr=!0,xl(),ga(),cr=!1)},Ln={p:L,um:rt,m:zt,r:al,mt:Q,mc:f,pc:re,pbc:d,n:Ds,o:n};return{render:ul,hydrate:void 0,createApp:ed(ul)}}function _r({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Kt({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function fd(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function La(n,e,t=!1){const s=n.children,i=e.children;if(j(s)&&j(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=kt(i[r]),l.el=o.el),!t&&l.patchFlag!==-2&&La(o,l)),l.type===Ki&&(l.el=o.el)}}function hd(n){const e=n.slice(),t=[0];let s,i,r,o,l;const c=n.length;for(s=0;s<c;s++){const a=n[s];if(a!==0){if(i=t[t.length-1],n[i]<a){e[s]=i,t.push(s);continue}for(r=0,o=t.length-1;r<o;)l=r+o>>1,n[t[l]]<a?r=l+1:o=l;a<n[t[r]]&&(r>0&&(e[s]=t[r-1]),t[r]=s)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function Ba(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ba(e)}function El(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const dd=Symbol.for("v-scx"),pd=()=>Zn(dd);function dt(n,e,t){return Wa(n,e,t)}function Wa(n,e,t=ce){const{immediate:s,deep:i,flush:r,once:o}=t,l=De({},t),c=e&&s||!e&&r!=="post";let a;if(fs){if(r==="sync"){const C=pd();a=C.__watcherHandles||(C.__watcherHandles=[])}else if(!c){const C=()=>{};return C.stop=ht,C.resume=ht,C.pause=ht,C}}const h=Ae;l.call=(C,S,L)=>pt(C,h,S,L);let p=!1;r==="post"?l.scheduler=C=>{$e(C,h&&h.suspense)}:r!=="sync"&&(p=!0,l.scheduler=(C,S)=>{S?C():So(C)}),l.augmentJob=C=>{e&&(C.flags|=4),p&&(C.flags|=2,h&&(C.id=h.uid,C.i=h))};const y=wh(n,e,l);return fs&&(a?a.push(y):c&&y()),y}function _d(n,e,t){const s=this.proxy,i=ve(n)?n.includes(".")?Ua(s,n):()=>s[n]:n.bind(s,s);let r;G(e)?r=e:(r=e.handler,t=e);const o=ws(this),l=Wa(i,r.bind(s),t);return o(),l}function Ua(n,e){const t=e.split(".");return()=>{let s=n;for(let i=0;i<t.length&&s;i++)s=s[t[i]];return s}}const xd=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${Je(e)}Modifiers`]||n[`${ln(e)}Modifiers`];function gd(n,e,...t){if(n.isUnmounted)return;const s=n.vnode.props||ce;let i=t;const r=e.startsWith("update:"),o=r&&xd(s,e.slice(7));o&&(o.trim&&(i=t.map(h=>ve(h)?h.trim():h)),o.number&&(i=t.map(Or)));let l,c=s[l=ar(e)]||s[l=ar(Je(e))];!c&&r&&(c=s[l=ar(ln(e))]),c&&pt(c,n,6,i);const a=s[l+"Once"];if(a){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,pt(a,n,6,i)}}function Ha(n,e,t=!1){const s=e.emitsCache,i=s.get(n);if(i!==void 0)return i;const r=n.emits;let o={},l=!1;if(!G(n)){const c=a=>{const h=Ha(a,e,!0);h&&(l=!0,De(o,h))};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!r&&!l?(ge(n)&&s.set(n,null),null):(j(r)?r.forEach(c=>o[c]=null):De(o,r),ge(n)&&s.set(n,o),o)}function $i(n,e){return!n||!Li(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(n,e[0].toLowerCase()+e.slice(1))||se(n,ln(e))||se(n,e))}function wl(n){const{type:e,vnode:t,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:c,render:a,renderCache:h,props:p,data:y,setupState:C,ctx:S,inheritAttrs:L}=n,x=Xs(n);let _,m;try{if(t.shapeFlag&4){const R=i||s,q=R;_=ft(a.call(q,R,h,p,C,y,S)),m=l}else{const R=e;_=ft(R.length>1?R(p,{attrs:l,slots:o,emit:c}):R(p,null)),m=e.props?l:md(l)}}catch(R){es.length=0,Gi(R,n,1),_=Qe(nn)}let N=_;if(m&&L!==!1){const R=Object.keys(m),{shapeFlag:q}=N;R.length&&q&7&&(r&&R.some(po)&&(m=yd(m,r)),N=Cn(N,m,!1,!0))}return t.dirs&&(N=Cn(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(t.dirs):t.dirs),t.transition&&To(N,t.transition),_=N,Xs(x),_}const md=n=>{let e;for(const t in n)(t==="class"||t==="style"||Li(t))&&((e||(e={}))[t]=n[t]);return e},yd=(n,e)=>{const t={};for(const s in n)(!po(s)||!(s.slice(9)in e))&&(t[s]=n[s]);return t};function vd(n,e,t){const{props:s,children:i,component:r}=n,{props:o,children:l,patchFlag:c}=e,a=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return s?Sl(s,o,a):!!o;if(c&8){const h=e.dynamicProps;for(let p=0;p<h.length;p++){const y=h[p];if(o[y]!==s[y]&&!$i(a,y))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Sl(s,o,a):!0:!!o;return!1}function Sl(n,e,t){const s=Object.keys(e);if(s.length!==Object.keys(n).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==n[r]&&!$i(t,r))return!0}return!1}function bd({vnode:n,parent:e},t){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=e.vnode).el=t,e=e.parent;else break}}const Va=n=>n.__isSuspense;function Cd(n,e){e&&e.pendingBranch?j(n)?e.effects.push(...n):e.effects.push(n):Nh(n)}const Ye=Symbol.for("v-fgt"),Ki=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),xr=Symbol.for("v-stc"),es=[];let Ke=null;function J(n=!1){es.push(Ke=n?null:[])}function Id(){es.pop(),Ke=es[es.length-1]||null}let us=1;function Tl(n,e=!1){us+=n,n<0&&Ke&&e&&(Ke.hasOnce=!0)}function ja(n){return n.dynamicChildren=us>0?Ke||_n:null,Id(),us>0&&Ke&&Ke.push(n),n}function ne(n,e,t,s,i,r){return ja(b(n,e,t,s,i,r,!0))}function Ga(n,e,t,s,i){return ja(Qe(n,e,t,s,i,!0))}function za(n){return n?n.__v_isVNode===!0:!1}function Un(n,e){return n.type===e.type&&n.key===e.key}const $a=({key:n})=>n??null,js=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?ve(n)||ye(n)||G(n)?{i:Ue,r:n,k:e,f:!!t}:n:null);function b(n,e=null,t=null,s=0,i=null,r=n===Ye?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&$a(e),ref:e&&js(e),scopeId:ya,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ue};return l?(Ro(c,t),r&128&&n.normalize(c)):t&&(c.shapeFlag|=ve(t)?8:16),us>0&&!o&&Ke&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Ke.push(c),c}const Qe=Ed;function Ed(n,e=null,t=null,s=0,i=null,r=!1){if((!n||n===Ea)&&(n=nn),za(n)){const l=Cn(n,e,!0);return t&&Ro(l,t),us>0&&!r&&Ke&&(l.shapeFlag&6?Ke[Ke.indexOf(n)]=l:Ke.push(l)),l.patchFlag=-2,l}if(Md(n)&&(n=n.__vccOpts),e){e=wd(e);let{class:l,style:c}=e;l&&!ve(l)&&(e.class=gn(l)),ge(c)&&(Eo(c)&&!j(c)&&(c=De({},c)),e.style=go(c))}const o=ve(n)?1:Va(n)?128:kh(n)?64:ge(n)?4:G(n)?2:0;return b(n,e,t,s,i,o,r,!0)}function wd(n){return n?Eo(n)||Aa(n)?De({},n):n:null}function Cn(n,e,t=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:c}=n,a=e?Sd(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&$a(a),ref:e&&e.ref?t&&r?j(r)?r.concat(js(e)):[r,js(e)]:js(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ye?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:c,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Cn(n.ssContent),ssFallback:n.ssFallback&&Cn(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return c&&s&&To(h,c.clone(h)),h}function oe(n=" ",e=0){return Qe(Ki,null,n,e)}function Ce(n="",e=!1){return e?(J(),Ga(nn,null,n)):Qe(nn,null,n)}function ft(n){return n==null||typeof n=="boolean"?Qe(nn):j(n)?Qe(Ye,null,n.slice()):za(n)?kt(n):Qe(Ki,null,String(n))}function kt(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Cn(n)}function Ro(n,e){let t=0;const{shapeFlag:s}=n;if(e==null)e=null;else if(j(e))t=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Ro(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!Aa(e)?e._ctx=Ue:i===3&&Ue&&(Ue.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else G(e)?(e={default:e,_ctx:Ue},t=32):(e=String(e),s&64?(t=16,e=[oe(e)]):t=8);n.children=e,n.shapeFlag|=t}function Sd(...n){const e={};for(let t=0;t<n.length;t++){const s=n[t];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=gn([e.class,s.class]));else if(i==="style")e.style=go([e.style,s.style]);else if(Li(i)){const r=e[i],o=s[i];o&&r!==o&&!(j(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function at(n,e,t,s=null){pt(n,e,7,[t,s])}const Td=Ta();let Nd=0;function Rd(n,e,t){const s=n.type,i=(e?e.appContext:n.appContext)||Td,r={uid:Nd++,vnode:n,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Yc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ka(s,i),emitsOptions:Ha(s,i),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:s.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=gd.bind(null,r),n.ce&&n.ce(r),r}let Ae=null,ei,Vr;{const n=Hi(),e=(t,s)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ei=e("__VUE_INSTANCE_SETTERS__",t=>Ae=t),Vr=e("__VUE_SSR_SETTERS__",t=>fs=t)}const ws=n=>{const e=Ae;return ei(n),n.scope.on(),()=>{n.scope.off(),ei(e)}},Nl=()=>{Ae&&Ae.scope.off(),ei(null)};function Ka(n){return n.vnode.shapeFlag&4}let fs=!1;function Ad(n,e=!1,t=!1){e&&Vr(e);const{props:s,children:i}=n.vnode,r=Ka(n);sd(n,s,r,e),ld(n,i,t);const o=r?Pd(n,e):void 0;return e&&Vr(!1),o}function Pd(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Kh);const{setup:s}=t;if(s){jt();const i=n.setupContext=s.length>1?Od(n):null,r=ws(n),o=Is(s,n,0,[n.props,i]),l=Hc(o);if(Gt(),r(),(l||n.sp)&&!Xn(n)&&va(n),l){if(o.then(Nl,Nl),e)return o.then(c=>{Rl(n,c)}).catch(c=>{Gi(c,n,0)});n.asyncDep=o}else Rl(n,o)}else Ya(n)}function Rl(n,e,t){G(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:ge(e)&&(n.setupState=da(e)),Ya(n)}function Ya(n,e,t){const s=n.type;n.render||(n.render=s.render||ht);{const i=ws(n);jt();try{Yh(n)}finally{Gt(),i()}}}const kd={get(n,e){return Pe(n,"get",""),n[e]}};function Od(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,kd),slots:n.slots,emit:n.emit,expose:e}}function Yi(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(da(wo(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Jn)return Jn[t](n)},has(e,t){return t in e||t in Jn}})):n.proxy}function Dd(n,e=!0){return G(n)?n.displayName||n.name:n.name||e&&n.__name}function Md(n){return G(n)&&"__vccOpts"in n}const qa=(n,e)=>Ih(n,e,fs),Fd="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jr;const Al=typeof window<"u"&&window.trustedTypes;if(Al)try{jr=Al.createPolicy("vue",{createHTML:n=>n})}catch{}const Qa=jr?n=>jr.createHTML(n):n=>n,Ld="http://www.w3.org/2000/svg",Bd="http://www.w3.org/1998/Math/MathML",mt=typeof document<"u"?document:null,Pl=mt&&mt.createElement("template"),Wd={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,s)=>{const i=e==="svg"?mt.createElementNS(Ld,n):e==="mathml"?mt.createElementNS(Bd,n):t?mt.createElement(n,{is:t}):mt.createElement(n);return n==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:n=>mt.createTextNode(n),createComment:n=>mt.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>mt.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,s,i,r){const o=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{Pl.innerHTML=Qa(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const l=Pl.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Ud=Symbol("_vtc");function Hd(n,e,t){const s=n[Ud];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const kl=Symbol("_vod"),Vd=Symbol("_vsh"),jd=Symbol(""),Gd=/(^|;)\s*display\s*:/;function zd(n,e,t){const s=n.style,i=ve(t);let r=!1;if(t&&!i){if(e)if(ve(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();t[l]==null&&Gs(s,l,"")}else for(const o in e)t[o]==null&&Gs(s,o,"");for(const o in t)o==="display"&&(r=!0),Gs(s,o,t[o])}else if(i){if(e!==t){const o=s[jd];o&&(t+=";"+o),s.cssText=t,r=Gd.test(t)}}else e&&n.removeAttribute("style");kl in n&&(n[kl]=r?s.display:"",n[Vd]&&(s.display="none"))}const Ol=/\s*!important$/;function Gs(n,e,t){if(j(t))t.forEach(s=>Gs(n,e,s));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const s=$d(n,e);Ol.test(t)?n.setProperty(ln(s),t.replace(Ol,""),"important"):n[s]=t}}const Dl=["Webkit","Moz","ms"],gr={};function $d(n,e){const t=gr[e];if(t)return t;let s=Je(e);if(s!=="filter"&&s in n)return gr[e]=s;s=Ui(s);for(let i=0;i<Dl.length;i++){const r=Dl[i]+s;if(r in n)return gr[e]=r}return e}const Ml="http://www.w3.org/1999/xlink";function Fl(n,e,t,s,i,r=Yf(e)){s&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Ml,e.slice(6,e.length)):n.setAttributeNS(Ml,e,t):t==null||r&&!zc(t)?n.removeAttribute(e):n.setAttribute(e,r?"":Vt(t)?String(t):t)}function Ll(n,e,t,s,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?Qa(t):t);return}const r=n.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?n.getAttribute("value")||"":n.value,c=t==null?n.type==="checkbox"?"on":"":String(t);(l!==c||!("_value"in n))&&(n.value=c),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=zc(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(i||e)}function dn(n,e,t,s){n.addEventListener(e,t,s)}function Kd(n,e,t,s){n.removeEventListener(e,t,s)}const Bl=Symbol("_vei");function Yd(n,e,t,s,i=null){const r=n[Bl]||(n[Bl]={}),o=r[e];if(s&&o)o.value=s;else{const[l,c]=qd(e);if(s){const a=r[e]=Jd(s,i);dn(n,l,a,c)}else o&&(Kd(n,l,o,c),r[e]=void 0)}}const Wl=/(?:Once|Passive|Capture)$/;function qd(n){let e;if(Wl.test(n)){e={};let s;for(;s=n.match(Wl);)n=n.slice(0,n.length-s[0].length),e[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):ln(n.slice(2)),e]}let mr=0;const Qd=Promise.resolve(),Xd=()=>mr||(Qd.then(()=>mr=0),mr=Date.now());function Jd(n,e){const t=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=t.attached)return;pt(Zd(s,t.value),e,5,[s])};return t.value=n,t.attached=Xd(),t}function Zd(n,e){if(j(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Ul=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,ep=(n,e,t,s,i,r)=>{const o=i==="svg";e==="class"?Hd(n,s,o):e==="style"?zd(n,t,s):Li(e)?po(e)||Yd(n,e,t,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):tp(n,e,s,o))?(Ll(n,e,s),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Fl(n,e,s,o,r,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!ve(s))?Ll(n,Je(e),s,r,e):(e==="true-value"?n._trueValue=s:e==="false-value"&&(n._falseValue=s),Fl(n,e,s,o))};function tp(n,e,t,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in n&&Ul(e)&&G(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ul(e)&&ve(t)?!1:e in n}const Hl=n=>{const e=n.props["onUpdate:modelValue"]||!1;return j(e)?t=>Vs(e,t):e};function np(n){n.target.composing=!0}function Vl(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const yr=Symbol("_assign"),sp={created(n,{modifiers:{lazy:e,trim:t,number:s}},i){n[yr]=Hl(i);const r=s||i.props&&i.props.type==="number";dn(n,e?"change":"input",o=>{if(o.target.composing)return;let l=n.value;t&&(l=l.trim()),r&&(l=Or(l)),n[yr](l)}),t&&dn(n,"change",()=>{n.value=n.value.trim()}),e||(dn(n,"compositionstart",np),dn(n,"compositionend",Vl),dn(n,"change",Vl))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:s,trim:i,number:r}},o){if(n[yr]=Hl(o),n.composing)return;const l=(r||n.type==="number")&&!/^0\d/.test(n.value)?Or(n.value):n.value,c=e??"";l!==c&&(document.activeElement===n&&n.type!=="range"&&(s&&e===t||i&&n.value.trim()===c)||(n.value=c))}},ip=De({patchProp:ep},Wd);let jl;function rp(){return jl||(jl=ad(ip))}const op=(...n)=>{const e=rp().createApp(...n),{mount:t}=e;return e.mount=s=>{const i=cp(s);if(!i)return;const r=e._component;!G(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,lp(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function lp(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function cp(n){return ve(n)?document.querySelector(n):n}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Xa;const qi=n=>Xa=n,Ja=Symbol();function Gr(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var ts;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(ts||(ts={}));function ap(){const n=qc(!0),e=n.run(()=>Re({}));let t=[],s=[];const i=wo({install(r){qi(i),i._a=r,r.provide(Ja,i),r.config.globalProperties.$pinia=i,s.forEach(o=>t.push(o)),s=[]},use(r){return this._a?t.push(r):s.push(r),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return i}const Za=()=>{};function Gl(n,e,t,s=Za){n.push(e);const i=()=>{const r=n.indexOf(e);r>-1&&(n.splice(r,1),s())};return!t&&Qc()&&qf(i),i}function un(n,...e){n.slice().forEach(t=>{t(...e)})}const up=n=>n(),zl=Symbol(),vr=Symbol();function zr(n,e){n instanceof Map&&e instanceof Map?e.forEach((t,s)=>n.set(s,t)):n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const s=e[t],i=n[t];Gr(i)&&Gr(s)&&n.hasOwnProperty(t)&&!ye(s)&&!Dt(s)?n[t]=zr(i,s):n[t]=s}return n}const fp=Symbol();function hp(n){return!Gr(n)||!n.hasOwnProperty(fp)}const{assign:At}=Object;function dp(n){return!!(ye(n)&&n.effect)}function pp(n,e,t,s){const{state:i,actions:r,getters:o}=e,l=t.state.value[n];let c;function a(){l||(t.state.value[n]=i?i():{});const h=yh(t.state.value[n]);return At(h,r,Object.keys(o||{}).reduce((p,y)=>(p[y]=wo(qa(()=>{qi(t);const C=t._s.get(n);return o[y].call(C,C)})),p),{}))}return c=eu(n,a,e,t,s,!0),c}function eu(n,e,t={},s,i,r){let o;const l=At({actions:{}},t),c={deep:!0};let a,h,p=[],y=[],C;const S=s.state.value[n];!r&&!S&&(s.state.value[n]={}),Re({});let L;function x(f){let u;a=h=!1,typeof f=="function"?(f(s.state.value[n]),u={type:ts.patchFunction,storeId:n,events:C}):(zr(s.state.value[n],f),u={type:ts.patchObject,payload:f,storeId:n,events:C});const d=L=Symbol();_a().then(()=>{L===d&&(a=!0)}),h=!0,un(p,u,s.state.value[n])}const _=r?function(){const{state:u}=t,d=u?u():{};this.$patch(I=>{At(I,d)})}:Za;function m(){o.stop(),p=[],y=[],s._s.delete(n)}const N=(f,u="")=>{if(zl in f)return f[vr]=u,f;const d=function(){qi(s);const I=Array.from(arguments),M=[],Z=[];function Q(z){M.push(z)}function be(z){Z.push(z)}un(y,{args:I,name:d[vr],store:q,after:Q,onError:be});let ue;try{ue=f.apply(this&&this.$id===n?this:q,I)}catch(z){throw un(Z,z),z}return ue instanceof Promise?ue.then(z=>(un(M,z),z)).catch(z=>(un(Z,z),Promise.reject(z))):(un(M,ue),ue)};return d[zl]=!0,d[vr]=u,d},R={_p:s,$id:n,$onAction:Gl.bind(null,y),$patch:x,$reset:_,$subscribe(f,u={}){const d=Gl(p,f,u.detached,()=>I()),I=o.run(()=>dt(()=>s.state.value[n],M=>{(u.flush==="sync"?h:a)&&f({storeId:n,type:ts.direct,events:C},M)},At({},c,u)));return d},$dispose:m},q=ji(R);s._s.set(n,q);const Ie=(s._a&&s._a.runWithContext||up)(()=>s._e.run(()=>(o=qc()).run(()=>e({action:N}))));for(const f in Ie){const u=Ie[f];if(ye(u)&&!dp(u)||Dt(u))r||(S&&hp(u)&&(ye(u)?u.value=S[f]:zr(u,S[f])),s.state.value[n][f]=u);else if(typeof u=="function"){const d=N(u,f);Ie[f]=d,l.actions[f]=u}}return At(q,Ie),At(ee(q),Ie),Object.defineProperty(q,"$state",{get:()=>s.state.value[n],set:f=>{x(u=>{At(u,f)})}}),s._p.forEach(f=>{At(q,o.run(()=>f({store:q,app:s._a,pinia:s,options:l})))}),S&&r&&t.hydrate&&t.hydrate(q.$state,S),a=!0,h=!0,q}/*! #__NO_SIDE_EFFECTS__ */function _p(n,e,t){let s;const i=typeof e=="function";s=i?t:e;function r(o,l){const c=nd();return o=o||(c?Zn(Ja,null):null),o&&qi(o),o=Xa,o._s.has(n)||(i?eu(n,e,s,o):pp(n,s,o)),o._s.get(n)}return r.$id=n,r}const xp=""+new URL("waiter-GGyCVIlv.gif",import.meta.url).href,gp=()=>{};var $l={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=function(n,e){if(!n)throw Rn(e)},Rn=function(n){return new Error("Firebase Database ("+tu.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},mp=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const i=n[t++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=n[t++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=n[t++],o=n[t++],l=n[t++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=n[t++],o=n[t++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Ao={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<n.length;i+=3){const r=n[i],o=i+1<n.length,l=o?n[i+1]:0,c=i+2<n.length,a=c?n[i+2]:0,h=r>>2,p=(r&3)<<4|l>>4;let y=(l&15)<<2|a>>6,C=a&63;c||(C=64,o||(y=64)),s.push(t[h],t[p],t[y],t[C])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nu(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mp(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<n.length;){const r=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const a=i<n.length?t[n.charAt(i)]:64;++i;const p=i<n.length?t[n.charAt(i)]:64;if(++i,r==null||l==null||a==null||p==null)throw new yp;const y=r<<2|l>>4;if(s.push(y),a!==64){const C=l<<4&240|a>>2;if(s.push(C),p!==64){const S=a<<6&192|p;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yp extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const su=function(n){const e=nu(n);return Ao.encodeByteArray(e,!0)},ti=function(n){return su(n).replace(/\./g,"")},$r=function(n){try{return Ao.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n){return iu(void 0,n)}function iu(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!bp(t)||(n[t]=iu(n[t],e[t]));return n}function bp(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=()=>Cp().__FIREBASE_DEFAULTS__,Ep=()=>{if(typeof process>"u"||typeof $l>"u")return;const n=$l.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wp=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$r(n[1]);return e&&JSON.parse(e)},ru=()=>{try{return gp()||Ip()||Ep()||wp()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sp=n=>{var e,t;return(t=(e=ru())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Tp=n=>{const e=Sp(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},ou=()=>{var n;return(n=ru())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",i=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ti(JSON.stringify(t)),ti(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rp())}function Ap(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pp(){return tu.NODE_ADMIN===!0}function kp(){try{return typeof indexedDB=="object"}catch{return!1}}function Op(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="FirebaseError";class Ss extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Dp,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?Mp(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ss(i,l,s)}}function Mp(n,e){return n.replace(Fp,(t,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const Fp=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n){return JSON.parse(n)}function Ee(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=function(n){let e={},t={},s={},i="";try{const r=n.split(".");e=hs($r(r[0])||""),t=hs($r(r[1])||""),i=r[2],s=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:s,signature:i}},Lp=function(n){const e=au(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Bp=function(n){const e=au(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function In(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Kl(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ni(n,e,t){const s={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=e.call(t,n[i],i,n));return s}function si(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const i of t){if(!s.includes(i))return!1;const r=n[i],o=e[i];if(Yl(r)&&Yl(o)){if(!si(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!t.includes(i))return!1;return!0}function Yl(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const s=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)s[p]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let p=0;p<16;p++)s[p]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let p=16;p<80;p++){const y=s[p-3]^s[p-8]^s[p-14]^s[p-16];s[p]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],a,h;for(let p=0;p<80;p++){p<40?p<20?(a=l^r&(o^l),h=1518500249):(a=r^o^l,h=1859775393):p<60?(a=r&o|l&(r|o),h=2400959708):(a=r^o^l,h=3395469782);const y=(i<<5|i>>>27)+a+c+h+s[p]&4294967295;c=l,l=o,o=(r<<30|r>>>2)&4294967295,r=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const s=t-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function Po(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,k(s<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Xi=function(n){let e=0;for(let t=0;t<n.length;t++){const s=n.charCodeAt(t);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){return n&&n._delegate?n._delegate:n}class ds{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Qi;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gp(e))try{this.getOrInitializeService({instanceIdentifier:qt})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=qt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qt){return this.instances.has(e)}getOptions(e=qt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,t){var s;const i=this.normalizeInstanceIdentifier(t),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const i of s)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jp(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qt){return this.component?this.component.multipleInstances?e:qt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jp(n){return n===qt?void 0:n}function Gp(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Vp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(de||(de={}));const $p={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},Kp=de.INFO,Yp={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},qp=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),i=Yp[e];if(i)console[i](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uu{constructor(e){this.name=e,this._logLevel=Kp,this._logHandler=qp,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$p[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const Qp=(n,e)=>e.some(t=>n instanceof t);let ql,Ql;function Xp(){return ql||(ql=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jp(){return Ql||(Ql=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fu=new WeakMap,Kr=new WeakMap,hu=new WeakMap,br=new WeakMap,ko=new WeakMap;function Zp(n){const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{t(Mt(n.result)),i()},o=()=>{s(n.error),i()};n.addEventListener("success",r),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&fu.set(t,n)}).catch(()=>{}),ko.set(e,n),e}function e_(n){if(Kr.has(n))return;const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{s(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});Kr.set(n,e)}let Yr={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kr.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hu.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function t_(n){Yr=n(Yr)}function n_(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Cr(this),e,...t);return hu.set(s,e.sort?e.sort():[e]),Mt(s)}:Jp().includes(n)?function(...e){return n.apply(Cr(this),e),Mt(fu.get(this))}:function(...e){return Mt(n.apply(Cr(this),e))}}function s_(n){return typeof n=="function"?n_(n):(n instanceof IDBTransaction&&e_(n),Qp(n,Xp())?new Proxy(n,Yr):n)}function Mt(n){if(n instanceof IDBRequest)return Zp(n);if(br.has(n))return br.get(n);const e=s_(n);return e!==n&&(br.set(n,e),ko.set(e,n)),e}const Cr=n=>ko.get(n);function i_(n,e,{blocked:t,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(n,e),l=Mt(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Mt(o.result),c.oldVersion,c.newVersion,Mt(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",a=>i(a.oldVersion,a.newVersion,a))}).catch(()=>{}),l}const r_=["get","getKey","getAll","getAllKeys","count"],o_=["put","add","delete","clear"],Ir=new Map;function Xl(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ir.get(e))return Ir.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,i=o_.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(i||r_.includes(t)))return;const r=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let a=c.store;return s&&(a=a.index(l.shift())),(await Promise.all([a[t](...l),i&&c.done]))[0]};return Ir.set(e,r),r}t_(n=>({...n,get:(e,t,s)=>Xl(e,t)||n.get(e,t,s),has:(e,t)=>!!Xl(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(c_(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function c_(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qr="@firebase/app",Jl="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et=new uu("@firebase/app"),a_="@firebase/app-compat",u_="@firebase/analytics-compat",f_="@firebase/analytics",h_="@firebase/app-check-compat",d_="@firebase/app-check",p_="@firebase/auth",__="@firebase/auth-compat",x_="@firebase/database",g_="@firebase/data-connect",m_="@firebase/database-compat",y_="@firebase/functions",v_="@firebase/functions-compat",b_="@firebase/installations",C_="@firebase/installations-compat",I_="@firebase/messaging",E_="@firebase/messaging-compat",w_="@firebase/performance",S_="@firebase/performance-compat",T_="@firebase/remote-config",N_="@firebase/remote-config-compat",R_="@firebase/storage",A_="@firebase/storage-compat",P_="@firebase/firestore",k_="@firebase/vertexai",O_="@firebase/firestore-compat",D_="firebase",M_="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]",F_={[qr]:"fire-core",[a_]:"fire-core-compat",[f_]:"fire-analytics",[u_]:"fire-analytics-compat",[d_]:"fire-app-check",[h_]:"fire-app-check-compat",[p_]:"fire-auth",[__]:"fire-auth-compat",[x_]:"fire-rtdb",[g_]:"fire-data-connect",[m_]:"fire-rtdb-compat",[y_]:"fire-fn",[v_]:"fire-fn-compat",[b_]:"fire-iid",[C_]:"fire-iid-compat",[I_]:"fire-fcm",[E_]:"fire-fcm-compat",[w_]:"fire-perf",[S_]:"fire-perf-compat",[T_]:"fire-rc",[N_]:"fire-rc-compat",[R_]:"fire-gcs",[A_]:"fire-gcs-compat",[P_]:"fire-fst",[O_]:"fire-fst-compat",[k_]:"fire-vertex","fire-js":"fire-js",[D_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Map,L_=new Map,Xr=new Map;function Zl(n,e){try{n.container.addComponent(e)}catch(t){Et.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ri(n){const e=n.name;if(Xr.has(e))return Et.debug(`There were multiple attempts to register component ${e}.`),!1;Xr.set(e,n);for(const t of ii.values())Zl(t,n);for(const t of L_.values())Zl(t,n);return!0}function B_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function W_(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ft=new cu("app","Firebase",U_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=M_;function du(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Qr,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Ft.create("bad-app-name",{appName:String(i)});if(t||(t=ou()),!t)throw Ft.create("no-options");const r=ii.get(i);if(r){if(si(t,r.options)&&si(s,r.config))return r;throw Ft.create("duplicate-app",{appName:i})}const o=new zp(i);for(const c of Xr.values())o.addComponent(c);const l=new H_(t,s,o);return ii.set(i,l),l}function j_(n=Qr){const e=ii.get(n);if(!e&&n===Qr&&ou())return du();if(!e)throw Ft.create("no-app",{appName:n});return e}function yn(n,e,t){var s;let i=(s=F_[n])!==null&&s!==void 0?s:n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Et.warn(l.join(" "));return}ri(new ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="firebase-heartbeat-database",z_=1,ps="firebase-heartbeat-store";let Er=null;function pu(){return Er||(Er=i_(G_,z_,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ps)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ft.create("idb-open",{originalErrorMessage:n.message})})),Er}async function $_(n){try{const t=(await pu()).transaction(ps),s=await t.objectStore(ps).get(_u(n));return await t.done,s}catch(e){if(e instanceof Ss)Et.warn(e.message);else{const t=Ft.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Et.warn(t.message)}}}async function ec(n,e){try{const s=(await pu()).transaction(ps,"readwrite");await s.objectStore(ps).put(e,_u(n)),await s.done}catch(t){if(t instanceof Ss)Et.warn(t.message);else{const s=Ft.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Et.warn(s.message)}}}function _u(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=1024,Y_=30;class q_{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new X_(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tc();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Y_){const o=J_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Et.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tc(),{heartbeatsToSend:s,unsentEntries:i}=Q_(this._heartbeatsCache.heartbeats),r=ti(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Et.warn(t),""}}}function tc(){return new Date().toISOString().substring(0,10)}function Q_(n,e=K_){const t=[];let s=n.slice();for(const i of n){const r=t.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),nc(t)>e){r.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),nc(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class X_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kp()?Op().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $_(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ec(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ec(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nc(n){return ti(JSON.stringify({version:2,heartbeats:n})).length}function J_(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n){ri(new ds("platform-logger",e=>new l_(e),"PRIVATE")),ri(new ds("heartbeat",e=>new q_(e),"PRIVATE")),yn(qr,Jl,n),yn(qr,Jl,"esm2017"),yn("fire-js","")}Z_("");var e0="firebase",t0="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn(e0,t0,"app");var sc={};const ic="@firebase/database",rc="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu="";function n0(n){xu=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ee(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:hs(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Nt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new s0(e)}}catch{}return new i0},Xt=gu("localStorage"),r0=gu("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new uu("@firebase/database"),o0=function(){let n=1;return function(){return n++}}(),mu=function(n){const e=Hp(n),t=new Up;t.update(e);const s=t.digest();return Ao.encodeByteArray(s)},Ts=function(...n){let e="";for(let t=0;t<n.length;t++){const s=n[t];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ts.apply(null,s):typeof s=="object"?e+=Ee(s):e+=s,e+=" "}return e};let ns=null,oc=!0;const l0=function(n,e){k(!0,"Can't turn on custom loggers persistently."),vn.logLevel=de.VERBOSE,ns=vn.log.bind(vn)},Oe=function(...n){if(oc===!0&&(oc=!1,ns===null&&r0.get("logging_enabled")===!0&&l0()),ns){const e=Ts.apply(null,n);ns(e)}},Ns=function(n){return function(...e){Oe(n,...e)}},Jr=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ts(...n);vn.error(e)},wt=function(...n){const e=`FIREBASE FATAL ERROR: ${Ts(...n)}`;throw vn.error(e),new Error(e)},Ve=function(...n){const e="FIREBASE WARNING: "+Ts(...n);vn.warn(e)},c0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yu=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},a0=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},En="[MIN_NAME]",sn="[MAX_NAME]",Pn=function(n,e){if(n===e)return 0;if(n===En||e===sn)return-1;if(e===En||n===sn)return 1;{const t=lc(n),s=lc(e);return t!==null?s!==null?t-s===0?n.length-e.length:t-s:-1:s!==null?1:n<e?-1:1}},u0=function(n,e){return n===e?0:n<e?-1:1},Hn=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ee(e))},Oo=function(n){if(typeof n!="object"||n===null)return Ee(n);const e=[];for(const s in n)e.push(s);e.sort();let t="{";for(let s=0;s<e.length;s++)s!==0&&(t+=","),t+=Ee(e[s]),t+=":",t+=Oo(n[e[s]]);return t+="}",t},vu=function(n,e){const t=n.length;if(t<=e)return[n];const s=[];for(let i=0;i<t;i+=e)i+e>t?s.push(n.substring(i,t)):s.push(n.substring(i,i+e));return s};function je(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const bu=function(n){k(!yu(n),"Invalid JSON number");const e=11,t=52,s=(1<<e-1)-1;let i,r,o,l,c;n===0?(r=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),s),r=l+s,o=Math.round(n*Math.pow(2,t-l)-Math.pow(2,t))):(r=0,o=Math.round(n/Math.pow(2,1-s-t))));const a=[];for(c=t;c;c-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(i?1:0),a.reverse();const h=a.join("");let p="";for(c=0;c<64;c+=8){let y=parseInt(h.substr(c,8),2).toString(16);y.length===1&&(y="0"+y),p=p+y}return p.toLowerCase()},f0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},h0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function d0(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+t);return s.code=n.toUpperCase(),s}const p0=new RegExp("^-?(0*)\\d{1,10}$"),_0=-2147483648,x0=2147483647,lc=function(n){if(p0.test(n)){const e=Number(n);if(e>=_0&&e<=x0)return e}return null},kn=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Ve("Exception was thrown by user callback.",t),e},Math.floor(0))}},g0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ss=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,W_(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Ve(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,t,s){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Oe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ve(e)}}class zs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="5",Cu="v",Iu="s",Eu="r",wu="f",Su=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tu="ls",Nu="p",Zr="ac",Ru="websocket",Au="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t,s,i,r=!1,o="",l=!1,c=!1,a=null){this.secure=t,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xt.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function v0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function ku(n,e,t){k(typeof e=="string","typeof type must == string"),k(typeof t=="object","typeof params must == object");let s;if(e===Ru)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Au)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);v0(n)&&(t.ns=n.namespace);const i=[];return je(t,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.counters_={}}incrementCounter(e,t=1){Nt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return vp(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr={},Sr={};function Mo(n){const e=n.toString();return wr[e]||(wr[e]=new b0),wr[e]}function C0(n,e){const t=n.toString();return Sr[t]||(Sr[t]=e()),Sr[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&kn(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="start",E0="close",w0="pLPCommand",S0="pRTLPCB",Ou="id",Du="pw",Mu="ser",T0="cb",N0="seg",R0="ts",A0="d",P0="dframe",Fu=1870,Lu=30,k0=Fu-Lu,O0=25e3,D0=3e4;class pn{constructor(e,t,s,i,r,o,l){this.connId=e,this.repoInfo=t,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ns(e),this.stats_=Mo(t),this.urlFn=c=>(this.appCheckToken&&(c[Zr]=this.appCheckToken),ku(t,Au,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new I0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(D0)),a0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fo((...r)=>{const[o,l,c,a,h]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===cc)this.id=l,this.password=c;else if(o===E0)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const s={};s[cc]="t",s[Mu]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[T0]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Cu]=Do,this.transportSessionId&&(s[Iu]=this.transportSessionId),this.lastSessionId&&(s[Tu]=this.lastSessionId),this.applicationId&&(s[Nu]=this.applicationId),this.appCheckToken&&(s[Zr]=this.appCheckToken),typeof location<"u"&&location.hostname&&Su.test(location.hostname)&&(s[Eu]=wu);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pn.forceAllow_=!0}static forceDisallow(){pn.forceDisallow_=!0}static isAvailable(){return pn.forceAllow_?!0:!pn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!f0()&&!h0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ee(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=su(t),i=vu(s,k0);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const s={};s[P0]="t",s[Ou]=e,s[Du]=t,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ee(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Fo{constructor(e,t,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=o0(),window[w0+this.uniqueCallbackIdentifier]=e,window[S0+this.uniqueCallbackIdentifier]=t,this.myIFrame=Fo.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Oe("frame writing exception"),l.stack&&Oe(l.stack),Oe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Oe("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ou]=this.myID,e[Du]=this.myPW,e[Mu]=this.currentSerial;let t=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Lu+s.length<=Fu;){const o=this.pendingSegs.shift();s=s+"&"+N0+i+"="+o.seg+"&"+R0+i+"="+o.ts+"&"+A0+i+"="+o.d,i++}return t=t+s,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,s){this.pendingSegs.push({seg:e,ts:t,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const s=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(s,Math.floor(O0)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),t())},s.onerror=()=>{Oe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=16384,F0=45e3;let oi=null;typeof MozWebSocket<"u"?oi=MozWebSocket:typeof WebSocket<"u"&&(oi=WebSocket);class et{constructor(e,t,s,i,r,o,l){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ns(this.connId),this.stats_=Mo(t),this.connURL=et.connectionURL_(t,o,l,i,s),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,s,i,r){const o={};return o[Cu]=Do,typeof location<"u"&&location.hostname&&Su.test(location.hostname)&&(o[Eu]=wu),t&&(o[Iu]=t),s&&(o[Tu]=s),i&&(o[Zr]=i),r&&(o[Nu]=r),ku(e,Ru,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xt.set("previous_websocket_failure",!0);try{let s;Pp(),this.mySock=new oi(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){et.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(t);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&oi!==null&&!et.forceDisallow_}static previouslyFailed(){return Xt.isInMemoryStorage||Xt.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const s=hs(t);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(k(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const s=this.extractFrameCount_(t);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const t=Ee(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=vu(t,M0);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(F0))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}et.responsesRequiredToBeHealthy=2;et.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{static get ALL_TRANSPORTS(){return[pn,et]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=et&&et.isAvailable();let s=t&&!et.previouslyFailed();if(e.webSocketOnly&&(t||Ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[et];else{const i=this.transports_=[];for(const r of _s.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);_s.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_s.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=6e4,B0=5e3,W0=10*1024,U0=100*1024,Tr="t",ac="d",H0="s",uc="r",V0="e",fc="o",hc="a",dc="n",pc="p",j0="h";class G0{constructor(e,t,s,i,r,o,l,c,a,h){this.id=e,this.repoInfo_=t,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=a,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ns("c:"+this.id+":"),this.transportManager_=new _s(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ss(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>U0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>W0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tr in e){const t=e[Tr];t===hc?this.upgradeIfSecondaryHealthy_():t===uc?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===fc&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Hn("t",e),s=Hn("d",e);if(t==="c")this.onSecondaryControl_(s);else if(t==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:pc,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hc,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dc,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Hn("t",e),s=Hn("d",e);t==="c"?this.onControl_(s):t==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Hn(Tr,e);if(ac in e){const s=e[ac];if(t===j0){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===dc){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===H0?this.onConnectionShutdown_(s):t===uc?this.onReset_(s):t===V0?Jr("Server Error: "+s):t===fc?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jr("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Do!==s&&Ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,s),ss(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(L0))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ss(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(B0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:pc,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{put(e,t,s,i){}merge(e,t,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,s){}onDisconnectMerge(e,t,s){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.allowedEvents_=e,this.listeners_={},k(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,t)}}on(e,t,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:s});const i=this.getInitialEvent(e);i&&t.apply(s,i)}off(e,t,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){k(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Wu{static getInstance(){return new li}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return k(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=32,xc=768;class ae{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function te(){return new ae("")}function $(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Wt(n){return n.pieces_.length-n.pieceNum_}function pe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ae(n.pieces_,e)}function Uu(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function z0(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Hu(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Vu(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ae(e,0)}function we(n,e){const t=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)t.push(n.pieces_[s]);if(e instanceof ae)for(let s=e.pieceNum_;s<e.pieces_.length;s++)t.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&t.push(s[i])}return new ae(t,0)}function Y(n){return n.pieceNum_>=n.pieces_.length}function Be(n,e){const t=$(n),s=$(e);if(t===null)return e;if(t===s)return Be(pe(n),pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Lo(n,e){if(Wt(n)!==Wt(e))return!1;for(let t=n.pieceNum_,s=e.pieceNum_;t<=n.pieces_.length;t++,s++)if(n.pieces_[t]!==e.pieces_[s])return!1;return!0}function tt(n,e){let t=n.pieceNum_,s=e.pieceNum_;if(Wt(n)>Wt(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[s])return!1;++t,++s}return!0}class $0{constructor(e,t){this.errorPrefix_=t,this.parts_=Hu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Xi(this.parts_[s]);ju(this)}}function K0(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Xi(e),ju(n)}function Y0(n){const e=n.parts_.pop();n.byteLength_-=Xi(e),n.parts_.length>0&&(n.byteLength_-=1)}function ju(n){if(n.byteLength_>xc)throw new Error(n.errorPrefix_+"has a key path longer than "+xc+" bytes ("+n.byteLength_+").");if(n.parts_.length>_c)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_c+") or object contains a cycle "+Qt(n))}function Qt(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Wu{static getInstance(){return new Bo}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return k(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=1e3,q0=60*5*1e3,gc=30*1e3,Q0=1.3,X0=3e4,J0="server_kill",mc=3;class It extends Bu{constructor(e,t,s,i,r,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=It.nextPersistentConnectionId_++,this.log_=Ns("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vn,this.maxReconnectDelay_=q0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bo.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&li.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,s){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(Ee(r)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const t=new Qi,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?t.resolve(l):t.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:t,query:e,tag:s};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(s)})}sendListen_(e){const t=e.query,s=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const c=l.d,a=l.s;It.warnOnListenWarnings_(c,t),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",l),a!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(a,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Nt(e,"w")){const s=In(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();Ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Bp(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=gc)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Lp(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(t,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,s=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,s)})}unlisten(e,t){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,t)}sendUnlisten_(e,t,s,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:s})}onDisconnectMerge(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:s})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,s,i){const r={p:t,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,s,i){this.putInternal("p",e,t,s,i)}merge(e,t,s,i){this.putInternal("m",e,t,s,i)}putInternal(e,t,s,i,r){this.initConnection_();const o={p:t,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,s,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ee(e));const t=e.r,s=this.requestCBHash_[t];s&&(delete this.requestCBHash_[t],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Jr("Unrecognized action received from server: "+Ee(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>X0&&(this.reconnectDelay_=Vn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Q0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+It.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,s())},a=function(p){k(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:a};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,y]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Oe("getToken() completed but was canceled"):(Oe("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=y&&y.token,l=new G0(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,s,C=>{Ve(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(J0)},r))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Ve(p),c())}}}interrupt(e){Oe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Oe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Kl(this.interruptReasons_)&&(this.reconnectDelay_=Vn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let s;t?s=t.map(r=>Oo(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const s=new ae(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(t),r.delete(t),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,t){Oe("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=mc&&(this.reconnectDelay_=gc,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Oe("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=mc&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+xu.replace(/\./g,"-")]=1,lu()?e["framework.cordova"]=1:Ap()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=li.getInstance().currentlyOnline();return Kl(this.interruptReasons_)&&e}}It.nextPersistentConnectionId_=0;It.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new K(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const s=new K(En,e),i=new K(En,t);return this.compare(s,i)!==0}minPost(){return K.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs;class Gu extends Ji{static get __EMPTY_NODE(){return Bs}static set __EMPTY_NODE(e){Bs=e}compare(e,t){return Pn(e.name,t.name)}isDefinedOn(e){throw Rn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return K.MIN}maxPost(){return new K(sn,Bs)}makePost(e,t){return k(typeof e=="string","KeyIndex indexValue must always be a string."),new K(e,Bs)}toString(){return".key"}}const bn=new Gu;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?s(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Te{constructor(e,t,s,i,r){this.key=e,this.value=t,this.color=s??Te.RED,this.left=i??He.EMPTY_NODE,this.right=r??He.EMPTY_NODE}copy(e,t,s,i,r){return new Te(e??this.key,t??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,t,s),null):r===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return He.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let s,i;if(s=this,t(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),t(e,s.key)===0){if(s.right.isEmpty())return He.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Te.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Te.RED=!0;Te.BLACK=!1;class Z0{copy(e,t,s,i,r){return this}insert(e,t,s){return new Te(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class He{constructor(e,t=He.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new He(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Te.BLACK,null,null))}remove(e){return new He(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Te.BLACK,null,null))}get(e){let t,s=this.root_;for(;!s.isEmpty();){if(t=this.comparator_(e,s.key),t===0)return s.value;t<0?s=s.left:t>0&&(s=s.right)}return null}getPredecessorKey(e){let t,s=this.root_,i=null;for(;!s.isEmpty();)if(t=this.comparator_(e,s.key),t===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else t<0?s=s.left:t>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ws(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ws(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ws(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ws(this.root_,null,this.comparator_,!0,e)}}He.EMPTY_NODE=new Z0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(n,e){return Pn(n.name,e.name)}function Wo(n,e){return Pn(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo;function tx(n){eo=n}const zu=function(n){return typeof n=="number"?"number:"+bu(n):"string:"+n},$u=function(n){if(n.isLeafNode()){const e=n.val();k(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Nt(e,".sv"),"Priority must be a string or number.")}else k(n===eo||n.isEmpty(),"priority of unexpected type.");k(n===eo||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc;class Se{static set __childrenNodeConstructor(e){yc=e}static get __childrenNodeConstructor(){return yc}constructor(e,t=Se.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$u(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Se(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Se.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Y(e)?this:$(e)===".priority"?this.priorityNode_:Se.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Se.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const s=$(e);return s===null?t:t.isEmpty()&&s!==".priority"?this:(k(s!==".priority"||Wt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Se.__childrenNodeConstructor.EMPTY_NODE.updateChild(pe(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zu(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=bu(this.value_):e+=this.value_,this.lazyHash_=mu(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Se.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Se.__childrenNodeConstructor?-1:(k(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,s=typeof this.value_,i=Se.VALUE_TYPE_ORDER.indexOf(t),r=Se.VALUE_TYPE_ORDER.indexOf(s);return k(i>=0,"Unknown leaf type: "+t),k(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Se.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku,Yu;function nx(n){Ku=n}function sx(n){Yu=n}class ix extends Ji{compare(e,t){const s=e.node.getPriority(),i=t.node.getPriority(),r=s.compareTo(i);return r===0?Pn(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return K.MIN}maxPost(){return new K(sn,new Se("[PRIORITY-POST]",Yu))}makePost(e,t){const s=Ku(e);return new K(t,new Se("[PRIORITY-POST]",s))}toString(){return".priority"}}const me=new ix;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=Math.log(2);class ox{constructor(e){const t=r=>parseInt(Math.log(r)/rx,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ci=function(n,e,t,s){n.sort(e);const i=function(c,a){const h=a-c;let p,y;if(h===0)return null;if(h===1)return p=n[c],y=t?t(p):p,new Te(y,p.node,Te.BLACK,null,null);{const C=parseInt(h/2,10)+c,S=i(c,C),L=i(C+1,a);return p=n[C],y=t?t(p):p,new Te(y,p.node,Te.BLACK,S,L)}},r=function(c){let a=null,h=null,p=n.length;const y=function(S,L){const x=p-S,_=p;p-=S;const m=i(x+1,_),N=n[x],R=t?t(N):N;C(new Te(R,N.node,L,null,m))},C=function(S){a?(a.left=S,a=S):(h=S,a=S)};for(let S=0;S<c.count;++S){const L=c.nextBitIsOne(),x=Math.pow(2,c.count-(S+1));L?y(x,Te.BLACK):(y(x,Te.BLACK),y(x,Te.RED))}return h},o=new ox(n.length),l=r(o);return new He(s||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nr;const fn={};class Ct{static get Default(){return k(fn&&me,"ChildrenNode.ts has not been loaded"),Nr=Nr||new Ct({".priority":fn},{".priority":me}),Nr}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=In(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof He?t:null}hasIndex(e){return Nt(this.indexSet_,e.toString())}addIndex(e,t){k(e!==bn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=t.getIterator(K.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let l;i?l=ci(s,e.getCompare()):l=fn;const c=e.toString(),a=Object.assign({},this.indexSet_);a[c]=e;const h=Object.assign({},this.indexes_);return h[c]=l,new Ct(h,a)}addToIndexes(e,t){const s=ni(this.indexes_,(i,r)=>{const o=In(this.indexSet_,r);if(k(o,"Missing index implementation for "+r),i===fn)if(o.isDefinedOn(e.node)){const l=[],c=t.getIterator(K.Wrap);let a=c.getNext();for(;a;)a.name!==e.name&&l.push(a),a=c.getNext();return l.push(e),ci(l,o.getCompare())}else return fn;else{const l=t.get(e.name);let c=i;return l&&(c=c.remove(new K(e.name,l))),c.insert(e,e.node)}});return new Ct(s,this.indexSet_)}removeFromIndexes(e,t){const s=ni(this.indexes_,i=>{if(i===fn)return i;{const r=t.get(e.name);return r?i.remove(new K(e.name,r)):i}});return new Ct(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn;class H{static get EMPTY_NODE(){return jn||(jn=new H(new He(Wo),null,Ct.Default))}constructor(e,t,s){this.children_=e,this.priorityNode_=t,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&$u(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jn}updatePriority(e){return this.children_.isEmpty()?this:new H(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?jn:t}}getChild(e){const t=$(e);return t===null?this:this.getImmediateChild(t).getChild(pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(k(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const s=new K(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?jn:this.priorityNode_;return new H(i,o,r)}}updateChild(e,t){const s=$(e);if(s===null)return t;{k($(e)!==".priority"||Wt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(pe(e),t);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let s=0,i=0,r=!0;if(this.forEachChild(me,(o,l)=>{t[o]=l.val(e),s++,r&&H.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const l in t)o[l]=t[l];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+zu(this.getPriority().val())+":"),this.forEachChild(me,(t,s)=>{const i=s.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":mu(e)}return this.lazyHash_}getPredecessorChildName(e,t,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new K(e,t));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new K(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new K(t,this.children_.get(t)):null}forEachChild(e,t){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,K.Wrap);let r=i.peek();for(;r!=null&&t.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,K.Wrap);let r=i.peek();for(;r!=null&&t.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Rs?-1:0}withIndex(e){if(e===bn||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new H(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===bn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const s=this.getIterator(me),i=t.getIterator(me);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===bn?null:this.indexMap_.get(e.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lx extends H{constructor(){super(new He(Wo),H.EMPTY_NODE,Ct.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return H.EMPTY_NODE}isEmpty(){return!1}}const Rs=new lx;Object.defineProperties(K,{MIN:{value:new K(En,H.EMPTY_NODE)},MAX:{value:new K(sn,Rs)}});Gu.__EMPTY_NODE=H.EMPTY_NODE;Se.__childrenNodeConstructor=H;tx(Rs);sx(Rs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=!0;function Ne(n,e=null){if(n===null)return H.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),k(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Se(t,Ne(e))}if(!(n instanceof Array)&&cx){const t=[];let s=!1;if(je(n,(o,l)=>{if(o.substring(0,1)!=="."){const c=Ne(l);c.isEmpty()||(s=s||!c.getPriority().isEmpty(),t.push(new K(o,c)))}}),t.length===0)return H.EMPTY_NODE;const r=ci(t,ex,o=>o.name,Wo);if(s){const o=ci(t,me.getCompare());return new H(r,Ne(e),new Ct({".priority":o},{".priority":me}))}else return new H(r,Ne(e),Ct.Default)}else{let t=H.EMPTY_NODE;return je(n,(s,i)=>{if(Nt(n,s)&&s.substring(0,1)!=="."){const r=Ne(i);(r.isLeafNode()||!r.isEmpty())&&(t=t.updateImmediateChild(s,r))}}),t.updatePriority(Ne(e))}}nx(Ne);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax extends Ji{constructor(e){super(),this.indexPath_=e,k(!Y(e)&&$(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const s=this.extractChild(e.node),i=this.extractChild(t.node),r=s.compareTo(i);return r===0?Pn(e.name,t.name):r}makePost(e,t){const s=Ne(e),i=H.EMPTY_NODE.updateChild(this.indexPath_,s);return new K(t,i)}maxPost(){const e=H.EMPTY_NODE.updateChild(this.indexPath_,Rs);return new K(sn,e)}toString(){return Hu(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends Ji{compare(e,t){const s=e.node.compareTo(t.node);return s===0?Pn(e.name,t.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return K.MIN}maxPost(){return K.MAX}makePost(e,t){const s=Ne(e);return new K(t,s)}toString(){return".value"}}const fx=new ux;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){return{type:"value",snapshotNode:n}}function wn(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function xs(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function gs(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function hx(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.index_=e}updateChild(e,t,s,i,r,o){k(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(t);return l.getChild(i).equals(s.getChild(i))&&l.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(t)?o.trackChildChange(xs(t,l)):k(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(wn(t,s)):o.trackChildChange(gs(t,s,l))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(t,s).withIndex(this.index_)}updateFullNode(e,t,s){return s!=null&&(e.isLeafNode()||e.forEachChild(me,(i,r)=>{t.hasChild(i)||s.trackChildChange(xs(i,r))}),t.isLeafNode()||t.forEachChild(me,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(gs(i,r,o))}else s.trackChildChange(wn(i,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?H.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.indexedFilter_=new Uo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ms.getStartPost_(e),this.endPost_=ms.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&s}updateChild(e,t,s,i,r,o){return this.matches(new K(t,s))||(s=H.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,s,i,r,o)}updateFullNode(e,t,s){t.isLeafNode()&&(t=H.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(H.EMPTY_NODE);const r=this;return t.forEachChild(me,(o,l)=>{r.matches(new K(o,l))||(i=i.updateImmediateChild(o,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=t=>{const s=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new ms(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,s,i,r,o){return this.rangedFilter_.matches(new K(t,s))||(s=H.EMPTY_NODE),e.getImmediateChild(t).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,s,i,r,o):this.fullLimitUpdateChild_(e,t,s,r,o)}updateFullNode(e,t,s){let i;if(t.isLeafNode()||t.isEmpty())i=H.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=H.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(H.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,s,i,r){let o;if(this.reverse_){const p=this.index_.getCompare();o=(y,C)=>p(C,y)}else o=this.index_.getCompare();const l=e;k(l.numChildren()===this.limit_,"");const c=new K(t,s),a=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(l.hasChild(t)){const p=l.getImmediateChild(t);let y=i.getChildAfterChild(this.index_,a,this.reverse_);for(;y!=null&&(y.name===t||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);const C=y==null?1:o(y,c);if(h&&!s.isEmpty()&&C>=0)return r!=null&&r.trackChildChange(gs(t,s,p)),l.updateImmediateChild(t,s);{r!=null&&r.trackChildChange(xs(t,p));const L=l.updateImmediateChild(t,H.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(r!=null&&r.trackChildChange(wn(y.name,y.node)),L.updateImmediateChild(y.name,y.node)):L}}else return s.isEmpty()?e:h&&o(a,c)>=0?(r!=null&&(r.trackChildChange(xs(a.name,a.node)),r.trackChildChange(wn(t,s))),l.updateImmediateChild(t,s).updateImmediateChild(a.name,H.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:En}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===me}copy(){const e=new Ho;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function px(n){return n.loadsAllData()?new Uo(n.getIndex()):n.hasLimit()?new dx(n):new ms(n)}function vc(n){const e={};if(n.isDefault())return e;let t;if(n.index_===me?t="$priority":n.index_===fx?t="$value":n.index_===bn?t="$key":(k(n.index_ instanceof ax,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ee(t),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Ee(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Ee(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Ee(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Ee(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function bc(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==me&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Bu{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(k(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Ns("p:rest:"),this.listens_={}}listen(e,t,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=ai.getListenId_(e,s),l={};this.listens_[o]=l;const c=vc(e._queryParams);this.restRequest_(r+".json",c,(a,h)=>{let p=h;if(a===404&&(p=null,a=null),a===null&&this.onDataUpdate_(r,p,!1,s),In(this.listens_,o)===l){let y;a?a===401?y="permission_denied":y="rest_error:"+a:y="ok",i(y,null)}})}unlisten(e,t){const s=ai.getListenId_(e,t);delete this.listens_[s]}get(e){const t=vc(e._queryParams),s=e._path.toString(),i=new Qi;return this.restRequest_(s+".json",t,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(s,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},s){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(t.auth=i.accessToken),r&&r.token&&(t.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wp(t);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(s&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=hs(l.responseText)}catch{Ve("Failed to parse JSON response for "+o+": "+l.responseText)}s(null,c)}else l.status!==401&&l.status!==404&&Ve("Got unsuccessful REST response for "+o+" Status: "+l.status),s(l.status);s=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return{value:null,children:new Map}}function Qu(n,e,t){if(Y(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const s=$(e);n.children.has(s)||n.children.set(s,ui());const i=n.children.get(s);e=pe(e),Qu(i,e,t)}}function to(n,e,t){n.value!==null?t(e,n.value):xx(n,(s,i)=>{const r=new ae(e.toString()+"/"+s);to(i,r,t)})}function xx(n,e){n.children.forEach((t,s)=>{e(s,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&je(this.last_,(s,i)=>{t[s]=t[s]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=10*1e3,mx=30*1e3,yx=5*60*1e3;class vx{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new gx(e);const s=Cc+(mx-Cc)*Math.random();ss(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),t={};let s=!1;je(e,(i,r)=>{r>0&&Nt(this.statsToReport_,i)&&(t[i]=r,s=!0)}),s&&this.server_.reportStats(t),ss(this.reportStats_.bind(this),Math.floor(Math.random()*2*yx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(nt||(nt={}));function Xu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vo(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jo(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t,s){this.path=e,this.affectedTree=t,this.revert=s,this.type=nt.ACK_USER_WRITE,this.source=Xu()}operationForChild(e){if(Y(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ae(e));return new fi(te(),t,this.revert)}}else return k($(this.path)===e,"operationForChild called for unrelated child."),new fi(pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){this.source=e,this.path=t,this.type=nt.LISTEN_COMPLETE}operationForChild(e){return Y(this.path)?new ys(this.source,te()):new ys(this.source,pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,s){this.source=e,this.path=t,this.snap=s,this.type=nt.OVERWRITE}operationForChild(e){return Y(this.path)?new rn(this.source,te(),this.snap.getImmediateChild(e)):new rn(this.source,pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,s){this.source=e,this.path=t,this.children=s,this.type=nt.MERGE}operationForChild(e){if(Y(this.path)){const t=this.children.subtree(new ae(e));return t.isEmpty()?null:t.value?new rn(this.source,te(),t.value):new vs(this.source,te(),t)}else return k($(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vs(this.source,pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t,s){this.node_=e,this.fullyInitialized_=t,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;const t=$(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Cx(n,e,t,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(hx(o.childName,o.snapshotNode))}),Gn(n,i,"child_removed",e,s,t),Gn(n,i,"child_added",e,s,t),Gn(n,i,"child_moved",r,s,t),Gn(n,i,"child_changed",e,s,t),Gn(n,i,"value",e,s,t),i}function Gn(n,e,t,s,i,r){const o=s.filter(l=>l.type===t);o.sort((l,c)=>Ex(n,l,c)),o.forEach(l=>{const c=Ix(n,l,r);i.forEach(a=>{a.respondsTo(l.type)&&e.push(a.createEvent(c,n.query_))})})}function Ix(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function Ex(n,e,t){if(e.childName==null||t.childName==null)throw Rn("Should only compare child_ events.");const s=new K(e.childName,e.snapshotNode),i=new K(t.childName,t.snapshotNode);return n.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(n,e){return{eventCache:n,serverCache:e}}function is(n,e,t,s){return Zi(new Ut(e,t,s),n.serverCache)}function Ju(n,e,t,s){return Zi(n.eventCache,new Ut(e,t,s))}function hi(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function on(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr;const wx=()=>(Rr||(Rr=new He(u0)),Rr);class _e{static fromObject(e){let t=new _e(null);return je(e,(s,i)=>{t=t.set(new ae(s),i)}),t}constructor(e,t=wx()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:te(),value:this.value};if(Y(e))return null;{const s=$(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(pe(e),t);return r!=null?{path:we(new ae(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Y(e))return this;{const t=$(e),s=this.children.get(t);return s!==null?s.subtree(pe(e)):new _e(null)}}set(e,t){if(Y(e))return new _e(t,this.children);{const s=$(e),r=(this.children.get(s)||new _e(null)).set(pe(e),t),o=this.children.insert(s,r);return new _e(this.value,o)}}remove(e){if(Y(e))return this.children.isEmpty()?new _e(null):new _e(null,this.children);{const t=$(e),s=this.children.get(t);if(s){const i=s.remove(pe(e));let r;return i.isEmpty()?r=this.children.remove(t):r=this.children.insert(t,i),this.value===null&&r.isEmpty()?new _e(null):new _e(this.value,r)}else return this}}get(e){if(Y(e))return this.value;{const t=$(e),s=this.children.get(t);return s?s.get(pe(e)):null}}setTree(e,t){if(Y(e))return t;{const s=$(e),r=(this.children.get(s)||new _e(null)).setTree(pe(e),t);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new _e(this.value,o)}}fold(e){return this.fold_(te(),e)}fold_(e,t){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(we(e,i),t)}),t(e,this.value,s)}findOnPath(e,t){return this.findOnPath_(e,te(),t)}findOnPath_(e,t,s){const i=this.value?s(t,this.value):!1;if(i)return i;if(Y(e))return null;{const r=$(e),o=this.children.get(r);return o?o.findOnPath_(pe(e),we(t,r),s):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,te(),t)}foreachOnPath_(e,t,s){if(Y(e))return this;{this.value&&s(t,this.value);const i=$(e),r=this.children.get(i);return r?r.foreachOnPath_(pe(e),we(t,i),s):new _e(null)}}foreach(e){this.foreach_(te(),e)}foreach_(e,t){this.children.inorderTraversal((s,i)=>{i.foreach_(we(e,s),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,s)=>{s.value&&e(t,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.writeTree_=e}static empty(){return new it(new _e(null))}}function rs(n,e,t){if(Y(e))return new it(new _e(t));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Be(i,e);return r=r.updateChild(o,t),new it(n.writeTree_.set(i,r))}else{const i=new _e(t),r=n.writeTree_.setTree(e,i);return new it(r)}}}function Ic(n,e,t){let s=n;return je(t,(i,r)=>{s=rs(s,we(e,i),r)}),s}function Ec(n,e){if(Y(e))return it.empty();{const t=n.writeTree_.setTree(e,new _e(null));return new it(t)}}function no(n,e){return cn(n,e)!=null}function cn(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Be(t.path,e)):null}function wc(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(me,(s,i)=>{e.push(new K(s,i))}):n.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new K(s,i.value))}),e}function Lt(n,e){if(Y(e))return n;{const t=cn(n,e);return t!=null?new it(new _e(t)):new it(n.writeTree_.subtree(e))}}function so(n){return n.writeTree_.isEmpty()}function Sn(n,e){return Zu(te(),n.writeTree_,e)}function Zu(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(k(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):t=Zu(we(n,i),r,t)}),!t.getChild(n).isEmpty()&&s!==null&&(t=t.updateChild(we(n,".priority"),s)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n,e){return sf(e,n)}function Sx(n,e,t,s,i){k(s>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:s,visible:i}),i&&(n.visibleWrites=rs(n.visibleWrites,e,t)),n.lastWriteId=s}function Tx(n,e){for(let t=0;t<n.allWrites.length;t++){const s=n.allWrites[t];if(s.writeId===e)return s}return null}function Nx(n,e){const t=n.allWrites.findIndex(l=>l.writeId===e);k(t>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[t];n.allWrites.splice(t,1);let i=s.visible,r=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const l=n.allWrites[o];l.visible&&(o>=t&&Rx(l,s.path)?i=!1:tt(s.path,l.path)&&(r=!0)),o--}if(i){if(r)return Ax(n),!0;if(s.snap)n.visibleWrites=Ec(n.visibleWrites,s.path);else{const l=s.children;je(l,c=>{n.visibleWrites=Ec(n.visibleWrites,we(s.path,c))})}return!0}else return!1}function Rx(n,e){if(n.snap)return tt(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&tt(we(n.path,t),e))return!0;return!1}function Ax(n){n.visibleWrites=ef(n.allWrites,Px,te()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Px(n){return n.visible}function ef(n,e,t){let s=it.empty();for(let i=0;i<n.length;++i){const r=n[i];if(e(r)){const o=r.path;let l;if(r.snap)tt(t,o)?(l=Be(t,o),s=rs(s,l,r.snap)):tt(o,t)&&(l=Be(o,t),s=rs(s,te(),r.snap.getChild(l)));else if(r.children){if(tt(t,o))l=Be(t,o),s=Ic(s,l,r.children);else if(tt(o,t))if(l=Be(o,t),Y(l))s=Ic(s,te(),r.children);else{const c=In(r.children,$(l));if(c){const a=c.getChild(pe(l));s=rs(s,te(),a)}}}else throw Rn("WriteRecord should have .snap or .children")}}return s}function tf(n,e,t,s,i){if(!s&&!i){const r=cn(n.visibleWrites,e);if(r!=null)return r;{const o=Lt(n.visibleWrites,e);if(so(o))return t;if(t==null&&!no(o,te()))return null;{const l=t||H.EMPTY_NODE;return Sn(o,l)}}}else{const r=Lt(n.visibleWrites,e);if(!i&&so(r))return t;if(!i&&t==null&&!no(r,te()))return null;{const o=function(a){return(a.visible||i)&&(!s||!~s.indexOf(a.writeId))&&(tt(a.path,e)||tt(e,a.path))},l=ef(n.allWrites,o,e),c=t||H.EMPTY_NODE;return Sn(l,c)}}}function kx(n,e,t){let s=H.EMPTY_NODE;const i=cn(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(me,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(t){const r=Lt(n.visibleWrites,e);return t.forEachChild(me,(o,l)=>{const c=Sn(Lt(r,new ae(o)),l);s=s.updateImmediateChild(o,c)}),wc(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=Lt(n.visibleWrites,e);return wc(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function Ox(n,e,t,s,i){k(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=we(e,t);if(no(n.visibleWrites,r))return null;{const o=Lt(n.visibleWrites,r);return so(o)?i.getChild(t):Sn(o,i.getChild(t))}}function Dx(n,e,t,s){const i=we(e,t),r=cn(n.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(t)){const o=Lt(n.visibleWrites,i);return Sn(o,s.getNode().getImmediateChild(t))}else return null}function Mx(n,e){return cn(n.visibleWrites,e)}function Fx(n,e,t,s,i,r,o){let l;const c=Lt(n.visibleWrites,e),a=cn(c,te());if(a!=null)l=a;else if(t!=null)l=Sn(c,t);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],p=o.getCompare(),y=r?l.getReverseIteratorFrom(s,o):l.getIteratorFrom(s,o);let C=y.getNext();for(;C&&h.length<i;)p(C,s)!==0&&h.push(C),C=y.getNext();return h}else return[]}function Lx(){return{visibleWrites:it.empty(),allWrites:[],lastWriteId:-1}}function di(n,e,t,s){return tf(n.writeTree,n.treePath,e,t,s)}function Go(n,e){return kx(n.writeTree,n.treePath,e)}function Sc(n,e,t,s){return Ox(n.writeTree,n.treePath,e,t,s)}function pi(n,e){return Mx(n.writeTree,we(n.treePath,e))}function Bx(n,e,t,s,i,r){return Fx(n.writeTree,n.treePath,e,t,s,i,r)}function zo(n,e,t){return Dx(n.writeTree,n.treePath,e,t)}function nf(n,e){return sf(we(n.treePath,e),n.writeTree)}function sf(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,s=e.childName;k(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),k(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(t==="child_added"&&r==="child_removed")this.changeMap.set(s,gs(s,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(t==="child_removed"&&r==="child_changed")this.changeMap.set(s,xs(s,i.oldSnap));else if(t==="child_changed"&&r==="child_added")this.changeMap.set(s,wn(s,e.snapshotNode));else if(t==="child_changed"&&r==="child_changed")this.changeMap.set(s,gs(s,e.snapshotNode,i.oldSnap));else throw Rn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{getCompleteChild(e){return null}getChildAfterChild(e,t,s){return null}}const rf=new Ux;class $o{constructor(e,t,s=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=s}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Ut(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zo(this.writes_,e,s)}}getChildAfterChild(e,t,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:on(this.viewCache_),r=Bx(this.writes_,i,t,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(n){return{filter:n}}function Vx(n,e){k(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),k(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function jx(n,e,t,s,i){const r=new Wx;let o,l;if(t.type===nt.OVERWRITE){const a=t;a.source.fromUser?o=io(n,e,a.path,a.snap,s,i,r):(k(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered()&&!Y(a.path),o=_i(n,e,a.path,a.snap,s,i,l,r))}else if(t.type===nt.MERGE){const a=t;a.source.fromUser?o=zx(n,e,a.path,a.children,s,i,r):(k(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered(),o=ro(n,e,a.path,a.children,s,i,l,r))}else if(t.type===nt.ACK_USER_WRITE){const a=t;a.revert?o=Yx(n,e,a.path,s,i,r):o=$x(n,e,a.path,a.affectedTree,s,i,r)}else if(t.type===nt.LISTEN_COMPLETE)o=Kx(n,e,t.path,s,r);else throw Rn("Unknown operation type: "+t.type);const c=r.getChanges();return Gx(e,o,c),{viewCache:o,changes:c}}function Gx(n,e,t){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=hi(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&t.push(qu(hi(e)))}}function of(n,e,t,s,i,r){const o=e.eventCache;if(pi(s,t)!=null)return e;{let l,c;if(Y(t))if(k(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const a=on(e),h=a instanceof H?a:H.EMPTY_NODE,p=Go(s,h);l=n.filter.updateFullNode(e.eventCache.getNode(),p,r)}else{const a=di(s,on(e));l=n.filter.updateFullNode(e.eventCache.getNode(),a,r)}else{const a=$(t);if(a===".priority"){k(Wt(t)===1,"Can't have a priority with additional path components");const h=o.getNode();c=e.serverCache.getNode();const p=Sc(s,t,h,c);p!=null?l=n.filter.updatePriority(h,p):l=o.getNode()}else{const h=pe(t);let p;if(o.isCompleteForChild(a)){c=e.serverCache.getNode();const y=Sc(s,t,o.getNode(),c);y!=null?p=o.getNode().getImmediateChild(a).updateChild(h,y):p=o.getNode().getImmediateChild(a)}else p=zo(s,a,e.serverCache);p!=null?l=n.filter.updateChild(o.getNode(),a,p,h,i,r):l=o.getNode()}}return is(e,l,o.isFullyInitialized()||Y(t),n.filter.filtersNodes())}}function _i(n,e,t,s,i,r,o,l){const c=e.serverCache;let a;const h=o?n.filter:n.filter.getIndexedFilter();if(Y(t))a=h.updateFullNode(c.getNode(),s,null);else if(h.filtersNodes()&&!c.isFiltered()){const C=c.getNode().updateChild(t,s);a=h.updateFullNode(c.getNode(),C,null)}else{const C=$(t);if(!c.isCompleteForPath(t)&&Wt(t)>1)return e;const S=pe(t),x=c.getNode().getImmediateChild(C).updateChild(S,s);C===".priority"?a=h.updatePriority(c.getNode(),x):a=h.updateChild(c.getNode(),C,x,S,rf,null)}const p=Ju(e,a,c.isFullyInitialized()||Y(t),h.filtersNodes()),y=new $o(i,p,r);return of(n,p,t,i,y,l)}function io(n,e,t,s,i,r,o){const l=e.eventCache;let c,a;const h=new $o(i,e,r);if(Y(t))a=n.filter.updateFullNode(e.eventCache.getNode(),s,o),c=is(e,a,!0,n.filter.filtersNodes());else{const p=$(t);if(p===".priority")a=n.filter.updatePriority(e.eventCache.getNode(),s),c=is(e,a,l.isFullyInitialized(),l.isFiltered());else{const y=pe(t),C=l.getNode().getImmediateChild(p);let S;if(Y(y))S=s;else{const L=h.getCompleteChild(p);L!=null?Uu(y)===".priority"&&L.getChild(Vu(y)).isEmpty()?S=L:S=L.updateChild(y,s):S=H.EMPTY_NODE}if(C.equals(S))c=e;else{const L=n.filter.updateChild(l.getNode(),p,S,y,h,o);c=is(e,L,l.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function Tc(n,e){return n.eventCache.isCompleteForChild(e)}function zx(n,e,t,s,i,r,o){let l=e;return s.foreach((c,a)=>{const h=we(t,c);Tc(e,$(h))&&(l=io(n,l,h,a,i,r,o))}),s.foreach((c,a)=>{const h=we(t,c);Tc(e,$(h))||(l=io(n,l,h,a,i,r,o))}),l}function Nc(n,e,t){return t.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function ro(n,e,t,s,i,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,a;Y(t)?a=s:a=new _e(null).setTree(t,s);const h=e.serverCache.getNode();return a.children.inorderTraversal((p,y)=>{if(h.hasChild(p)){const C=e.serverCache.getNode().getImmediateChild(p),S=Nc(n,C,y);c=_i(n,c,new ae(p),S,i,r,o,l)}}),a.children.inorderTraversal((p,y)=>{const C=!e.serverCache.isCompleteForChild(p)&&y.value===null;if(!h.hasChild(p)&&!C){const S=e.serverCache.getNode().getImmediateChild(p),L=Nc(n,S,y);c=_i(n,c,new ae(p),L,i,r,o,l)}}),c}function $x(n,e,t,s,i,r,o){if(pi(i,t)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(s.value!=null){if(Y(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return _i(n,e,t,c.getNode().getChild(t),i,r,l,o);if(Y(t)){let a=new _e(null);return c.getNode().forEachChild(bn,(h,p)=>{a=a.set(new ae(h),p)}),ro(n,e,t,a,i,r,l,o)}else return e}else{let a=new _e(null);return s.foreach((h,p)=>{const y=we(t,h);c.isCompleteForPath(y)&&(a=a.set(h,c.getNode().getChild(y)))}),ro(n,e,t,a,i,r,l,o)}}function Kx(n,e,t,s,i){const r=e.serverCache,o=Ju(e,r.getNode(),r.isFullyInitialized()||Y(t),r.isFiltered());return of(n,o,t,s,rf,i)}function Yx(n,e,t,s,i,r){let o;if(pi(s,t)!=null)return e;{const l=new $o(s,e,i),c=e.eventCache.getNode();let a;if(Y(t)||$(t)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=di(s,on(e));else{const p=e.serverCache.getNode();k(p instanceof H,"serverChildren would be complete if leaf node"),h=Go(s,p)}h=h,a=n.filter.updateFullNode(c,h,r)}else{const h=$(t);let p=zo(s,h,e.serverCache);p==null&&e.serverCache.isCompleteForChild(h)&&(p=c.getImmediateChild(h)),p!=null?a=n.filter.updateChild(c,h,p,pe(t),l,r):e.eventCache.getNode().hasChild(h)?a=n.filter.updateChild(c,h,H.EMPTY_NODE,pe(t),l,r):a=c,a.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=di(s,on(e)),o.isLeafNode()&&(a=n.filter.updateFullNode(a,o,r)))}return o=e.serverCache.isFullyInitialized()||pi(s,te())!=null,is(e,a,o,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Uo(s.getIndex()),r=px(s);this.processor_=Hx(r);const o=t.serverCache,l=t.eventCache,c=i.updateFullNode(H.EMPTY_NODE,o.getNode(),null),a=r.updateFullNode(H.EMPTY_NODE,l.getNode(),null),h=new Ut(c,o.isFullyInitialized(),i.filtersNodes()),p=new Ut(a,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=Zi(p,h),this.eventGenerator_=new bx(this.query_)}get query(){return this.query_}}function Qx(n){return n.viewCache_.serverCache.getNode()}function Xx(n){return hi(n.viewCache_)}function Jx(n,e){const t=on(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Y(e)&&!t.getImmediateChild($(e)).isEmpty())?t.getChild(e):null}function Rc(n){return n.eventRegistrations_.length===0}function Zx(n,e){n.eventRegistrations_.push(e)}function Ac(n,e,t){const s=[];if(t){k(e==null,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(t,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<n.eventRegistrations_.length;++r){const o=n.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return s}function Pc(n,e,t,s){e.type===nt.MERGE&&e.source.queryId!==null&&(k(on(n.viewCache_),"We should always have a full cache before handling merges"),k(hi(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,r=jx(n.processor_,i,e,t,s);return Vx(n.processor_,r.viewCache),k(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,lf(n,r.changes,r.viewCache.eventCache.getNode(),null)}function eg(n,e){const t=n.viewCache_.eventCache,s=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(me,(r,o)=>{s.push(wn(r,o))}),t.isFullyInitialized()&&s.push(qu(t.getNode())),lf(n,s,t.getNode(),e)}function lf(n,e,t,s){const i=s?[s]:n.eventRegistrations_;return Cx(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xi;class cf{constructor(){this.views=new Map}}function tg(n){k(!xi,"__referenceConstructor has already been defined"),xi=n}function ng(){return k(xi,"Reference.ts has not been loaded"),xi}function sg(n){return n.views.size===0}function Ko(n,e,t,s){const i=e.source.queryId;if(i!==null){const r=n.views.get(i);return k(r!=null,"SyncTree gave us an op for an invalid query."),Pc(r,e,t,s)}else{let r=[];for(const o of n.views.values())r=r.concat(Pc(o,e,t,s));return r}}function af(n,e,t,s,i){const r=e._queryIdentifier,o=n.views.get(r);if(!o){let l=di(t,i?s:null),c=!1;l?c=!0:s instanceof H?(l=Go(t,s),c=!1):(l=H.EMPTY_NODE,c=!1);const a=Zi(new Ut(l,c,!1),new Ut(s,i,!1));return new qx(e,a)}return o}function ig(n,e,t,s,i,r){const o=af(n,e,s,i,r);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),Zx(o,t),eg(o,t)}function rg(n,e,t,s){const i=e._queryIdentifier,r=[];let o=[];const l=Ht(n);if(i==="default")for(const[c,a]of n.views.entries())o=o.concat(Ac(a,t,s)),Rc(a)&&(n.views.delete(c),a.query._queryParams.loadsAllData()||r.push(a.query));else{const c=n.views.get(i);c&&(o=o.concat(Ac(c,t,s)),Rc(c)&&(n.views.delete(i),c.query._queryParams.loadsAllData()||r.push(c.query)))}return l&&!Ht(n)&&r.push(new(ng())(e._repo,e._path)),{removed:r,events:o}}function uf(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Bt(n,e){let t=null;for(const s of n.views.values())t=t||Jx(s,e);return t}function ff(n,e){if(e._queryParams.loadsAllData())return tr(n);{const s=e._queryIdentifier;return n.views.get(s)}}function hf(n,e){return ff(n,e)!=null}function Ht(n){return tr(n)!=null}function tr(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi;function og(n){k(!gi,"__referenceConstructor has already been defined"),gi=n}function lg(){return k(gi,"Reference.ts has not been loaded"),gi}let cg=1;class kc{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _e(null),this.pendingWriteTree_=Lx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function df(n,e,t,s,i){return Sx(n.pendingWriteTree_,e,t,s,i),i?Ps(n,new rn(Xu(),e,t)):[]}function Jt(n,e,t=!1){const s=Tx(n.pendingWriteTree_,e);if(Nx(n.pendingWriteTree_,e)){let r=new _e(null);return s.snap!=null?r=r.set(te(),!0):je(s.children,o=>{r=r.set(new ae(o),!0)}),Ps(n,new fi(s.path,r,t))}else return[]}function As(n,e,t){return Ps(n,new rn(Vo(),e,t))}function ag(n,e,t){const s=_e.fromObject(t);return Ps(n,new vs(Vo(),e,s))}function ug(n,e){return Ps(n,new ys(Vo(),e))}function fg(n,e,t){const s=qo(n,t);if(s){const i=Qo(s),r=i.path,o=i.queryId,l=Be(r,e),c=new ys(jo(o),l);return Xo(n,r,c)}else return[]}function mi(n,e,t,s,i=!1){const r=e._path,o=n.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||hf(o,e))){const c=rg(o,e,t,s);sg(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const a=c.removed;if(l=c.events,!i){const h=a.findIndex(y=>y._queryParams.loadsAllData())!==-1,p=n.syncPointTree_.findOnPath(r,(y,C)=>Ht(C));if(h&&!p){const y=n.syncPointTree_.subtree(r);if(!y.isEmpty()){const C=pg(y);for(let S=0;S<C.length;++S){const L=C[S],x=L.query,_=gf(n,L);n.listenProvider_.startListening(os(x),bs(n,x),_.hashFn,_.onComplete)}}}!p&&a.length>0&&!s&&(h?n.listenProvider_.stopListening(os(e),null):a.forEach(y=>{const C=n.queryToTagMap.get(nr(y));n.listenProvider_.stopListening(os(y),C)}))}_g(n,a)}return l}function pf(n,e,t,s){const i=qo(n,s);if(i!=null){const r=Qo(i),o=r.path,l=r.queryId,c=Be(o,e),a=new rn(jo(l),c,t);return Xo(n,o,a)}else return[]}function hg(n,e,t,s){const i=qo(n,s);if(i){const r=Qo(i),o=r.path,l=r.queryId,c=Be(o,e),a=_e.fromObject(t),h=new vs(jo(l),c,a);return Xo(n,o,h)}else return[]}function oo(n,e,t,s=!1){const i=e._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(i,(y,C)=>{const S=Be(y,i);r=r||Bt(C,S),o=o||Ht(C)});let l=n.syncPointTree_.get(i);l?(o=o||Ht(l),r=r||Bt(l,te())):(l=new cf,n.syncPointTree_=n.syncPointTree_.set(i,l));let c;r!=null?c=!0:(c=!1,r=H.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((C,S)=>{const L=Bt(S,te());L&&(r=r.updateImmediateChild(C,L))}));const a=hf(l,e);if(!a&&!e._queryParams.loadsAllData()){const y=nr(e);k(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const C=xg();n.queryToTagMap.set(y,C),n.tagToQueryMap.set(C,y)}const h=er(n.pendingWriteTree_,i);let p=ig(l,e,t,h,r,c);if(!a&&!o&&!s){const y=ff(l,e);p=p.concat(gg(n,e,y))}return p}function Yo(n,e,t){const i=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(e,(o,l)=>{const c=Be(o,e),a=Bt(l,c);if(a)return a});return tf(i,e,r,t,!0)}function dg(n,e){const t=e._path;let s=null;n.syncPointTree_.foreachOnPath(t,(a,h)=>{const p=Be(a,t);s=s||Bt(h,p)});let i=n.syncPointTree_.get(t);i?s=s||Bt(i,te()):(i=new cf,n.syncPointTree_=n.syncPointTree_.set(t,i));const r=s!=null,o=r?new Ut(s,!0,!1):null,l=er(n.pendingWriteTree_,e._path),c=af(i,e,l,r?o.getNode():H.EMPTY_NODE,r);return Xx(c)}function Ps(n,e){return _f(e,n.syncPointTree_,null,er(n.pendingWriteTree_,te()))}function _f(n,e,t,s){if(Y(n.path))return xf(n,e,t,s);{const i=e.get(te());t==null&&i!=null&&(t=Bt(i,te()));let r=[];const o=$(n.path),l=n.operationForChild(o),c=e.children.get(o);if(c&&l){const a=t?t.getImmediateChild(o):null,h=nf(s,o);r=r.concat(_f(l,c,a,h))}return i&&(r=r.concat(Ko(i,n,s,t))),r}}function xf(n,e,t,s){const i=e.get(te());t==null&&i!=null&&(t=Bt(i,te()));let r=[];return e.children.inorderTraversal((o,l)=>{const c=t?t.getImmediateChild(o):null,a=nf(s,o),h=n.operationForChild(o);h&&(r=r.concat(xf(h,l,c,a)))}),i&&(r=r.concat(Ko(i,n,s,t))),r}function gf(n,e){const t=e.query,s=bs(n,t);return{hashFn:()=>(Qx(e)||H.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?fg(n,t._path,s):ug(n,t._path);{const r=d0(i,t);return mi(n,t,null,r)}}}}function bs(n,e){const t=nr(e);return n.queryToTagMap.get(t)}function nr(n){return n._path.toString()+"$"+n._queryIdentifier}function qo(n,e){return n.tagToQueryMap.get(e)}function Qo(n){const e=n.indexOf("$");return k(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ae(n.substr(0,e))}}function Xo(n,e,t){const s=n.syncPointTree_.get(e);k(s,"Missing sync point for query tag that we're tracking");const i=er(n.pendingWriteTree_,e);return Ko(s,t,i,null)}function pg(n){return n.fold((e,t,s)=>{if(t&&Ht(t))return[tr(t)];{let i=[];return t&&(i=uf(t)),je(s,(r,o)=>{i=i.concat(o)}),i}})}function os(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(lg())(n._repo,n._path):n}function _g(n,e){for(let t=0;t<e.length;++t){const s=e[t];if(!s._queryParams.loadsAllData()){const i=nr(s),r=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(r)}}}function xg(){return cg++}function gg(n,e,t){const s=e._path,i=bs(n,e),r=gf(n,t),o=n.listenProvider_.startListening(os(e),i,r.hashFn,r.onComplete),l=n.syncPointTree_.subtree(s);if(i)k(!Ht(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((a,h,p)=>{if(!Y(a)&&h&&Ht(h))return[tr(h).query];{let y=[];return h&&(y=y.concat(uf(h).map(C=>C.query))),je(p,(C,S)=>{y=y.concat(S)}),y}});for(let a=0;a<c.length;++a){const h=c[a];n.listenProvider_.stopListening(os(h),bs(n,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Jo(t)}node(){return this.node_}}class Zo{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=we(this.path_,e);return new Zo(this.syncTree_,t)}node(){return Yo(this.syncTree_,this.path_)}}const mg=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Oc=function(n,e,t){if(!n||typeof n!="object")return n;if(k(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return yg(n[".sv"],e,t);if(typeof n[".sv"]=="object")return vg(n[".sv"],e);k(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},yg=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:k(!1,"Unexpected server value: "+n)}},vg=function(n,e,t){n.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&k(!1,"Unexpected increment value: "+s);const i=e.node();if(k(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},bg=function(n,e,t,s){return el(e,new Zo(t,n),s)},mf=function(n,e,t){return el(n,new Jo(e),t)};function el(n,e,t){const s=n.getPriority().val(),i=Oc(s,e.getImmediateChild(".priority"),t);let r;if(n.isLeafNode()){const o=n,l=Oc(o.getValue(),e,t);return l!==o.getValue()||i!==o.getPriority().val()?new Se(l,Ne(i)):n}else{const o=n;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new Se(i))),o.forEachChild(me,(l,c)=>{const a=el(c,e.getImmediateChild(l),t);a!==c&&(r=r.updateImmediateChild(l,a))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e="",t=null,s={children:{},childCount:0}){this.name=e,this.parent=t,this.node=s}}function nl(n,e){let t=e instanceof ae?e:new ae(e),s=n,i=$(t);for(;i!==null;){const r=In(s.node.children,i)||{children:{},childCount:0};s=new tl(i,s,r),t=pe(t),i=$(t)}return s}function On(n){return n.node.value}function yf(n,e){n.node.value=e,lo(n)}function vf(n){return n.node.childCount>0}function Cg(n){return On(n)===void 0&&!vf(n)}function sr(n,e){je(n.node.children,(t,s)=>{e(new tl(t,n,s))})}function bf(n,e,t,s){t&&e(n),sr(n,i=>{bf(i,e,!0)})}function Ig(n,e,t){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function ks(n){return new ae(n.parent===null?n.name:ks(n.parent)+"/"+n.name)}function lo(n){n.parent!==null&&Eg(n.parent,n.name,n)}function Eg(n,e,t){const s=Cg(t),i=Nt(n.node.children,e);s&&i?(delete n.node.children[e],n.node.childCount--,lo(n)):!s&&!i&&(n.node.children[e]=t.node,n.node.childCount++,lo(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=/[\[\].#$\/\u0000-\u001F\u007F]/,Sg=/[\[\].#$\u0000-\u001F\u007F]/,Ar=10*1024*1024,Cf=function(n){return typeof n=="string"&&n.length!==0&&!wg.test(n)},If=function(n){return typeof n=="string"&&n.length!==0&&!Sg.test(n)},Tg=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),If(n)},Ng=function(n,e,t,s){sl(Po(n,"value"),e,t)},sl=function(n,e,t){const s=t instanceof ae?new $0(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Qt(s));if(typeof e=="function")throw new Error(n+"contains a function "+Qt(s)+" with contents = "+e.toString());if(yu(e))throw new Error(n+"contains "+e.toString()+" "+Qt(s));if(typeof e=="string"&&e.length>Ar/3&&Xi(e)>Ar)throw new Error(n+"contains a string greater than "+Ar+" utf8 bytes "+Qt(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(je(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Cf(o)))throw new Error(n+" contains an invalid key ("+o+") "+Qt(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);K0(s,o),sl(n,l,s),Y0(s)}),i&&r)throw new Error(n+' contains ".value" child '+Qt(s)+" in addition to actual children.")}},Ef=function(n,e,t,s){if(!If(t))throw new Error(Po(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Rg=function(n,e,t,s){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ef(n,e,t)},wf=function(n,e){if($(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},Ag=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Cf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Tg(t))throw new Error(Po(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function il(n,e){let t=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();t!==null&&!Lo(r,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:r}),t.events.push(i)}t&&n.eventLists_.push(t)}function Sf(n,e,t){il(n,t),Tf(n,s=>Lo(s,e))}function _t(n,e,t){il(n,t),Tf(n,s=>tt(s,e)||tt(e,s))}function Tf(n,e){n.recursionDepth_++;let t=!0;for(let s=0;s<n.eventLists_.length;s++){const i=n.eventLists_[s];if(i){const r=i.path;e(r)?(kg(n.eventLists_[s]),n.eventLists_[s]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function kg(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const s=t.getEventRunner();ns&&Oe("event: "+t.toString()),kn(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="repo_interrupt",Dg=25;class Mg{constructor(e,t,s,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ui(),this.transactionQueueTree_=new tl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Fg(n,e,t){if(n.stats_=Mo(n.repoInfo_),n.forceRestClient_||g0())n.server_=new ai(n.repoInfo_,(s,i,r,o)=>{Dc(n,s,i,r,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Mc(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ee(t)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new It(n.repoInfo_,e,(s,i,r,o)=>{Dc(n,s,i,r,o)},s=>{Mc(n,s)},s=>{Bg(n,s)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=C0(n.repoInfo_,()=>new vx(n.stats_,n.server_)),n.infoData_=new _x,n.infoSyncTree_=new kc({startListening:(s,i,r,o)=>{let l=[];const c=n.infoData_.getNode(s._path);return c.isEmpty()||(l=As(n.infoSyncTree_,s._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ol(n,"connected",!1),n.serverSyncTree_=new kc({startListening:(s,i,r,o)=>(n.server_.listen(s,r,i,(l,c)=>{const a=o(l,c);_t(n.eventQueue_,s._path,a)}),[]),stopListening:(s,i)=>{n.server_.unlisten(s,i)}})}function Lg(n){const t=n.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function rl(n){return mg({timestamp:Lg(n)})}function Dc(n,e,t,s,i){n.dataUpdateCount++;const r=new ae(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(s){const c=ni(t,a=>Ne(a));o=hg(n.serverSyncTree_,r,c,i)}else{const c=Ne(t);o=pf(n.serverSyncTree_,r,c,i)}else if(s){const c=ni(t,a=>Ne(a));o=ag(n.serverSyncTree_,r,c)}else{const c=Ne(t);o=As(n.serverSyncTree_,r,c)}let l=r;o.length>0&&(l=rr(n,r)),_t(n.eventQueue_,l,o)}function Mc(n,e){ol(n,"connected",e),e===!1&&Hg(n)}function Bg(n,e){je(e,(t,s)=>{ol(n,t,s)})}function ol(n,e,t){const s=new ae("/.info/"+e),i=Ne(t);n.infoData_.updateSnapshot(s,i);const r=As(n.infoSyncTree_,s,i);_t(n.eventQueue_,s,r)}function Nf(n){return n.nextWriteId_++}function Wg(n,e,t){const s=dg(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(i=>{const r=Ne(i).withIndex(e._queryParams.getIndex());oo(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=As(n.serverSyncTree_,e._path,r);else{const l=bs(n.serverSyncTree_,e);o=pf(n.serverSyncTree_,e._path,r,l)}return _t(n.eventQueue_,e._path,o),mi(n.serverSyncTree_,e,t,null,!0),r},i=>(ir(n,"get for query "+Ee(e)+" failed: "+i),Promise.reject(new Error(i))))}function Ug(n,e,t,s,i){ir(n,"set",{path:e.toString(),value:t,priority:s});const r=rl(n),o=Ne(t,s),l=Yo(n.serverSyncTree_,e),c=mf(o,l,r),a=Nf(n),h=df(n.serverSyncTree_,e,c,a,!0);il(n.eventQueue_,h),n.server_.put(e.toString(),o.val(!0),(y,C)=>{const S=y==="ok";S||Ve("set at "+e+" failed: "+y);const L=Jt(n.serverSyncTree_,a,!S);_t(n.eventQueue_,e,L),Gg(n,i,y,C)});const p=Of(n,e);rr(n,p),_t(n.eventQueue_,p,[])}function Hg(n){ir(n,"onDisconnectEvents");const e=rl(n),t=ui();to(n.onDisconnect_,te(),(i,r)=>{const o=bg(i,r,n.serverSyncTree_,e);Qu(t,i,o)});let s=[];to(t,te(),(i,r)=>{s=s.concat(As(n.serverSyncTree_,i,r));const o=Of(n,i);rr(n,o)}),n.onDisconnect_=ui(),_t(n.eventQueue_,te(),s)}function Vg(n,e,t){let s;$(e._path)===".info"?s=oo(n.infoSyncTree_,e,t):s=oo(n.serverSyncTree_,e,t),Sf(n.eventQueue_,e._path,s)}function Fc(n,e,t){let s;$(e._path)===".info"?s=mi(n.infoSyncTree_,e,t):s=mi(n.serverSyncTree_,e,t),Sf(n.eventQueue_,e._path,s)}function jg(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Og)}function ir(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Oe(t,...e)}function Gg(n,e,t,s){e&&kn(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function Rf(n,e,t){return Yo(n.serverSyncTree_,e,t)||H.EMPTY_NODE}function ll(n,e=n.transactionQueueTree_){if(e||or(n,e),On(e)){const t=Pf(n,e);k(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&zg(n,ks(e),t)}else vf(e)&&sr(e,t=>{ll(n,t)})}function zg(n,e,t){const s=t.map(a=>a.currentWriteId),i=Rf(n,e,s);let r=i;const o=i.hash();for(let a=0;a<t.length;a++){const h=t[a];k(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const p=Be(e,h.path);r=r.updateChild(p,h.currentOutputSnapshotRaw)}const l=r.val(!0),c=e;n.server_.put(c.toString(),l,a=>{ir(n,"transaction put response",{path:c.toString(),status:a});let h=[];if(a==="ok"){const p=[];for(let y=0;y<t.length;y++)t[y].status=2,h=h.concat(Jt(n.serverSyncTree_,t[y].currentWriteId)),t[y].onComplete&&p.push(()=>t[y].onComplete(null,!0,t[y].currentOutputSnapshotResolved)),t[y].unwatcher();or(n,nl(n.transactionQueueTree_,e)),ll(n,n.transactionQueueTree_),_t(n.eventQueue_,e,h);for(let y=0;y<p.length;y++)kn(p[y])}else{if(a==="datastale")for(let p=0;p<t.length;p++)t[p].status===3?t[p].status=4:t[p].status=0;else{Ve("transaction at "+c.toString()+" failed: "+a);for(let p=0;p<t.length;p++)t[p].status=4,t[p].abortReason=a}rr(n,e)}},o)}function rr(n,e){const t=Af(n,e),s=ks(t),i=Pf(n,t);return $g(n,i,s),s}function $g(n,e,t){if(e.length===0)return;const s=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],a=Be(t,c.path);let h=!1,p;if(k(a!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,p=c.abortReason,i=i.concat(Jt(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Dg)h=!0,p="maxretry",i=i.concat(Jt(n.serverSyncTree_,c.currentWriteId,!0));else{const y=Rf(n,c.path,o);c.currentInputSnapshot=y;const C=e[l].update(y.val());if(C!==void 0){sl("transaction failed: Data returned ",C,c.path);let S=Ne(C);typeof C=="object"&&C!=null&&Nt(C,".priority")||(S=S.updatePriority(y.getPriority()));const x=c.currentWriteId,_=rl(n),m=mf(S,y,_);c.currentOutputSnapshotRaw=S,c.currentOutputSnapshotResolved=m,c.currentWriteId=Nf(n),o.splice(o.indexOf(x),1),i=i.concat(df(n.serverSyncTree_,c.path,m,c.currentWriteId,c.applyLocally)),i=i.concat(Jt(n.serverSyncTree_,x,!0))}else h=!0,p="nodata",i=i.concat(Jt(n.serverSyncTree_,c.currentWriteId,!0))}_t(n.eventQueue_,t,i),i=[],h&&(e[l].status=2,function(y){setTimeout(y,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?s.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):s.push(()=>e[l].onComplete(new Error(p),!1,null))))}or(n,n.transactionQueueTree_);for(let l=0;l<s.length;l++)kn(s[l]);ll(n,n.transactionQueueTree_)}function Af(n,e){let t,s=n.transactionQueueTree_;for(t=$(e);t!==null&&On(s)===void 0;)s=nl(s,t),e=pe(e),t=$(e);return s}function Pf(n,e){const t=[];return kf(n,e,t),t.sort((s,i)=>s.order-i.order),t}function kf(n,e,t){const s=On(e);if(s)for(let i=0;i<s.length;i++)t.push(s[i]);sr(e,i=>{kf(n,i,t)})}function or(n,e){const t=On(e);if(t){let s=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[s]=t[i],s++);t.length=s,yf(e,t.length>0?t:void 0)}sr(e,s=>{or(n,s)})}function Of(n,e){const t=ks(Af(n,e)),s=nl(n.transactionQueueTree_,e);return Ig(s,i=>{Pr(n,i)}),Pr(n,s),bf(s,i=>{Pr(n,i)}),t}function Pr(n,e){const t=On(e);if(t){const s=[];let i=[],r=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(k(r===o-1,"All SENT items should be at beginning of queue."),r=o,t[o].status=3,t[o].abortReason="set"):(k(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Jt(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&s.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?yf(e,void 0):t.length=r+1,_t(n.eventQueue_,ks(e),i);for(let o=0;o<s.length;o++)kn(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(n){let e="";const t=n.split("/");for(let s=0;s<t.length;s++)if(t[s].length>0){let i=t[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Yg(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const s=t.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ve(`Invalid query segment '${t}' in query '${n}'`)}return e}const Lc=function(n,e){const t=qg(n),s=t.namespace;t.domain==="firebase.com"&&wt(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&t.domain!=="localhost"&&wt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||c0();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Pu(t.host,t.secure,s,i,e,"",s!==t.subdomain),path:new ae(t.pathString)}},qg=function(n){let e="",t="",s="",i="",r="",o=!0,l="https",c=443;if(typeof n=="string"){let a=n.indexOf("//");a>=0&&(l=n.substring(0,a-1),n=n.substring(a+2));let h=n.indexOf("/");h===-1&&(h=n.length);let p=n.indexOf("?");p===-1&&(p=n.length),e=n.substring(0,Math.min(h,p)),h<p&&(i=Kg(n.substring(h,p)));const y=Yg(n.substring(Math.min(n.length,p)));a=e.indexOf(":"),a>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(a+1),10)):a=e.length;const C=e.slice(0,a);if(C.toLowerCase()==="localhost")t="localhost";else if(C.split(".").length<=2)t=C;else{const S=e.indexOf(".");s=e.substring(0,S).toLowerCase(),t=e.substring(S+1),r=s}"ns"in y&&(r=y.ns)}return{host:e,port:c,domain:t,subdomain:s,secure:o,scheme:l,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t,s,i){this.eventType=e,this.eventRegistration=t,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ee(this.snapshot.exportVal())}}class Xg{constructor(e,t,s){this.eventRegistration=e,this.error=t,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t,s,i){this._repo=e,this._path=t,this._queryParams=s,this._orderByCalled=i}get key(){return Y(this._path)?null:Uu(this._path)}get ref(){return new Rt(this._repo,this._path)}get _queryIdentifier(){const e=bc(this._queryParams),t=Oo(e);return t==="{}"?"default":t}get _queryObject(){return bc(this._queryParams)}isEqual(e){if(e=An(e),!(e instanceof cl))return!1;const t=this._repo===e._repo,s=Lo(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+z0(this._path)}}class Rt extends cl{constructor(e,t){super(e,t,new Ho,!1)}get parent(){const e=Vu(this._path);return e===null?null:new Rt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Cs{constructor(e,t,s){this._node=e,this.ref=t,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ae(e),s=co(this.ref,e);return new Cs(this._node.getChild(t),s,me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Cs(i,co(this.ref,s),me)))}hasChild(e){const t=new ae(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Us(n,e){return n=An(n),n._checkNotDeleted("ref"),e!==void 0?co(n._root,e):n._root}function co(n,e){return n=An(n),$(n._path)===null?Rg("child","path",e):Ef("child","path",e),new Rt(n._repo,we(n._path,e))}function Jg(n){return wf("remove",n._path),Mf(n,null)}function Mf(n,e){n=An(n),wf("set",n._path),Ng("set",e,n._path);const t=new Qi;return Ug(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Zg(n){n=An(n);const e=new Df(()=>{}),t=new lr(e);return Wg(n._repo,n,t).then(s=>new Cs(s,new Rt(n._repo,n._path),n._queryParams.getIndex()))}class lr{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const s=t._queryParams.getIndex();return new Qg("value",this,new Cs(e.snapshotNode,new Rt(t._repo,t._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Xg(this,e,t):null}matches(e){return e instanceof lr?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function em(n,e,t,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const c=t,a=(h,p)=>{Fc(n._repo,n,l),c(h,p)};a.userCallback=t.userCallback,a.context=t.context,t=a}const o=new Df(t,r||void 0),l=new lr(o);return Vg(n._repo,n,l),()=>Fc(n._repo,n,l)}function tm(n,e,t,s){return em(n,"value",e,t,s)}tg(Rt);og(Rt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="FIREBASE_DATABASE_EMULATOR_HOST",ao={};let sm=!1;function im(n,e,t,s){n.repoInfo_=new Pu(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),s&&(n.authTokenProvider_=s)}function rm(n,e,t,s,i){let r=s||n.options.databaseURL;r===void 0&&(n.options.projectId||wt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Oe("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=Lc(r,i),l=o.repoInfo,c;typeof process<"u"&&sc&&(c=sc[nm]),c?(r=`http://${c}?ns=${l.namespace}`,o=Lc(r,i),l=o.repoInfo):o.repoInfo.secure;const a=new y0(n.name,n.options,e);Ag("Invalid Firebase Database URL",o),Y(o.path)||wt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=lm(l,n,a,new m0(n,t));return new cm(h,n)}function om(n,e){const t=ao[e];(!t||t[n.key]!==n)&&wt(`Database ${e}(${n.repoInfo_}) has already been deleted.`),jg(n),delete t[n.key]}function lm(n,e,t,s){let i=ao[e.name];i||(i={},ao[e.name]=i);let r=i[n.toURLString()];return r&&wt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Mg(n,sm,t,s),i[n.toURLString()]=r,r}class cm{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Fg(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rt(this._repo,te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(om(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wt("Cannot call "+e+" on a deleted database.")}}function am(n=j_(),e){const t=B_(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const s=Tp("database");s&&um(t,...s)}return t}function um(n,e,t,s={}){n=An(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,r=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&si(s,r.repoInfo_.emulatorOptions))return;wt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&wt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new zs(zs.OWNER);else if(s.mockUserToken){const l=typeof s.mockUserToken=="string"?s.mockUserToken:Np(s.mockUserToken,n.app.options.projectId);o=new zs(l)}im(r,i,s,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n){n0(V_),ri(new ds("database",(e,{instanceIdentifier:t})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return rm(s,i,r,t)},"PUBLIC").setMultipleInstances(!0)),yn(ic,rc,n),yn(ic,rc,"esm2017")}It.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};It.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};fm();const zn=yi;(function(n,e){const t=yi,s=n();for(;;)try{if(-parseInt(t(288))/1+parseInt(t(280))/2+parseInt(t(292))/3+parseInt(t(285))/4*(parseInt(t(281))/5)+parseInt(t(290))/6+parseInt(t(287))/7*(-parseInt(t(286))/8)+-parseInt(t(291))/9*(parseInt(t(282))/10)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(vi,220917);function yi(n,e){const t=vi();return yi=function(s,i){return s=s-280,t[s]},yi(n,e)}function vi(){const n=["204032jmfSIo","8RkNSQl","251020uNuwfe","159481yymHmO","https://iamwait-default-rtdb.europe-west1.firebasedatabase.app","872562JmDRfp","590427OZhdyd","722631sZCemH","720775593565","AIzaSyAjPiSVzEEN6JywDXNxXaV9QC8OrB5Oebw","220304VihfJo","5RWbglK","20UBdPkS","iamwait","1:720775593565:web:1a263bf6a87ecfea3817b4"];return vi=function(){return n},vi()}const hm={apiKey:zn(294),authDomain:"iamwait.firebaseapp.com",databaseURL:zn(289),projectId:zn(283),storageBucket:"iamwait.firebasestorage.app",messagingSenderId:zn(293),appId:zn(284),measurementId:"G-3RRDNZ9ME5"},dm=du(hm),Hs=am(dm),yt=bi;(function(n,e){const t=bi,s=n();for(;;)try{if(parseInt(t(489))/1*(-parseInt(t(504))/2)+-parseInt(t(464))/3*(-parseInt(t(475))/4)+parseInt(t(496))/5*(parseInt(t(477))/6)+-parseInt(t(467))/7*(parseInt(t(462))/8)+parseInt(t(468))/9*(parseInt(t(494))/10)+-parseInt(t(498))/11+-parseInt(t(495))/12===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Ci,860079);function bi(n,e){const t=Ci();return bi=function(s,i){return s=s-462,t[s]},bi(n,e)}const Dn=_p(yt(486),{state:()=>({gameId:"",gameNames:{g1:yt(492),g2:"Крестики нолики",g3:"Морской бой"},myId:0,myName:"",opponentId:0,opponentName:"",lookField:null,stage:-1,playNumber:0,gameLink:"",myPlaceInLine:-1,scoreMy:-100,scoreOpp:-100}),actions:{async getField(n){const e=yt,t={sranb:function(i,r){return i+r},TzZrU:e(502),qQzni:function(i,r,o){return i(r,o)},QJaeZ:function(i,r){return i(r)}},s=t[e(471)](Us,Hs,n);return t.QJaeZ(Zg,s)[e(482)](i=>{const r=e;if(i[r(478)]()){const o=i[r(470)]();return $n(t[r(485)](r(488)+n+" = ",JSON[r(487)](o))),o}else return $n(n+t[r(476)]),r(469)})},async setField(n,e){const t=yt,s={RnOAH:function(r,o){return r(o)},WUSsL:function(r,o){return r+o},ijEWk:" -  данные записаны",EMeTH:"Ошибка записи данных: ",XnJkY:function(r,o,l){return r(o,l)},tCdMv:function(r,o,l){return r(o,l)}},i=s[t(501)](Us,Hs,n);return s[t(480)](Mf,i,e)[t(482)](()=>{const r=t;s[r(499)]($n,s[r(481)](n,s[r(474)]))}).catch(r=>{console.error(s.EMeTH,r)})},async onValue(n){const e=yt,t={UpCmd:function(i,r){return i(r)},kvrFI:function(i,r){return i==r},RasnF:function(i,r,o){return i(r,o)}},s=t[e(472)](Us,Hs,n);t.RasnF(tm,s,i=>{const r=e;t[r(493)]($n,r(490)+n+r(483));let o=i[r(470)]();if(typeof o===r(463)){let l=o.split("::");t[r(465)](this.myPlaceInLine,0)&&(this[r(473)]=+l[0],this[r(500)]=+l[1]),this[r(503)]==1&&(this.scoreMy=+l[1],this[r(500)]=+l[0])}else this[r(466)]=i.val()})},async removeField(n){const e=yt,t={tequb:function(i,r){return i(r)},dpEQY:function(i,r,o){return i(r,o)}};console[e(497)](n);const s=t.dpEQY(Us,Hs,n);Jg(s)[e(482)](()=>{const i=e;t.tequb($n,"Данные "+n+i(491))})}}}),$n=n=>console[yt(497)](yt(484)+n,yt(479));function Ci(){const n=["ijEWk","2656squatF","TzZrU","6YeKtEc","exists","color: darkgreen","tCdMv","WUSsL","then"," на прослушке","%c ","sranb","fbStore2","stringify",">>> Данные по ","1FWBKuN","########### ########## Данные "," удалены!","Камень ножницы бумага","UpCmd","20SeHiAZ","10899432yLQQMH","6434765DcNDyp","log","97614MnuRyl","RnOAH","scoreOpp","XnJkY"," : данные не найдены","myPlaceInLine","1824302XznYmE","11091208ROKrTr","string","6675mTPioK","kvrFI","lookField","7xfKiMi","5901471pHaAzR","empty","val","qQzni","RasnF","scoreMy"];return Ci=function(){return n},Ci()}const kr=Ii;(function(n,e){const t=Ii,s=n();for(;;)try{if(-parseInt(t(435))/1+parseInt(t(422))/2+parseInt(t(397))/3*(-parseInt(t(401))/4)+parseInt(t(421))/5*(-parseInt(t(413))/6)+parseInt(t(428))/7+parseInt(t(404))/8+parseInt(t(406))/9===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Ei,848311);function Ii(n,e){const t=Ei();return Ii=function(s,i){return s=s-397,t[s]},Ii(n,e)}function Ei(){const n=["YUFtF","pdAUr","QZXAV","jkoNY","BBOOZ","1679745GgpYje","309IWmrxa","Wugbr","JbPlB","button","27964lhYzxZ"," Начальная страница ","gameId","3525240xFqzns","XeKCp","21663018LcmoeN","ilyEz","EoDBR","nLKAH","iAmWaitingForYou"," Крестики нолики ","OjTUE","876nkIFHP","log","SOAsT","gameChanged","zBWcI","fiHgF","YICUq","OPULF","9865WXzBkf","517922StVZnE"," Необходимо будет попросить другого участника найти этот miniapp по имени: ","LyGpx","bAriJ"," Морской бой ","ListGames","3006983rlqtUB","mvpoi"];return Ei=function(){return n},Ei()}const pm=Nn({__name:kr(427),emits:[kr(416)],setup(n,{emit:e}){const t=kr,s={fiHgF:function(l,c){return l+c},YUFtF:function(l,c){return l(c)},SOAsT:function(l,c,a,h){return l(c,a,h)},BBOOZ:"div",LyGpx:t(402),XeKCp:function(l,c,a,h,p){return l(c,a,h,p)},ilyEz:"Выберите игру",OPULF:t(400),dkdWB:" Камень ножницы бумага ",JbPlB:function(l){return l()},nLKAH:function(l,c,a,h){return l(c,a,h)},QZXAV:t(426),OjTUE:function(l,c,a,h,p){return l(c,a,h,p)},pdAUr:function(l,c,a,h,p){return l(c,a,h,p)},Wugbr:function(l,c){return l(c)},bAriJ:t(423),EoDBR:function(l,c,a,h,p){return l(c,a,h,p)},jkoNY:function(l,c,a,h,p){return l(c,a,h,p)},zBWcI:t(410),mvpoi:function(l,c){return l(c)},YICUq:" и договориться о выборе игры "},i=Dn(),r=e;function o(l){const c=t;console[c(414)](l),i[c(403)]=s[c(418)]("g",l),s[c(430)](r,c(416))}return(l,c)=>{const a=t;return J(),s[a(415)](ne,s[a(434)],null,[c[3]||(c[3]=oe(s[a(424)])),c[4]||(c[4]=s[a(405)](b,"h3",null,s[a(407)],-1)),c[5]||(c[5]=s[a(405)](b,"br",null,null,-1)),s[a(415)](b,s[a(420)],{onClick:c[0]||(c[0]=h=>o(1))},s.dkdWB),c[6]||(c[6]=s[a(405)](b,"br",null,null,-1)),c[7]||(c[7]=oe()),c[8]||(c[8]=b("br",null,null,-1)),s[a(415)](b,s.OPULF,{onClick:c[1]||(c[1]=h=>o(2))},a(411)),c[9]||(c[9]=s[a(405)](b,"br",null,null,-1)),c[10]||(c[10]=s[a(399)](oe)),c[11]||(c[11]=s[a(405)](b,"br",null,null,-1)),s[a(409)](b,s.OPULF,{onClick:c[2]||(c[2]=h=>o(3))},s[a(432)]),c[12]||(c[12]=s[a(405)](b,"br",null,null,-1)),c[13]||(c[13]=s[a(412)](b,"br",null,null,-1)),c[14]||(c[14]=oe()),c[15]||(c[15]=s[a(431)](b,"br",null,null,-1)),c[16]||(c[16]=s[a(398)](oe,s[a(425)])),c[17]||(c[17]=b("br",null,null,-1)),c[18]||(c[18]=s[a(399)](oe)),c[19]||(c[19]=s[a(408)](b,"br",null,null,-1)),c[20]||(c[20]=s[a(433)](b,"b",null,s[a(417)],-1)),c[21]||(c[21]=s[a(412)](b,"br",null,null,-1)),c[22]||(c[22]=s.JbPlB(oe)),c[23]||(c[23]=s[a(405)](b,"br",null,null,-1)),c[24]||(c[24]=s[a(429)](oe,s[a(419)]))])}}}),uo=wi;(function(n,e){const t=wi,s=n();for(;;)try{if(-parseInt(t(359))/1*(-parseInt(t(381))/2)+parseInt(t(365))/3*(parseInt(t(369))/4)+parseInt(t(378))/5*(parseInt(t(379))/6)+-parseInt(t(367))/7+parseInt(t(361))/8*(parseInt(t(366))/9)+-parseInt(t(364))/10+-parseInt(t(382))/11*(parseInt(t(374))/12)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Si,556726);function wi(n,e){const t=Si();return wi=function(s,i){return s=s-359,t[s]},wi(n,e)}function Si(){const n=["YsOSe","value","EDhmu","xgTbX","4166028GgEEWu","ipYCE","toExit","wusZW","336190VfTpBe","78IUBYht","menuBt","7246GpHyXt","11KdzMjE","menuBt_bt","div","DxaJy","Инфо","MFnHE","4OcJfZc","HYuzO","131488udRweP","KRocy","MenuButton","1665410GvYCvB","1832457NoqUIK","279hWheEc","6569395JczMGi","gbXAd","4izRiph"];return Si=function(){return n},Si()}const _m={class:uo(380)},xm={key:0,class:"panel"},gm=Nn({__name:uo(363),emits:["toExit"],setup(n,{emit:e}){const t=uo,s={GEoIb:t(376),EDhmu:function(l){return l()},wusZW:function(l,c,a,h){return l(c,a,h)},MFnHE:function(l,c,a,h){return l(c,a,h)},xgTbX:"div",HYuzO:function(l,c,a,h){return l(c,a,h)},vViRQ:"button",KRocy:t(383),ipYCE:"Удалить игру",YsOSe:function(l){return l()},DxaJy:function(l,c,a,h,p){return l(c,a,h,p)},UrFCQ:function(l,c,a){return l(c,a)},gbXAd:function(l){return l()}},i=e,r=s[t(368)](Re);function o(l){const c=t;switch(l){case(l=1):i(s.GEoIb);break}r[c(371)]=!1}return(l,c)=>{const a=t;return s[a(372)](J),s[a(377)](ne,a(384),_m,[s[a(387)](b,s.xgTbX,null,[s[a(360)](b,s.vViRQ,{class:s[a(362)],onClick:c[0]||(c[0]=h=>r.value=!r[a(371)])},"❁")]),r[a(371)]?(s[a(372)](J),ne(s[a(373)],xm,[b("a",{onClick:c[1]||(c[1]=h=>o(1))},s[a(375)]),c[2]||(c[2]=s[a(370)](oe)),c[3]||(c[3]=b("br",null,null,-1)),c[4]||(c[4]=s[a(385)](b,"a",null,a(386),-1))])):s.UrFCQ(Ce,"",!0)])}}}),Os=(n,e)=>{const t=n.__vccOpts||n;for(const[s,i]of e)t[s]=i;return t},mm=Os(gm,[["__scopeId","data-v-ff2e1591"]]),St=Tn;(function(n,e){const t=Tn,s=n();for(;;)try{if(-parseInt(t(505))/1+-parseInt(t(487))/2+-parseInt(t(375))/3*(parseInt(t(373))/4)+-parseInt(t(522))/5+-parseInt(t(508))/6+-parseInt(t(562))/7*(parseInt(t(520))/8)+parseInt(t(452))/9===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Ti,399181);const ym={key:0},vm={key:1},bm={key:2},Cm={key:3},Im={key:4},Em={class:St(509)},wm={key:0},Sm=["onClick"],Tm={key:5},Nm={key:0},Rm=[St(435)],Am={key:1,class:St(509)},Pm={key:6},km={style:{"font-size":"30px"}},Om={key:7},Dm={key:8},Mm={style:{"font-size":"30px"}},Fm={style:{color:St(563),"font-size":St(423)}},Lm={key:9},Bm={style:{"font-size":St(431),background:St(503)}},Wm={key:10};function Tn(n,e){const t=Ti();return Tn=function(s,i){return s=s-372,t[s]},Tn(n,e)}function Ti(){const n=["gJABy","cMBGF","UZGEA","AgEpO","img","gameLink","setItem","UOQPk","split","name","Нужно дать ссылку на бот другому игроку. И сообщить какую игру выбрать","FiXTh","XlLBX","BotQR","PAfut","id2","iZanv","setField","dqdrB","opponentName","4px","/look/","UjsVU","20px","::::::: Связывание :::::::","vjamj","Нахожусь в списке, жду соперника","Список желающих играть:","YXpcw","eEVSA","pCGzJ","30px","okcCg","xHbcD","pjdon","onClick","NOtcG","LizuE"," с игроком ","removeField","myNickName","length","TNMpt","lyTIq","bpItU","uoZIE","DEwCJ","opponentId","XLiWq","hasvM","uFbds"," Зарегистрироваться в поиске ","25795440MoLUap","Согласиться","KHglE","keys","sqeGQ","small","center","qNxfE","gameId","/games/","QYfWw","UiDSj","mSKhG","Играем","MARaj","ВСЕ НАСТРОЙКИ ИГРЫ"," Выбрал игрока ","qBlOH","fTjbT","button","2|4|1|0|3","Dehcm","AWyDJ","IaIkb","slice","xMOxp","log",">>>> ANALIZ "," stage:","myPlaceInLine"," Вас выбрал игрок: "," Привет ","iotaP","BAvKN","Dsxcx","971886ruuPbM","YiGAd","IGnTw","* можете поменять ваш Никнейм","yAmID","AWkpI","EHiuD","pveal","FnBaw","* нельзя выбирать себя","div","eCaQW","rytbG","value","dfieY","getItem","#ddd","awpBs","356163PmGgeL","SSDBa","dEFqf","1635450ziNZlt","red-notice","CzwIr","kDdVJ","Сменить nickName","sxiPl","myName","SBcnk","WVxKd","UVLWN","gqAsy","FnLst","789280DXCDSi","JNbkt","2279905CIntTD","PYNUf","YOmuo","NYpxW","FvRMm","KVtjM","hGkoG","name2","then","ArKdr","txeGT","* nickname не может быть меньше 2 букв","qIWMb","OvBom"," : ","IScWa","nick","__BinderComp","green-bt","KJRFO","/look","larger","Нет согласия, отменяю выбор","KAlSy","Нет желающих, отменяю ожидание","BCSdf","YYDBC","BReCe","epktm","жду его согласия ","getField","XlQCA","sAOOj","jaikR","gameNames","kqvub","stage","reload","wAtqP","hLPfo","35hyjCwv","red","forEach","ZdmuS","oFTrB","12zzvetr","myId","403017USPaqJ","ZPUqI","iHaCJ","nwgVN","GfWIF","lUQun","bPemP"," ИГРАЙТЕ ВДВОЕМ ","ylJUc","IbEUq","pLWgV","JenNN","QaTHH","ireik","onValue","LkXfI","ELOsv","jpaSt","KdhGQ","Bcigm","JirmG","includes","wCyjQ","MpRwh","NyFrv"];return Ti=function(){return n},Ti()}const Um=!1,Hm=Nn({__name:St(539),setup(n){const e=St,t={KJBgJ:e(440),iZanv:function(f,u){return f===u},VdTij:"empty",mzHpE:function(f,u){return f+u},ireik:e(461),lyTIq:function(f,u){return f+u},YiGAd:"/list/",Dehcm:function(f,u){return f(u)},pLWgV:function(f){return f()},iHaCJ:function(f,u){return f>u},SBcnk:function(f,u){return f===u},ArKdr:function(f,u){return f(u)},pjdon:function(f,u){return f!==u},nwgVN:function(f,u){return f===u},ELOsv:function(f,u){return f+u},qBlOH:e(542),xHbcD:function(f,u,d){return f(u,d)},QaTHH:e(533),NYpxW:function(f,u){return f+u},ZdmuS:"/look/",rytbG:function(f,u){return f==u},FnBaw:function(f,u){return f+u},AWkpI:function(f,u){return f+u},epktm:function(f,u){return f+u},lJHSu:function(f,u){return f+u},qNxfE:function(f,u){return f+u},UVLWN:function(f,u){return f+u},BotQR:function(f,u){return f+u},IScWa:function(f,u){return f+u},FnLst:function(f,u){return f(u)},eCaQW:function(f,u){return f>u},kDdVJ:function(f,u){return f+u},OpaRl:function(f,u){return f+u},FvRMm:function(f,u,d){return f(u,d)},WVxKd:function(f){return f()},txeGT:function(f,u,d,I,M,Z){return f(u,d,I,M,Z)},sAOOj:e(471),jpaSt:e(540),vjamj:function(f,u){return f(u)},Bcigm:function(f,u){return f(u)},AgEpO:function(f,u,d,I,M){return f(u,d,I,M)},KVtjM:function(f){return f()},NyFrv:function(f,u,d,I){return f(u,d,I)},oFTrB:e(497),PYNUf:function(f,u,d,I,M){return f(u,d,I,M)},yrjRO:e(424),jaikR:function(f,u){return f+u},oNLby:function(f,u){return f+u},xMOxp:function(f,u){return f(u)},JNbkt:e(536),OvBom:function(f,u){return f+u},ZzSnh:e(480),cMBGF:function(f,u){return f(u)},dfieY:function(f,u){return f(u)},eEVSA:function(f,u,d){return f(u,d)},lUQun:function(f,u){return f===u},pCGzJ:function(f){return f()},NOtcG:function(f,u,d){return f(u,d)},PAfut:function(f){return f()},bPemP:function(f,u,d,I,M){return f(u,d,I,M)},XLiWq:function(f,u,d,I,M){return f(u,d,I,M)},JenNN:function(f,u){return f(u)},eGwiw:e(382),Dsxcx:"...загрузка",uoZIE:function(f,u,d,I,M){return f(u,d,I,M)},UiDSj:function(f,u,d,I,M){return f(u,d,I,M)},hGkoG:function(f,u,d,I,M){return f(u,d,I,M)},pveal:function(f){return f()},CzwIr:function(f,u,d,I){return f(u,d,I)},kANgq:function(f,u,d){return f(u,d)},fTjbT:function(f,u){return f===u},KAlSy:function(f,u,d,I,M){return f(u,d,I,M)},FiXTh:"input",RlsYu:e(458),LSgZX:e(512),zIwcP:function(f,u,d,I,M){return f(u,d,I,M)},hasvM:e(427),MpRwh:function(f,u,d,I,M){return f(u,d,I,M)},mSKhG:function(f,u,d){return f(u,d)},ylJUc:function(f,u,d,I,M){return f(u,d,I,M)},gJABy:function(f,u,d,I){return f(u,d,I)},IbEUq:"red-bt",sxiPl:function(f,u,d,I,M){return f(u,d,I,M)},UZGEA:function(f,u,d,I,M){return f(u,d,I,M)},uFbds:e(457),Vyehz:e(410),yvFBl:e(426),KdhGQ:function(f){return f()},qvACS:function(f,u,d,I){return f(u,d,I)},IGnTw:function(f,u,d,I,M){return f(u,d,I,M)},BAvKN:function(f,u,d,I,M){return f(u,d,I,M)},awpBs:function(f,u,d,I,M){return f(u,d,I,M)},IaIkb:function(f,u,d){return f(u,d)},wCyjQ:function(f){return f()},BReCe:function(f,u,d,I){return f(u,d,I)},glprG:e(496),KJRFO:e(546),qIWMb:function(f,u,d,I,M){return f(u,d,I,M)},YXpcw:function(f,u,d,I,M){return f(u,d,I,M)},YOmuo:function(f,u){return f===u},AWyDJ:function(f,u,d,I,M){return f(u,d,I,M)},LkXfI:e(468),XlLBX:function(f,u,d,I){return f(u,d,I)},hLPfo:e(551),DEwCJ:function(f,u,d,I,M){return f(u,d,I,M)},YYDBC:e(544),UjsVU:e(482),ZPUqI:function(f,u,d,I,M){return f(u,d,I,M)},sqeGQ:"Отказаться",okcCg:function(f,u,d){return f(u,d)},mRVcn:function(f,u){return f(u)},wAtqP:e(465),dqdrB:function(f,u){return f(u)},EHiuD:e(438),XlQCA:function(f,u,d,I,M){return f(u,d,I,M)},yAmID:function(f,u,d,I){return f(u,d,I)},PiCEk:function(f,u,d,I,M){return f(u,d,I,M)},XunRH:function(f,u,d,I,M){return f(u,d,I,M)},TNMpt:function(f,u,d,I,M){return f(u,d,I,M)},KhIiz:function(f,u,d,I,M){return f(u,d,I,M)},GfWIF:function(f,u,d){return f(u,d)},ixyqu:function(f,u,d,I,M){return f(u,d,I,M)},iotaP:function(f,u){return f(u)},LizuE:function(f,u,d){return f(u,d)},XRnYg:function(f,u){return f(u)},bpItU:function(f,u,d,I){return f(u,d,I)},hKvcA:"Играть",cRlfA:function(f,u,d){return f(u,d)},SSDBa:function(f,u,d,I,M){return f(u,d,I,M)},dEFqf:function(f){return f()},KzlYT:e(538),QYfWw:function(f){return f()},MARaj:function(f,u){return f(u)},gqAsy:e(490)},s=t[e(507)](Dn),i=Re(localStorage[e(502)](e(440))||t.KzlYT),r=Re([]),o=Re(),l=t[e(462)](Re),c=t[e(386)](Re,""),a=t[e(519)](Re,""),h=t[e(466)](Re,t[e(518)]),p=function(){const f=e;i[f(500)]&&localStorage[f(406)](t.KJBgJ,i[f(500)])};function y(){const f=e,u={UOQPk:f(472),kqvub:function(d){return d()}};i[f(500)]||(i[f(500)]=s.myName),s[f(552)](t[f(443)](t.YiGAd,s[f(374)]))[f(530)](d=>{const I=f;if(d){if(s[I(419)]=d[I(409)],s[I(447)]=d.id,t.iZanv(d,t.VdTij))return s.stage=0,!1;o[I(500)]={id:d.id,name:d[I(409)]},s[I(481)]=s.myId>o[I(500)].id?0:1,s.getField(t.mzHpE(t[I(388)],d.gameLink)).then(M=>{const Z=I,Q=u[Z(407)][Z(408)]("|");let be=0;for(;;){switch(Q[be++]){case"0":s[Z(405)]=d[Z(405)];continue;case"1":s.stage=5;continue;case"2":s[Z(460)]=M.gameId;continue;case"3":u[Z(557)](Ie);continue;case"4":c[Z(500)]=M;continue}break}})}})}const C=function(f){const u=e;if(console[u(478)](u(479),f),r.value=[],t.nwgVN(s[u(558)],0))return!1;f&&(s[u(558)]=1),f&&Object[u(455)](f)[u(564)](d=>{const I=u;if(f[d].id2&&t[I(416)](f[d][I(415)],s.myId)&&(o[I(500)]={id:d,name:f[d][I(409)]}),d===t[I(473)](String,s.myId)&&f[d][I(415)]&&(o[I(500)]={id:f[d][I(415)],name:f[d][I(529)]}),f[d].accept)return s[I(558)]=-1,t[I(385)](Ze),!1;if(t[I(377)](s[I(558)],3))return!1;t[I(515)](d,t[I(531)](String,s.myId))&&d&&(t[I(434)](s[I(558)],3)&&(s[I(558)]=2),f[d].id2&&(s[I(558)]=4)),f[d][I(415)]==s.myId&&(s[I(558)]=3),d&&f[d]&&r[I(500)].push({id:d,name:f[d][I(409)]})})};dt(()=>s[e(374)],f=>f&&setTimeout(y,500));function S(){const f=e;t[f(385)](L),s[f(558)]=1}function L(){const f=e;s[f(389)](t[f(391)](s[f(460)],t[f(469)])).then(u=>C(u)),t[f(433)](dt,()=>s.lookField,u=>C(u))}function x(){const f=e;if(i[f(500)][f(441)]<2)return h[f(500)]=t[f(387)],!1;s.setField(t.NYpxW(s[f(460)]+t[f(565)],s.myId),{name:i[f(500)]})}function _(f){const u=e;if(t[u(499)](f.id,s.myId))return l[u(500)]=!0,t[u(433)](setTimeout,()=>l.value=!1,2e3),!1;s.setField(t[u(443)](s[u(460)],t.ZdmuS)+f.id,{name:f.name,id2:s[u(374)],name2:i[u(500)]||s[u(514)]})[u(530)](()=>{const d=u;o[d(500)]={id:f.id,name:f.name},s.stage=3})}function m(f){const u=e;f&&o.value&&s.setField(t[u(495)](t[u(492)](s[u(460)],u(421)),o[u(500)].id),{name:o[u(500)][u(409)],id2:s.myId,name2:i[u(500)]||s[u(514)],accept:!0})[u(530)](()=>s[u(558)]=-1),!f&&s[u(417)](t.lyTIq(t[u(550)](s.gameId,t[u(565)]),s[u(374)]),{name:i[u(500)]||s[u(514)]})[u(530)](()=>s[u(558)]=2)}function N(){const f=e;s[f(417)](t[f(443)](t[f(443)](s[f(460)],t[f(565)]),o[f(500)].id),{name:o[f(500)][f(409)]})[f(530)](()=>s[f(558)]=2)}function R(){const f=e;s[f(439)](t.FnBaw(t[f(391)](s[f(460)],t[f(565)]),s[f(374)]))[f(530)](()=>s.stage=0)}function q(){var d;const f=e;debugger;a[f(500)]="Хорошо бы сообщить сопернику, что вы ушли из игры";let u=String(o.value.id);t.iHaCJ(o.value.id,s[f(374)])?u+=t[f(443)]("::",s.myId):u=t[f(525)](t.lJHSu(s.myId,"::"),u),s[f(439)](t[f(459)](t[f(488)],s[f(374)])),s[f(439)](t[f(517)]("/list/",(d=o[f(500)])==null?void 0:d.id)),s[f(439)](t[f(413)](t[f(388)],u)),t[f(433)](setTimeout,()=>location[f(559)](),3e3)}function Ze(){var d,I,M;const f=e;let u=t.FnLst(String,o[f(500)].id);t.eCaQW(o.value.id,s[f(374)])?u+="::"+s[f(374)]:u=t[f(511)](t.OpaRl(s[f(374)],"::"),u),s[f(417)](t[f(488)]+s.myId,{id:(d=o[f(500)])==null?void 0:d.id,name:(I=o.value)==null?void 0:I[f(409)],gameLink:u}),s[f(417)](t[f(537)](t[f(488)],(M=o[f(500)])==null?void 0:M.id),{id:s[f(374)],name:i.value||s[f(514)],gameLink:u}),s[f(417)](t.BotQR(t[f(388)],u),{game:f(467),gameId:s.gameId}),t[f(526)](setTimeout,()=>{var Q;const Z=f;s[Z(439)](s[Z(460)]+Z(421)+((Q=o[Z(500)])==null?void 0:Q.id)),s[Z(439)](t[Z(443)](t[Z(537)](s[Z(460)],t[Z(565)]),s[Z(374)])),location.reload()},2e3)}function Ie(){const f=e;s.playNumber=+s[f(460)][f(476)](1)}return(f,u)=>{var M,Z;const d=e,I={JirmG:function(Q){return t[Tn(385)](Q)},zzqCM:function(Q,be,ue,z,re,xt){return t[Tn(532)](Q,be,ue,z,re,xt)},KHglE:t[d(392)],BCSdf:function(Q,be){return t[d(394)](Q,be)}};return t[d(385)](J),t[d(403)](ne,Ye,null,[Um?(t[d(527)](J),t[d(399)](ne,t.oFTrB,ym,[u[9]||(u[9]=b("hr",null,null,-1)),u[10]||(u[10]=t[d(523)](b,"i",null,t.yrjRO,-1)),u[11]||(u[11]=b("br",null,null,-1)),oe(t[d(555)](t.oNLby(t[d(495)](" "+t[d(477)](xe,le(s)[d(374)]),t[d(521)]),t[d(519)](xe,i[d(500)]))," "),1),u[12]||(u[12]=t[d(403)](b,"br",null,null,-1)),t[d(433)](oe,t.NYpxW(t[d(535)](t.ZzSnh,t[d(401)](xe,t[d(501)](le,s).stage))," "),1),u[13]||(u[13]=b("hr",null,null,-1))])):t[d(429)](Ce,"",!0),t.lUQun(t[d(401)](le,s)[d(558)],5)?(t[d(430)](J),t[d(399)](ne,t.oFTrB,vm,[t[d(433)](Qe,mm,{onToExit:u[0]||(u[0]=Q=>q())})])):t[d(436)](Ce,"",!0),t[d(394)](le,s)[d(558)]===-1?(t[d(414)](J),ne(t.oFTrB,bm,u[14]||(u[14]=[t[d(381)](b,"br",null,null,-1),t[d(448)](b,"br",null,null,-1),b("br",null,null,-1),b("br",null,null,-1),t[d(386)](oe,t.eGwiw),b(d(404),{alt:t[d(486)],src:xp},null,-1),t[d(445)](b,"br",null,null,-1),t.uoZIE(b,"br",null,null,-1),b("br",null,null,-1),t.UiDSj(b,"br",null,null,-1),t[d(528)](b,"br",null,null,-1),b("br",null,null,-1)]))):Ce("",!0),t[d(416)](le(s)[d(558)],0)?(t[d(494)](J),t.CzwIr(ne,t[d(372)],Cm,[t.kANgq(Qe,pm,{onGameChanged:S})])):t[d(526)](Ce,"",!0),t[d(470)](t.Bcigm(le,s)[d(558)],1)?(t[d(494)](J),ne(t[d(372)],Im,[u[18]||(u[18]=t.UiDSj(b,"p",null,d(483),-1)),b("p",null,[Ah(t[d(545)](b,t[d(411)],{"onUpdate:modelValue":u[1]||(u[1]=Q=>i[d(500)]=Q),maxlength:"16",minlength:"3",style:{"font-size":d(543),padding:d(420),"text-align":t.RlsYu},onInput:u[2]||(u[2]=Q=>p()),placeholder:t.LSgZX},null,544),[[sp,i[d(500)]]])]),t.zIwcP(b,t.oFTrB,Em,t[d(477)](xe,h[d(500)]),1),r[d(500)]&&t[d(498)](r[d(500)][d(441)],1)?(t.pCGzJ(J),ne(t[d(372)],wm,[u[15]||(u[15]=b("h3",null,t[d(449)],-1)),(t.xMOxp(J,!0),t[d(398)](ne,Ye,null,t[d(464)](ml,r[d(500)],Q=>{const be=d;return I[be(395)](J),I.zzqCM(ne,be(471),{class:I[be(454)],key:Q.id,onClick:ue=>_(Q)},I[be(547)](xe,Q.name),9,Sm)}),128)),u[16]||(u[16]=t[d(383)](b,"br",null,null,-1)),u[17]||(u[17]=t[d(403)](b,"br",null,null,-1))])):t[d(526)](Ce,"",!0),t[d(400)](b,t[d(554)],{class:t[d(384)],onClick:u[3]||(u[3]=Q=>x())},d(451)),u[19]||(u[19]=t[d(513)](b,"br",null,null,-1)),u[20]||(u[20]=oe()),u[21]||(u[21]=t[d(402)](b,"br",null,null,-1)),u[22]||(u[22]=t[d(381)](b,t[d(450)],null,t.Vyehz,-1)),u[23]||(u[23]=t[d(528)](b,"br",null,null,-1)),u[24]||(u[24]=b("br",null,null,-1))])):t.eEVSA(Ce,"",!0),t[d(473)](le,s).stage===2?(t[d(516)](J),t[d(510)](ne,t[d(372)],Tm,[u[28]||(u[28]=t[d(528)](b,"p",null,t.yvFBl,-1)),r[d(500)][d(441)]?(t[d(393)](J),t.qvACS(ne,t[d(372)],Nm,[u[25]||(u[25]=t[d(489)](b,"h3",null,d(427),-1)),(t[d(425)](J,!0),t[d(485)](ne,Ye,null,ml(r.value,Q=>{const be=d;return t.WVxKd(J),t[be(532)](ne,t[be(554)],{class:t.jpaSt,key:Q.id,onClick:ue=>_(Q)},t.vjamj(xe,Q[be(409)]),9,Rm)}),128)),u[26]||(u[26]=b("br",null,null,-1)),u[27]||(u[27]=t[d(504)](b,"br",null,null,-1))])):t.IaIkb(Ce,"",!0),l.value?(t[d(397)](J),t.BReCe(ne,t[d(372)],Am,t.glprG)):t[d(464)](Ce,"",!0),u[29]||(u[29]=t[d(513)](b,"br",null,null,-1)),u[30]||(u[30]=t[d(513)](b,"br",null,null,-1)),t[d(399)](b,d(471),{onClick:u[4]||(u[4]=Q=>R())},t[d(541)]),u[31]||(u[31]=t[d(534)](b,"br",null,null,-1)),u[32]||(u[32]=t[d(428)](b,"br",null,null,-1))])):t[d(475)](Ce,"",!0),t[d(524)](le(s)[d(558)],3)?(t[d(393)](J),t.NyFrv(ne,d(497),Pm,[u[33]||(u[33]=t[d(474)](b,"p",null,t[d(390)],-1)),t[d(412)](b,t[d(372)],km,[t[d(474)](b,"b",null,t[d(501)](xe,(M=o[d(500)])==null?void 0:M.name),1)]),u[34]||(u[34]=t[d(463)](b,"br",null,null,-1)),u[35]||(u[35]=t.Dehcm(oe,t[d(561)])),u[36]||(u[36]=t.YXpcw(b,"br",null,null,-1)),u[37]||(u[37]=t[d(446)](b,"br",null,null,-1)),u[38]||(u[38]=t.awpBs(b,"br",null,null,-1)),u[39]||(u[39]=t[d(474)](b,"br",null,null,-1)),t[d(549)](b,t.sAOOj,{onClick:u[5]||(u[5]=Q=>N())},t[d(548)])])):t.NOtcG(Ce,"",!0),t[d(378)](t[d(501)](le,s)[d(558)],4)&&((Z=o[d(500)])!=null&&Z.id)?(J(),ne(t[d(372)],Om,[u[40]||(u[40]=t[d(473)](oe,t[d(422)])),u[41]||(u[41]=t.UZGEA(b,"br",null,null,-1)),u[42]||(u[42]=b("br",null,null,-1)),t.IGnTw(b,"b",null,t[d(473)](xe,o.value[d(409)]),1),u[43]||(u[43]=t[d(376)](b,"br",null,null,-1)),u[44]||(u[44]=t[d(523)](b,"br",null,null,-1)),t[d(399)](b,d(471),{class:t.IbEUq,onClick:u[6]||(u[6]=Q=>m(!1))},t[d(456)]),b(d(471),{class:t[d(384)],onClick:u[7]||(u[7]=Q=>m(!0))},d(453))])):t[d(432)](Ce,"",!0),t[d(380)](t.mRVcn(le,s)[d(558)],5)&&o[d(500)]?(J(),t[d(412)](ne,d(497),Dm,[u[45]||(u[45]=b("h3",null,t[d(560)],-1)),u[46]||(u[46]=t[d(418)](oe,t[d(493)])),u[47]||(u[47]=t[d(553)](b,"br",null,null,-1)),u[48]||(u[48]=t[d(504)](b,"br",null,null,-1)),t[d(491)](b,d(497),Mm,[t.PiCEk(b,"b",null,t[d(418)](xe,o.value[d(409)]),1)]),u[49]||(u[49]=t.XunRH(b,"br",null,null,-1)),u[50]||(u[50]=t[d(442)](b,"br",null,null,-1)),t[d(400)](b,t[d(372)],Fm,[t.KhIiz(b,"b",null,xe(a.value),1)])])):t[d(379)](Ce,"",!0),t[d(425)](le,s)[d(558)]&&[1,2,3,4,5][d(396)](t[d(531)](le,s)[d(558)])?(J(),t[d(412)](ne,t[d(372)],Lm,[u[51]||(u[51]=b("hr",null,null,-1)),u[52]||(u[52]=t.ixyqu(b,"br",null,null,-1)),t[d(403)](b,t.oFTrB,Bm,xe(le(s)[d(556)][t[d(484)](le,s)[d(460)]]),1),u[53]||(u[53]=t[d(489)](b,"br",null,null,-1)),u[54]||(u[54]=t[d(398)](b,"br",null,null,-1))])):t[d(437)](Ce,"",!0),t.nwgVN(t.XRnYg(le,s).stage,5)?(J(),t[d(444)](ne,"div",Wm,[t[d(549)](b,t[d(554)],{onClick:u[8]||(u[8]=Q=>Ie())},t.hKvcA)])):t.cRlfA(Ce,"",!0),u[55]||(u[55]=b("br",null,null,-1)),u[56]||(u[56]=t[d(506)](b,"br",null,null,-1))],64)}}}),Vm={class:"game"},jm={__name:"StartPage",setup(n){return(e,t)=>(J(),ne("div",Vm,[t[0]||(t[0]=b("h1",null,"♕",-1)),b("div",null,[Qe(Hm)])]))}},Gm=Os(jm,[["__scopeId","data-v-161e630d"]]);function Ni(){const n=["opponentName","OLDXb","2372XSAIsX","onValue","ITvmG","white","CfVeq","zBIzE","iaLyD","xoRyc","Сохранить","ysaHN","cCvzo","lRZbY","button","lookField","ждем ход соперника","value","hNrYY","wbGiG","/scores/","div","gameLink","myPlaceInLine","Ножницы","wCgCY","keys","ozlwF","Xohfa"," Вы выбрали - ","HawXk","bkVAp","XJilS","acnId","IegEc","ATmHt","3px solid red","qqeWy","Nawlx","RLueL","tyoJr","GoloO","Камень","bmWBr","fTSnx","scoreTable","Выиграл соперник:"," Соперник ","Бумага","1137hWwFGe","NuzKX","TXOWU","ikbId","1_StounScissorsPaper","GoxZG","zYWsZ","tVztr","setField","XtcEK","IFdTJ"," Еще играть","vHCdR","TCAse","KPPKA","vGyVR","JPXIx","scoreOpp","VJWZA","478RbYMth","119084jpcsyW","leBBg","1332144vyXcIi","SmxjP","312599ooYTBP","scoreMy","mDIoj","-=-- res","/games/","HHCrw","AKIMV","cupPX","#dfd","Выбор сделан","rwTAB","Камень ножницы бумага","xpzyN","zlPSH","ReMpf","ZuvCz","rama","Вы выиграли !!!","swOXP","qkAWc","DlXrY","myName","spkFg","IFkdZ","FjBsI","1780pSTsjx","/game","!!! res","27LvejjM","PDLVO","7800SfWQWz","length","25px","disabled","wRXEj","hIWQz","/game/","#fdd","green-bt","oEsBO","2382790zfEdDO","small","BMgTm","100px","aGwIw","then","ljqiJ","FZGWr","Ничья","mkycr","log"];return Ni=function(){return n},Ni()}const Xe=Ri;(function(n,e){const t=Ri,s=n();for(;;)try{if(-parseInt(t(512))/1+parseInt(t(511))/2*(-parseInt(t(492))/3)+-parseInt(t(569))/4*(parseInt(t(541))/5)+-parseInt(t(514))/6+parseInt(t(516))/7+-parseInt(t(546))/8+-parseInt(t(544))/9*(-parseInt(t(556))/10)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Ni,115722);function Ri(n,e){const t=Ni();return Ri=function(s,i){return s=s-487,t[s]},Ri(n,e)}const zm={class:Xe(532)},$m={key:0},Km=[Xe(549)],Ym={key:1},qm={key:0,style:{background:Xe(553),"border-radius":Xe(559),border:Xe(603)}},Qm={style:{"font-size":"30px"}},Xm={key:1,style:{background:Xe(524),"border-radius":Xe(559),border:"3px solid green"}},Jm={key:2,style:{background:Xe(572)}},Zm={class:Xe(488)},ey={style:{"font-size":Xe(548)}},ty={style:{"font-size":"25px"}},ny=Nn({__name:Xe(496),setup(n){const e=Xe,t={JPXIx:e(519),ljqiJ:function(x){return x()},SPHlr:function(x,_){return x===_},AKIMV:function(x,_){return x+_},BMgTm:function(x,_){return x+_},wbGiG:function(x,_){return x+_},CfVeq:e(520),zhWzZ:e(552),DlXrY:function(x,_){return x===_},tVztr:function(x,_){return x===_},zlPSH:function(x,_){return x===_},VJWZA:function(x,_){return x===_},SmxjP:function(x,_){return x+_},BSami:function(x,_){return x+_},CHqRJ:e(587),OLDXb:function(x,_){return x+_},ThKxl:e(542),FjBsI:function(x,_){return x+_},dmTqZ:function(x,_){return x+_},Lauib:function(x,_,m,N){return x(_,m,N)},xpzyN:"div",XtcEK:function(x,_,m,N,R){return x(_,m,N,R)},LeDrE:e(527),hNrYY:function(x,_,m,N,R){return x(_,m,N,R)},XddEF:function(x,_){return x===_},mkycr:function(x,_,m,N){return x(_,m,N)},fTSnx:function(x,_,m,N,R){return x(_,m,N,R)},IegEc:function(x,_,m,N,R){return x(_,m,N,R)},ZuvCz:e(581),DRcZZ:function(x,_){return x===_},vHCdR:e(609),swOXP:function(x,_,m,N,R){return x(_,m,N,R)},bkVAp:function(x,_){return x===_},cCvzo:function(x,_,m,N,R){return x(_,m,N,R)},GoloO:function(x,_){return x(_)},HawXk:function(x,_){return x===_},HHCrw:function(x,_,m,N,R,q){return x(_,m,N,R,q)},cblYg:e(577),spkFg:function(x){return x()},iaLyD:function(x,_,m,N,R){return x(_,m,N,R)},bmWBr:function(x,_,m){return x(_,m)},MFckR:function(x,_){return x+_},ReMpf:function(x,_){return x(_)},FZGWr:e(583),pYShl:function(x,_,m){return x(_,m)},rwTAB:function(x,_,m,N){return x(_,m,N)},IFdTJ:function(x){return x()},wCgCY:function(x,_,m,N){return x(_,m,N)},hIWQz:e(489),lRZbY:function(x,_){return x(_)},GoxZG:function(x,_){return x(_)},mDIoj:function(x,_,m,N,R){return x(_,m,N,R)},zBIzE:function(x){return x()},KPPKA:function(x,_,m,N,R){return x(_,m,N,R)},aGwIw:e(533),wRXEj:function(x,_,m){return x(_,m)},blmnO:function(x,_,m,N,R){return x(_,m,N,R)},Xohfa:function(x,_,m,N,R){return x(_,m,N,R)},ysaHN:function(x,_,m,N,R){return x(_,m,N,R)},ZZwtn:e(564),ikbId:function(x,_,m,N){return x(_,m,N)},aOJzK:e(596),acnId:function(x,_){return x(_)},TXOWU:function(x,_){return x+_},WpIWm:function(x,_,m,N){return x(_,m,N)},xoRyc:e(503),vGyVR:function(x,_,m){return x(_,m)},IFkdZ:function(x,_,m,N,R){return x(_,m,N,R)},pHxIG:function(x,_,m,N){return x(_,m,N)},qkAWc:function(x,_,m,N,R){return x(_,m,N,R)},ITvmG:e(557),ozlwF:e(490),leBBg:function(x,_,m,N,R){return x(_,m,N,R)},uAUme:function(x,_,m,N,R){return x(_,m,N,R)},tyoJr:function(x,_){return x(_)},PDLVO:function(x,_,m,N,R){return x(_,m,N,R)},NuzKX:function(x,_,m,N,R){return x(_,m,N,R)},RLueL:function(x,_){return x(_)},ATmHt:function(x,_){return x(_)},zYWsZ:function(x,_,m,N,R){return x(_,m,N,R)},oEsBO:function(x,_,m,N,R){return x(_,m,N,R)},qqeWy:function(x,_){return x(_)},XJilS:function(x){return x()},Nawlx:function(x,_){return x(_)},cupPX:function(x,_){return x(_)},JxsUR:function(x,_,m){return x(_,m)},TCAse:function(x,_){return x(_)}},s=t[e(599)](Dn),i=t[e(530)](Re,0),r=t[e(538)](Re),o=t[e(605)](Re,1),l=Re(-1),c=["",e(609),e(591),e(491)];let a,h,p=t[e(523)](Re,!1);t.JxsUR(dt,()=>s[e(582)],x=>y(x));function y(x){const _=e;console[_(566)](t[_(508)],x),x||t.ljqiJ(L);let m=x&&Object[_(593)](x)[_(547)];if(r.value=x,t.SPHlr(m,2)){switch(a=+x[s.opponentId],h=+x[s.myId],t.AKIMV(t[_(522)](h,""),a)){case"21":case"32":case"13":l[_(584)]=0;break;case"12":case"23":case"31":l.value=1;break;case"22":case"33":case"11":l[_(584)]=2}o.value=2}}function C(){const x=e;s[x(500)](t.AKIMV(t[x(558)](t[x(586)](t.CfVeq,s[x(589)]),t.zhWzZ),s.myId),i[x(584)])[x(561)](_=>{const m=x;console[m(566)](m(543),_),p.value=!0})}function S(){const x=e;if(t[x(536)](l[x(584)],0)&&s.scoreOpp++,t[x(499)](l[x(584)],1)&&s[x(517)]++,t[x(529)](l[x(584)],0)||t[x(536)](l[x(584)],1)){let _="";t[x(510)](s[x(590)],0)&&(_=t[x(515)](t.wbGiG(s[x(517)],"::"),s[x(509)])),t[x(499)](s[x(590)],1)&&(_=t[x(558)](t.BSami(s.scoreOpp,"::"),s[x(517)])),s[x(500)](t[x(522)](t.CHqRJ,s[x(589)]),_)}s.removeField(t[x(586)](t[x(568)](t[x(573)],s[x(589)]),t.ThKxl)),L()}function L(){const x=e;o[x(584)]=1,i[x(584)]=0,p[x(584)]=!1}return t[e(505)](Es,()=>{const x=e;s[x(570)](t[x(540)](t.CfVeq,s[x(589)])+x(542)),s[x(570)](t.dmTqZ("/scores/",s[x(589)]))}),(x,_)=>{const m=e;return J(),t.Lauib(ne,t[m(528)],zm,[_[36]||(_[36]=b("br",null,null,-1)),_[37]||(_[37]=t[m(501)](b,"h2",null,t.LeDrE,-1)),_[38]||(_[38]=b("br",null,null,-1)),_[39]||(_[39]=t[m(585)](b,"br",null,null,-1)),t.XddEF(o[m(584)],1)?(t[m(562)](J),t[m(565)](ne,t[m(528)],$m,[_[5]||(_[5]=t[m(487)](b,"br",null,null,-1)),t[m(601)](b,t[m(531)],{class:gn({active:t.DRcZZ(i[m(584)],1)}),onClick:_[0]||(_[0]=N=>i[m(584)]=1)},t[m(504)],2),_[6]||(_[6]=b("br",null,null,-1)),_[7]||(_[7]=t.swOXP(b,"br",null,null,-1)),t[m(487)](b,t[m(531)],{class:gn({active:t[m(598)](i[m(584)],2)}),onClick:_[1]||(_[1]=N=>i[m(584)]=2)},m(591),2),_[8]||(_[8]=b("br",null,null,-1)),_[9]||(_[9]=b("br",null,null,-1)),t[m(579)](b,m(581),{class:t[m(608)](gn,{active:t[m(597)](i[m(584)],3)}),onClick:_[2]||(_[2]=N=>i.value=3)},m(491),2),_[10]||(_[10]=t.IegEc(b,"br",null,null,-1)),_[11]||(_[11]=b("br",null,null,-1)),_[12]||(_[12]=t.XtcEK(b,"br",null,null,-1)),_[13]||(_[13]=t[m(534)](b,"br",null,null,-1)),t[m(521)](b,t[m(531)],{class:m(554),disabled:!i.value||t[m(608)](le,p),onClick:_[3]||(_[3]=N=>C())},t[m(608)](xe,le(p)?m(525):t.cblYg),9,Km),_[14]||(_[14]=t[m(538)](oe)),_[15]||(_[15]=t.iaLyD(b,"br",null,null,-1)),t.bmWBr(oe,t.MFckR(" ",t[m(530)](xe,t[m(608)](le,p)?t[m(563)]:"")),1)])):t.pYShl(Ce,"",!0),t[m(529)](o[m(584)],2)?(t[m(562)](J),t[m(526)](ne,m(588),Ym,[l.value===0?(t.IFdTJ(J),t.wCgCY(ne,t[m(528)],qm,[_[16]||(_[16]=t[m(601)](b,"br",null,null,-1)),_[17]||(_[17]=b("br",null,null,-1)),_[18]||(_[18]=t[m(501)](b,"h3",null,t[m(551)],-1)),t[m(585)](b,"p",Qm,t[m(580)](xe,t[m(497)](le,s)[m(567)]),1),_[19]||(_[19]=t.mDIoj(b,"br",null,null,-1)),_[20]||(_[20]=t[m(601)](b,"br",null,null,-1))])):Ce("",!0),t[m(598)](l.value,1)?(t[m(574)](J),t.Lauib(ne,t.xpzyN,Xm,_[21]||(_[21]=[b("br",null,null,-1),t.KPPKA(b,"br",null,null,-1),t[m(579)](b,"h1",null,t[m(560)],-1),t[m(579)](b,"br",null,null,-1),b("br",null,null,-1)]))):t[m(550)](Ce,"",!0),l[m(584)]===2?(t[m(502)](J),t[m(592)](ne,t[m(528)],Jm,_[22]||(_[22]=[t.blmnO(b,"br",null,null,-1),t[m(595)](b,"br",null,null,-1),t[m(578)](b,"h1",null,t.ZZwtn,-1),b("br",null,null,-1),b("br",null,null,-1)]))):Ce("",!0),t[m(495)](b,t.xpzyN,null,[_[23]||(_[23]=b("br",null,null,-1)),t[m(610)](oe,t.dmTqZ(t.aOJzK,t[m(530)](xe,c[t[m(600)](le,h)])),1),_[24]||(_[24]=t[m(575)](b,"br",null,null,-1)),t[m(550)](oe,t[m(494)](" Соперник - ",t[m(497)](xe,c[t.lRZbY(le,a)])),1)]),_[25]||(_[25]=b("br",null,null,-1)),_[26]||(_[26]=t.hNrYY(b,"br",null,null,-1)),_[27]||(_[27]=b("br",null,null,-1)),_[28]||(_[28]=t[m(518)](b,"br",null,null,-1)),t.WpIWm(b,t[m(531)],{onClick:_[4]||(_[4]=N=>S())},t[m(576)])])):t[m(507)](Ce,"",!0),_[40]||(_[40]=t.KPPKA(b,"br",null,null,-1)),_[41]||(_[41]=t[m(539)](b,"br",null,null,-1)),t.wCgCY(b,t.xpzyN,Zm,[t.pHxIG(b,t[m(528)],null,[_[29]||(_[29]=t[m(535)](b,t[m(571)],null,t[m(594)],-1)),_[30]||(_[30]=t[m(513)](b,"br",null,null,-1)),t.uAUme(b,"b",null,t[m(607)](xe,le(s)[m(567)]),1),_[31]||(_[31]=t[m(545)](b,"br",null,null,-1)),t[m(493)](b,t[m(528)],ey,t[m(608)](xe,t[m(606)](le,s)[m(509)]),1)]),t[m(495)](b,m(588),null,[_[32]||(_[32]=t[m(501)](b,t.ITvmG,null,"Вы",-1)),_[33]||(_[33]=t[m(562)](oe)),_[34]||(_[34]=t[m(506)](b,"br",null,null,-1)),t.iaLyD(b,"b",null,t.acnId(xe,t[m(602)](le,s)[m(537)]),1),_[35]||(_[35]=t[m(498)](b,"br",null,null,-1)),t[m(555)](b,t.xpzyN,ty,t[m(604)](xe,t[m(607)](le,s)[m(517)]),1)])])])}}}),sy=Os(ny,[["__scopeId","data-v-3a07d5e3"]]),Ai=Pi;function Pi(n,e){const t=ki();return Pi=function(s,i){return s=s-180,t[s]},Pi(n,e)}(function(n,e){const t=Pi,s=n();for(;;)try{if(-parseInt(t(180))/1*(parseInt(t(187))/2)+parseInt(t(182))/3+-parseInt(t(195))/4+-parseInt(t(203))/5*(parseInt(t(191))/6)+parseInt(t(207))/7*(-parseInt(t(194))/8)+-parseInt(t(208))/9+parseInt(t(200))/10*(parseInt(t(183))/11)===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(ki,900224);function ki(){const n=["HnYmO","nuKZe","388489QioXsy","lookField","95391gGdVSj","11SWCHpd","20px","div","CwsNe","2DXaSyo","2_KrestikiNoliki","rama","EFYRW","12vkGbuQ","крестики нолики ANALIZ=","log","490872WxmhLs","934764OOWRba","/game","SjXOC"," << ","eRmqr","38428300oyhYux","AnpbT","uytzg","3532400HIWfzW"," Under construction ","value","FdbGt","21sZGfgZ","6796674HaGxnr","onValue",">> "];return ki=function(){return n},ki()}const iy={class:Ai(189)},ry={style:{"font-size":Ai(184)}},oy=Nn({__name:Ai(188),setup(n){const e=Ai,t={HnYmO:e(192),AnpbT:e(185),CwsNe:function(o,l,c,a,h){return o(l,c,a,h)},EFYRW:function(o,l,c,a,h){return o(l,c,a,h)},PPGgy:"Крестики нолики",FdbGt:function(o,l,c,a,h){return o(l,c,a,h)},SjXOC:function(o,l){return o(l)},uytzg:e(204),lwISX:function(o,l,c,a,h){return o(l,c,a,h)},DCxiy:e(198),eRmqr:e(210),nuKZe:function(o){return o()},EhwtO:function(o,l){return o(l)}},s=t.nuKZe(Dn),i=t[e(212)](Re);dt(()=>s[e(181)],o=>r(o));function r(o){const l=e;console[l(193)](t[l(211)],o),i.value=o}return t.EhwtO(Es,()=>s[e(209)]("/games/"+s.gameLink+e(196))),(o,l)=>{const c=e;return J(),ne(t[c(201)],iy,[l[0]||(l[0]=t[c(186)](b,"br",null,null,-1)),l[1]||(l[1]=t[c(190)](b,"h2",null,t.PPGgy,-1)),l[2]||(l[2]=t[c(206)](b,"br",null,null,-1)),l[3]||(l[3]=b("br",null,null,-1)),l[4]||(l[4]=t.SjXOC(oe,t[c(202)])),l[5]||(l[5]=t.lwISX(b,"br",null,null,-1)),l[6]||(l[6]=t[c(197)](oe,t.DCxiy)),b("b",ry,t[c(197)](xe,i[c(205)]),1),l[7]||(l[7]=t[c(197)](oe,t[c(199)]))])}}}),ly=Os(oy,[["__scopeId","data-v-88731bf9"]]),fo=Di;(function(n,e){const t=Di,s=n();for(;;)try{if(-parseInt(t(174))/1+-parseInt(t(165))/2+-parseInt(t(147))/3*(parseInt(t(150))/4)+-parseInt(t(167))/5+-parseInt(t(152))/6+parseInt(t(169))/7*(-parseInt(t(170))/8)+parseInt(t(156))/9===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Oi,851314);const cy={class:"rama"},ay={style:{"font-size":fo(172)}};function Oi(){const n=["1213396TcciKn","/games/","2134860tToKtb","ZaWUB","1294741chpwKv","40dnhAGu","Морской бой ANALIZ=","20px","onValue","1525960BBxwIj","sBCjd","ieYeh","DYaDA","/game","Морской бой","4740261RRBrdk","lCVuN","wkQfA","4vfgwhd","gameLink","2552142kacIjG","VTlES","gazqK"," >> ","57070827bijdti","SzNFG"," Under construction ","log","DItKV","div","value"," << ","3_SeaWar"];return Oi=function(){return n},Oi()}function Di(n,e){const t=Oi();return Di=function(s,i){return s=s-147,t[s]},Di(n,e)}const uy=Nn({__name:fo(164),setup(n){const e=fo,t={VTlES:e(171),DItKV:function(o){return o()},sBCjd:function(o,l,c,a){return o(l,c,a)},SMKDX:e(161),gazqK:function(o,l,c,a,h){return o(l,c,a,h)},DYaDA:e(158),SzNFG:function(o,l){return o(l)},wkQfA:e(163),ZaWUB:function(o,l,c,a,h){return o(l,c,a,h)},ieYeh:e(155),lCVuN:function(o,l,c){return o(l,c)},VuSvi:function(o,l){return o(l)}},s=t[e(160)](Dn),i=t[e(160)](Re);t[e(148)](dt,()=>s.lookField,o=>r(o));function r(o){const l=e;console[l(159)](t[l(153)],o),i.value=o}return t.VuSvi(Es,()=>s[e(173)](e(166)+s[e(151)]+e(178))),(o,l)=>{const c=e;return t[c(160)](J),t[c(175)](ne,t.SMKDX,cy,[l[0]||(l[0]=b("br",null,null,-1)),l[1]||(l[1]=t[c(154)](b,"h2",null,c(179),-1)),l[2]||(l[2]=b("br",null,null,-1)),l[3]||(l[3]=b("br",null,null,-1)),l[4]||(l[4]=oe(t[c(177)])),l[5]||(l[5]=t[c(154)](b,"br",null,null,-1)),l[6]||(l[6]=t[c(157)](oe,t[c(149)])),t[c(168)](b,"b",ay,t[c(157)](xe,i[c(162)]),1),l[7]||(l[7]=t.SzNFG(oe,t[c(176)]))])}}}),fy=Os(uy,[["__scopeId","data-v-5ed39d34"]]),hy={__name:"App",setup(n){const e=Dn();let t=xh(Gm);dt(()=>e.playNumber,i=>s(i));function s(i){switch(i){case 1:t.value=sy;break;case 2:t.value=ly;break;case 3:t.value=fy;break}}return Es(()=>{var r,o,l;let i=(r=window.Telegram)==null?void 0:r.WebApp;i&&(e.myId=((o=i.initDataUnsafe.user)==null?void 0:o.id)||0,e.myName=((l=i.initDataUnsafe.user)==null?void 0:l.username)||"",e.myId||setTimeout(()=>{e.myId=e.myId||parseInt(String(Math.random()*1e3)),e.myName=e.nickName||e.myName||"Имя_"+parseInt(String(Math.random()*100)),location.host.includes("localhost")&&(e.myId=953446309)},500))}),(i,r)=>(J(),Ga(zh(le(t))))}},Bc=Fi;(function(n,e){const t=Fi,s=n();for(;;)try{if(parseInt(t(483))/1+parseInt(t(479))/2*(-parseInt(t(481))/3)+-parseInt(t(474))/4+parseInt(t(477))/5+parseInt(t(475))/6*(-parseInt(t(480))/7)+-parseInt(t(476))/8+parseInt(t(478))/9===e)break;s.push(s.shift())}catch{s.push(s.shift())}})(Mi,507770);function Mi(){const n=["224lLdDgg","28mnrUtD","17247NeOdIz","#app","687888vdWjvs","mount","612796qYZgsL","1184826jFNrvQ","4144664wzJYlF","4313015ueHPoM","9560997CkyZof"];return Mi=function(){return n},Mi()}function Fi(n,e){const t=Mi();return Fi=function(s,i){return s=s-474,t[s]},Fi(n,e)}const dy=ap(),Wc=op(hy);Wc.use(dy),Wc[Bc(484)](Bc(482));
