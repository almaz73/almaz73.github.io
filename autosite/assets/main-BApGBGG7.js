(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();window.cars=[{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/1/p1.jpg","/photo-offers/1/p2.jpg","/photo-offers/1/p3.jpg","/photo-offers/1/p4.jpg","/photo-offers/1/p5.jpg","/photo-offers/1/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/2/p1.jpg","/photo-offers/2/p2.jpg","/photo-offers/2/p3.jpg","/photo-offers/2/p4.jpg","/photo-offers/2/p5.jpg","/photo-offers/2/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/2/p1.jpg","/photo-offers/2/p2.jpg","/photo-offers/2/p3.jpg","/photo-offers/2/p4.jpg","/photo-offers/2/p5.jpg","/photo-offers/2/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/1/p1.jpg","/photo-offers/1/p2.jpg","/photo-offers/1/p3.jpg","/photo-offers/1/p4.jpg","/photo-offers/1/p5.jpg","/photo-offers/1/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/2/p1.jpg","/photo-offers/2/p2.jpg","/photo-offers/2/p3.jpg","/photo-offers/2/p4.jpg","/photo-offers/2/p5.jpg","/photo-offers/2/p6.jpg"]}];let y=document.querySelector(".comb__items"),L=document.querySelector(".comb_field"),k=document.querySelector(".comb__selected"),T=document.querySelector(".comb_field img"),I=localStorage.getItem("selectedCity");L&&(k.innerHTML=I||"Россия",document.addEventListener("click",()=>q(!1)),L.addEventListener("click",e=>O(e)),y.addEventListener("click",e=>R(e)));function R(e){let t=e.target.innerText;if(t.length>30)return!1;k.innerHTML=t,localStorage.setItem("selectedCity",t)}function O(e){q(y.style.display!=="block"),e.stopPropagation()}function q(e){y.style.display=e?"block":"none",T.style.rotate=e?"180deg":"0deg"}let $=document.querySelector("#innerCity"),b=document.querySelector(".form__modal-place--group input"),F=["Альметьевск","Астрахань","Бугульма","Буинск","Екатеринбург","Казань","Магнитогорск","Набережные Челны","Нижнекамск","Нижний Тагил","Оренбург","Самара","Саранск","Стерлитамак","Тольятти","Тула","Ульяновск","Уфа"],B=["А","Б","Е","К","М","Н","О","С","Т","У"];function j(e){let t="";B.forEach(r=>{let l=F.filter(s=>s.slice(0,1)===r),o="";l.forEach(s=>{let i=e&&s.toUpperCase().includes(e)?" class='yel'":"";console.log(s,"yel = ",i),o+=`<li><a href="#"><span ${i}>${s}</span></a></li>`}),t+=`<div class="modal-place__box">
<div><div class="letter">${r}</div><ul>${o}</ul></div></div>`}),$.innerHTML=t}b.addEventListener("input",e=>{j(b.value.toUpperCase())});let w=document.querySelector(".button__burger"),E=document.querySelector(".main-nav.menu"),S=document.querySelector(".button__burger"),p=document.querySelector(".main-nav.cities"),V=document.querySelector(".footer-city-button"),W=document.querySelector(".modal-place__close"),c;function g(e){e?(document.body.style.overflow="hidden",document.body.clientWidth>500&&(document.body.style.marginRight="14px")):(document.body.style.overflow="auto",document.body.clientWidth>500&&(document.body.style.marginRight="0"))}w&&w.addEventListener("click",()=>{if(c)return c=!1,p.style.transform="translateX(150vw)",!1;c=E.style.transform!=="none",E.style.transform=c?"none":"translateX(150vw)",g(c),c?(S.classList.add("close"),c=!1):S.classList.remove("close")});V.addEventListener("click",()=>{c=p.style.transform!=="none",c&&(p.style.transform="none",p.style.backgroundColor="white"),g(c),j()});W.addEventListener("click",()=>{p.style.transform="translateX(150vw)",g(!1)});let X=document.querySelector("#cookie-accept"),P=document.querySelector("#cookie-banner"),x=localStorage.getItem("isCoockieBannerShow");x||P.classList.add("show");X.addEventListener("click",()=>{localStorage.setItem("isCoockieBannerShow",new Date().toISOString()),P.classList.remove("show")});function M(e){let t=document.getElementById("ya_map");t.style.display=t.style.display==="block"?"none":"block",e!==void 0&&(t.style.display=e?"block":"none")}window.open_YA_map=M;document.addEventListener("keydown",e=>{e.key==="Escape"&&M(!1)});const n=document.getElementById("mainPhoto");n&&n.addEventListener("click",function(){n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()});let f=document.querySelector("cards");function A(e,t){let r=`<div class='cart' id='galery_${t}'>
                <div class='cart__slide'>                    
                    <img class='photo' alt=''>
                    <div class='cart__blank'>${e.address}</div>
                    <div class='field'>
                        <div class='red'></div>
                    </div>
                    <span class='dark'/>                    
                </div>
                <div class='name'>
                    <br>
                    <a href='${e.href}'> ${e.name}</a>
                </div>
                <div class='cart__price'>
                    <div class='total'>${e.price} ₽</div>
                    <div class='cart__of'> от 8&nbsp;700&nbsp;₽/мес</div>
                </div>
                <div class='cart__info'>
                    ${e.info}
                </div>
                <div class='cart__box--bottom'>
                <a href='#'>
                    <img src='/icons/compare_cars.svg' alt=''>
                </a>
                <a href='#'>
                    <img src='/icons/penta.svg' alt=''>
                </a>
            </div>
            </div>`;f.innerHTML+=r}function D(e,t){const r=document.querySelector("#galery_"+e+" .cart__slide");if(window.current_slide=null,!r)return!1;const l=r.querySelector(".photo"),o=r.querySelector(".cart .red");let s,i,a=0;l.src="/photo-offers/"+e+"/p1.jpg",l.addEventListener("mousemove",d=>{let _=parseInt(d.layerX*100/h/16.5-.1);l.src=t[_],o.style.left=_*16.5+"%"}),r.addEventListener("mouseleave",()=>{l.src=t[0],o.style.left="0%"}),r.addEventListener("touchstart",d=>s=d.targetTouches[0].pageX-r.offsetLeft),r.addEventListener("touchmove",d=>i=d.targetTouches[0].pageX-r.offsetLeft),r.addEventListener("touchend",()=>{s>i?a++:a--,a>5&&(a=5),a<0&&(a=0),l.src=t[a],o.style.left=a*16.5+"%"}),r.addEventListener("click",()=>{if(document.body.clientWidth<500)return!1;r.classList.toggle("watch"),window.current_slide=r,v()})}cars=cars.concat(cars);cars=cars.concat(cars);let C="https://fmap.ru/autosite";console.log("VITE_PROD_URL = ",C);cars.forEach((e,t)=>A(e,t+1));cars.forEach((e,t)=>D(t+1,C+e.photos));let u=document.querySelector(".type_views"),h,v=()=>{h=document.querySelector("cards .cart__slide").clientWidth,current_slide&&(h=current_slide.clientWidth)};document.addEventListener("DOMContentLoaded",()=>v());window.addEventListener("resize",()=>current_slide&&current_slide.classList.remove("watch"));u.addEventListener("click",e=>{for(let t in u.children)u.children[t].classList&&u.children[t].classList.remove("active");f.classList=[],v(),e.srcElement.classList.value==="dot8"&&f.classList.add("cards","dot8"),e.srcElement.classList.value==="dot4"&&f.classList.add("cards","dot4"),e.srcElement.classList.value==="dot1"&&f.classList.add("cards","dot1"),e.srcElement.classList.add("active")});document.addEventListener("keydown",e=>e.key==="Escape"&&current_slide&&current_slide.classList.toggle("watch"));let m=document.querySelector(".type_views.coin");m.addEventListener("click",e=>{let t=m.querySelector("img").style.rotate!=="180deg";m.querySelector("img").style.rotate=t?"180deg":"0deg",console.log("запрос нужен more = ",t)});
