(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();window.cars=[{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/1/p1.jpg","/photo-offers/1/p2.jpg","/photo-offers/1/p3.jpg","/photo-offers/1/p4.jpg","/photo-offers/1/p5.jpg","/photo-offers/1/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/2/p1.jpg","/photo-offers/2/p2.jpg","/photo-offers/2/p3.jpg","/photo-offers/2/p4.jpg","/photo-offers/2/p5.jpg","/photo-offers/2/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/2/p1.jpg","/photo-offers/2/p2.jpg","/photo-offers/2/p3.jpg","/photo-offers/2/p4.jpg","/photo-offers/2/p5.jpg","/photo-offers/2/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/1/p1.jpg","/photo-offers/1/p2.jpg","/photo-offers/1/p3.jpg","/photo-offers/1/p4.jpg","/photo-offers/1/p5.jpg","/photo-offers/1/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/2/p1.jpg","/photo-offers/2/p2.jpg","/photo-offers/2/p3.jpg","/photo-offers/2/p4.jpg","/photo-offers/2/p5.jpg","/photo-offers/2/p6.jpg"]}];let v=document.querySelector(".comb__items"),w=document.querySelector(".comb_field"),j=document.querySelector(".comb__selected"),I=document.querySelector(".comb_field img"),$=localStorage.getItem("selectedCity");w&&(j.innerHTML=$||"Россия",document.addEventListener("click",()=>P(!1)),w.addEventListener("click",e=>R(e)),v.addEventListener("click",e=>O(e)));function O(e){let t=e.target.innerText;if(t.length>30)return!1;j.innerHTML=t,localStorage.setItem("selectedCity",t)}function R(e){P(v.style.display!=="block"),e.stopPropagation()}function P(e){v.style.display=e?"block":"none",I.style.rotate=e?"180deg":"0deg"}let B=document.querySelector("#innerCity"),E=document.querySelector(".form__modal-place--group input"),F=["Альметьевск","Астрахань","Бугульма","Буинск","Екатеринбург","Казань","Магнитогорск","Набережные Челны","Нижнекамск","Нижний Тагил","Оренбург","Самара","Саранск","Стерлитамак","Тольятти","Тула","Ульяновск","Уфа"],z=["А","Б","Е","К","М","Н","О","С","Т","У"];function M(e){let t="";z.forEach(r=>{let n=F.filter(s=>s.slice(0,1)===r),o="";n.forEach(s=>{let i=e&&s.toUpperCase().includes(e)?" class='yel'":"";console.log(s,"yel = ",i),o+=`<li><a href="#"><span ${i}>${s}</span></a></li>`}),t+=`<div class="modal-place__box">
<div><div class="letter">${r}</div><ul>${o}</ul></div></div>`}),B.innerHTML=t}E.addEventListener("input",e=>{M(E.value.toUpperCase())});let S=document.querySelector(".button__burger"),k=document.querySelector(".main-nav.menu"),q=document.querySelector(".button__burger"),p=document.querySelector(".main-nav.cities"),W=document.querySelector(".footer-city-button"),x=document.querySelector(".modal-place__close"),l;function _(e){e?(document.body.style.overflow="hidden",document.body.clientWidth>500&&(document.body.style.marginRight="14px")):(document.body.style.overflow="auto",document.body.clientWidth>500&&(document.body.style.marginRight="0"))}S&&S.addEventListener("click",()=>{if(l)return l=!1,p.style.transform="translateX(150vw)",!1;l=k.style.transform!=="none",k.style.transform=l?"none":"translateX(150vw)",_(l),l?(q.classList.add("close"),l=!1):q.classList.remove("close")});W.addEventListener("click",()=>{l=p.style.transform!=="none",l&&(p.style.transform="none",p.style.backgroundColor="white"),_(l),M()});x.addEventListener("click",()=>{p.style.transform="translateX(150vw)",_(!1)});let V=document.querySelector("#cookie-accept"),C=document.querySelector("#cookie-banner"),X=localStorage.getItem("isCoockieBannerShow");X||C.classList.add("show");V.addEventListener("click",()=>{localStorage.setItem("isCoockieBannerShow",new Date().toISOString()),C.classList.remove("show")});function T(e){let t=document.getElementById("ya_map");t.style.display=t.style.display==="block"?"none":"block",e!==void 0&&(t.style.display=e?"block":"none")}window.open_YA_map=T;document.addEventListener("keydown",e=>{e.key==="Escape"&&T(!1)});const c=document.getElementById("mainPhoto");c&&c.addEventListener("click",function(){c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()});let f=document.querySelector("cards"),u="https://fmap.ru/autosite";function A(e,t){let r=`<div class='cart' id='galery_${t}'>
                <div class='cart__slide'>                    
                    <img class='photo' alt=''>
                    <div class='cart__blank'>${e.address}</div>
                    <div class='field'>
                        <div class='red'></div>
                    </div>
                    <span class='dark-fon'/>                    
                </div>
                <div class='name'>
                    <br>
                    <a href='${e.href}'> ${e.name}</a>
                </div>
                <div class='cart__price'>
                    <div class='total'>${e.price} ₽</div>
                    <div class='cart__of'> от 8&nbsp;700&nbsp;₽/мес</div>
                </div>
                <div class='cart__info'>
                    ${e.info}
                </div>
                <div class='cart__box--bottom'>
                <a href='#'>
                    <img src='/icons/compare_cars.svg' alt=''>
                </a>
                <a href='#'>
                    <img src='/icons/penta.svg' alt=''>
                </a>
            </div>
            </div>`;f.innerHTML+=r}function H(e,t){const r=document.querySelector("#galery_"+e+" .cart__slide");if(window.current_slide=null,!r)return!1;const n=r.querySelector(".photo"),o=r.querySelector(".cart .red");let s,i,a=0;n.src=u+"/photo-offers/"+e+"/p1.jpg",n.addEventListener("mousemove",d=>{let b=parseInt(d.layerX*100/g/16.5-.1);n.src=u+t[b],o.style.left=b*16.5+"%"}),r.addEventListener("mouseleave",()=>{n.src=u+t[0],o.style.left="0%"}),r.addEventListener("touchstart",d=>s=d.targetTouches[0].pageX-r.offsetLeft),r.addEventListener("touchmove",d=>i=d.targetTouches[0].pageX-r.offsetLeft),r.addEventListener("touchend",()=>{s>i?a++:a--,a>5&&(a=5),a<0&&(a=0),n.src=u+t[a],o.style.left=a*16.5+"%"}),r.addEventListener("click",()=>{if(document.body.clientWidth<500)return!1;r.classList.toggle("watch"),window.current_slide=r,L()})}cars=cars.concat(cars).concat(cars);cars.forEach((e,t)=>A(e,t+1));cars.forEach((e,t)=>H(t+1,e.photos));let m=document.querySelector(".type_views"),g,L=()=>{g=document.querySelector("cards .cart__slide").clientWidth,current_slide&&(g=current_slide.clientWidth)};document.addEventListener("DOMContentLoaded",()=>L());window.addEventListener("resize",()=>current_slide&&current_slide.classList.remove("watch"));m.addEventListener("click",e=>{for(let t in m.children)m.children[t].classList&&m.children[t].classList.remove("active");f.classList=[],L(),e.srcElement.classList.value==="dot8"&&f.classList.add("cards","dot8"),e.srcElement.classList.value==="dot4"&&f.classList.add("cards","dot4"),e.srcElement.classList.value==="dot1"&&f.classList.add("cards","dot1"),e.srcElement.classList.add("active")});document.addEventListener("keydown",e=>e.key==="Escape"&&current_slide&&current_slide.classList.toggle("watch"));let y=document.querySelector(".type_views.coin");y&&y.addEventListener("click",e=>{let t=y.querySelector("img").style.rotate!=="180deg";y.querySelector("img").style.rotate=t?"180deg":"0deg",console.log("запрос нужен more = ",t)});let N=document.querySelector(".filter__controls-info-button"),h=document.querySelector(".tires_sizes"),D=document.querySelector(".tires_sizes .x"),U=document.querySelector(".tires_sizes .dark-fon");N.addEventListener("click",()=>{h.classList.add("watch")});U.addEventListener("click",()=>{h.classList.remove("watch")});D.addEventListener("click",()=>{h.classList.remove("watch")});document.addEventListener("keydown",e=>{e.key==="Escape"&&h.classList.remove("watch")});
