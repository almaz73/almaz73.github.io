(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();window.cars=[{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/1/p1.jpg","/photo-offers/1/p2.jpg","/photo-offers/1/p3.jpg","/photo-offers/1/p4.jpg","/photo-offers/1/p5.jpg","/photo-offers/1/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/2/p1.jpg","/photo-offers/2/p2.jpg","/photo-offers/2/p3.jpg","/photo-offers/2/p4.jpg","/photo-offers/2/p5.jpg","/photo-offers/2/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/2/p1.jpg","/photo-offers/2/p2.jpg","/photo-offers/2/p3.jpg","/photo-offers/2/p4.jpg","/photo-offers/2/p5.jpg","/photo-offers/2/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/1/p1.jpg","/photo-offers/1/p2.jpg","/photo-offers/1/p3.jpg","/photo-offers/1/p4.jpg","/photo-offers/1/p5.jpg","/photo-offers/1/p6.jpg"]},{address:"Набережные Челны, Мусы Джалиля 15",name:"Volkswagen Polo, 2014",href:"/cars/polo/649868/",price:"784 238",fromPerMonth:"8 700",info:"133&nbsp;055 км, 1.6 MT (85 л.с), седан, передний, бензин",photos:["/photo-offers/2/p1.jpg","/photo-offers/2/p2.jpg","/photo-offers/2/p3.jpg","/photo-offers/2/p4.jpg","/photo-offers/2/p5.jpg","/photo-offers/2/p6.jpg"]}];let _=document.querySelector(".comb__items"),w=document.querySelector(".comb_field"),P=document.querySelector(".comb__selected"),$=document.querySelector(".comb_field img"),O=localStorage.getItem("selectedCity");w&&(P.innerHTML=O||"Россия",document.addEventListener("click",()=>M(!1)),w.addEventListener("click",e=>B(e)),_.addEventListener("click",e=>R(e)));function R(e){let t=e.target.innerText;if(t.length>30)return!1;P.innerHTML=t,localStorage.setItem("selectedCity",t)}function B(e){M(_.style.display!=="block"),e.stopPropagation()}function M(e){_.style.display=e?"block":"none",$.style.rotate=e?"180deg":"0deg"}let F=document.querySelector("#innerCity"),E=document.querySelector(".form__modal-place--group input"),z=["Альметьевск","Астрахань","Бугульма","Буинск","Екатеринбург","Казань","Магнитогорск","Набережные Челны","Нижнекамск","Нижний Тагил","Оренбург","Самара","Саранск","Стерлитамак","Тольятти","Тула","Ульяновск","Уфа"],W=["А","Б","Е","К","М","Н","О","С","Т","У"];function C(e){let t="";W.forEach(s=>{let n=z.filter(r=>r.slice(0,1)===s),o="";n.forEach(r=>{let i=e&&r.toUpperCase().includes(e)?" class='yel'":"";o+=`<li><a href="#"><span ${i}>${r}</span></a></li>`}),t+=`<div class="modal-place__box">
<div><div class="letter">${s}</div><ul>${o}</ul></div></div>`}),F.innerHTML=t}E.addEventListener("input",e=>{C(E.value.toUpperCase())});let S=document.querySelector(".button__burger"),k=document.querySelector(".main-nav.menu"),q=document.querySelector(".button__burger"),p=document.querySelector(".main-nav.cities"),x=document.querySelector(".footer-city-button"),V=document.querySelector(".modal-place__close"),l;function L(e){e?(document.body.style.overflow="hidden",document.body.clientWidth>500&&(document.body.style.marginRight="14px")):(document.body.style.overflow="auto",document.body.clientWidth>500&&(document.body.style.marginRight="0"))}S&&S.addEventListener("click",()=>{if(l)return l=!1,p.style.transform="translateX(150vw)",!1;l=k.style.transform!=="none",k.style.transform=l?"none":"translateX(150vw)",L(l),l?(q.classList.add("close"),l=!1):q.classList.remove("close")});x.addEventListener("click",()=>{l=p.style.transform!=="none",l&&(p.style.transform="none",p.style.backgroundColor="white"),L(l),C()});V.addEventListener("click",()=>{p.style.transform="translateX(150vw)",L(!1)});let X=document.querySelector("#cookie-accept"),T=document.querySelector("#cookie-banner"),A=localStorage.getItem("isCoockieBannerShow");A||T.classList.add("show");X.addEventListener("click",()=>{localStorage.setItem("isCoockieBannerShow",new Date().toISOString()),T.classList.remove("show")});function I(e){let t=document.getElementById("ya_map");t.style.display=t.style.display==="block"?"none":"block",e!==void 0&&(t.style.display=e?"block":"none")}window.open_YA_map=I;document.addEventListener("keydown",e=>{e.key==="Escape"&&I(!1)});const c=document.getElementById("mainPhoto");c&&c.addEventListener("click",function(){c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()});let f=document.querySelector("cards"),u="https://fmap.ru/autosite";function H(e,t){let s=`<div class='cart' id='galery_${t}'>
                <div class='cart__slide'>                    
                    <img class='photo' alt=''>
                    <div class='cart__blank'>${e.address}</div>
                    <div class='field'>
                        <div class='red'></div>
                    </div>
                    <span class='dark-fon'/>                    
                </div>
                <div class='name'>
                    <br>
                    <a href='${e.href}'> ${e.name}</a>
                </div>
                <div class='cart__price'>
                    <div class='total'>${e.price} ₽</div>
                    <div class='cart__of'> от 8&nbsp;700&nbsp;₽/мес</div>
                </div>
                <div class='cart__info'>
                    ${e.info}
                </div>
                <div class='cart__box--bottom'>
                <a href='#'>
                    <img src='/icons/compare_cars.svg' alt=''>
                </a>
                <a href='#'>
                    <img src='/icons/penta.svg' alt=''>
                </a>
            </div>
            </div>`;f.innerHTML+=s}function N(e,t){const s=document.querySelector("#galery_"+e+" .cart__slide");if(window.current_slide=null,!s)return!1;const n=s.querySelector(".photo"),o=s.querySelector(".cart .red");let r,i,a=0;n.src=u+"/photo-offers/"+e+"/p1.jpg",n.addEventListener("mousemove",d=>{let b=parseInt(d.layerX*100/v/16.5-.1);n.src=u+t[b],o.style.left=b*16.5+"%"}),s.addEventListener("mouseleave",()=>{n.src=u+t[0],o.style.left="0%"}),s.addEventListener("touchstart",d=>r=d.targetTouches[0].pageX-s.offsetLeft),s.addEventListener("touchmove",d=>i=d.targetTouches[0].pageX-s.offsetLeft),s.addEventListener("touchend",()=>{r>i?a++:a--,a>5&&(a=5),a<0&&(a=0),n.src=u+t[a],o.style.left=a*16.5+"%"}),s.addEventListener("click",()=>{if(document.body.clientWidth<500)return!1;s.classList.toggle("watch"),window.current_slide=s,g()})}cars=cars.concat(cars).concat(cars);cars.forEach((e,t)=>H(e,t+1));cars.forEach((e,t)=>N(t+1,e.photos));let m=document.querySelector(".type_views"),v,g=()=>{v=document.querySelector("cards .cart__slide").clientWidth,current_slide&&(v=current_slide.clientWidth)};document.addEventListener("DOMContentLoaded",()=>g());window.addEventListener("resize",()=>current_slide&&current_slide.classList.remove("watch"));m.addEventListener("click",e=>{for(let t in m.children)m.children[t].classList&&m.children[t].classList.remove("active");f.classList=[],g(),e.srcElement.classList.value==="dot8"&&f.classList.add("cards","dot8"),e.srcElement.classList.value==="dot4"&&f.classList.add("cards","dot4"),e.srcElement.classList.value==="dot1"&&f.classList.add("cards","dot1"),e.srcElement.classList.add("active")});document.addEventListener("keydown",e=>{e.key==="Escape"&&current_slide&&(current_slide.classList.remove("watch"),g())});let h=document.querySelector(".type_views.coin");h&&h.addEventListener("click",e=>{let t=h.querySelector("img").style.rotate!=="180deg";h.querySelector("img").style.rotate=t?"180deg":"0deg",console.log("запрос нужен more = ",t)});let j=document.querySelector(".filter__controls-info-button"),y=document.querySelector(".tires_sizes"),D=document.querySelector(".tires_sizes .x"),U=document.querySelector(".tires_sizes .dark-fon");j&&(j.addEventListener("click",()=>{y.classList.add("watch")}),U.addEventListener("click",()=>{y.classList.remove("watch")}),D.addEventListener("click",()=>{y.classList.remove("watch")}),document.addEventListener("keydown",e=>{e.key==="Escape"&&y.classList.remove("watch")}));
