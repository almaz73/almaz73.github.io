<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta content="По уроку https://www.youtube.com/watch?v=-UOkri_WNWQ">
    <title>FIREBASE</title>
</head>

<body onload="init()">

    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>
    <!--script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-analytics.js"></script-->
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>


    <script>
        let db;
        function init() {
            var firebaseConfig = {
                apiKey: "AIzaSyBG-JTEatQGl7crnowv5fD7MuHSTpVwhpw",
                authDomain: "myexperiment-169dd.firebaseapp.com",
                databaseURL: "https://myexperiment-169dd.firebaseio.com",
                projectId: "myexperiment-169dd",
                storageBucket: "myexperiment-169dd.appspot.com",
                messagingSenderId: "382700959515",
                appId: "1:382700959515:web:b61b2a07505b9e712ac5be"
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            //firebase.analytics();





        ;
            db.collection("users").add({
                first: "Ada",
                last: "Lovelace",
                born: 1815
            })
                .then(function (docRef) {
                    console.log("!!! Document written with ID: ", docRef.id);
                })
                .catch(function (error) {
                    console.error(" ??? Error adding document: ", error);
                });

            var ref = db.collection("users")
            //var rootRef = ref.child('graduate')
            console.log("%c # ", "background: orange", "ref=", ref)
        }

        function writeDate() {
            db.collection('Users').add({
                name: document.getElementById("nameField").value,
                age: document.getElementById("ageField").value
            }).then(
                res => console.log('%c ### ', 'background:green', 'el=', res),
                err => console.log('%c ### ', 'background:red', 'err=', err)
            )
        }
    </script>

    <h1>
        FireBase пользователь</h1>
    <input type="text" placeholder="name" id="nameField">
    <input type="text" placeholder="age" id="ageField">
    <button onclick="writeDate()">Сохранить</button>

</body>

</html>