<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta content="По уроку https://www.youtube.com/watch?v=-UOkri_WNWQ">
    <title>FIREBASE</title>
</head>

<body onload="init()">

    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>


    <script>
        let db;
        function init() {
            var firebaseConfig = {
                apiKey: "AIzaSyC9MFjGUm44V3_NLfrqbFGS7iVJM1ZJBUI",
                authDomain: "experiment2-20816.firebaseapp.com",
                databaseURL: "https://experiment2-20816.firebaseio.com",
                projectId: "experiment2-20816",
                storageBucket: "experiment2-20816.appspot.com",
                messagingSenderId: "49226698830",
                appId: "1:49226698830:web:1bb5c8c25fb071bd55331f",
                measurementId: "G-BTT7V981G7"
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            firebase.analytics();

            db = firebase.firestore();
            db.collection("users").add({
                first: "Ada",
                last: "Lovelace",
                born: 1815
            })
                .then(function (docRef) {
                    console.log("!!! Document written with ID: ", docRef.id);
                })
                .catch(function (error) {
                    console.error(" ??? Error adding document: ", error);
                });

        }

        function writeDate() {
            db.collection('Users').add({
                name: document.getElementById("nameField").value,
                age: document.getElementById("ageField").value
            }).then(
                res => console.log('%c ### ', 'background:green', 'el=', res),
                err => console.log('%c ### ', 'background:red', 'err=', err)
            )
        }
    </script>

    <h1>
        FireBase пользователь</h1>
    <input type="text" placeholder="name" id="nameField">
    <input type="text" placeholder="age" id="ageField">
    <button onclick="writeDate()">Сохранить</button>

</body>

</html>